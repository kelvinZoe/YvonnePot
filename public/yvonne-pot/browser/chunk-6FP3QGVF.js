import{$ as R,A as h,B as i,C as o,E as f,G as _,H as p,L as r,M as T,N as w,O as x,P as b,Q as L,R as E,S as v,T as V,Y as k,_ as I,a as M,ab as B,b as O,ba as W,ca as N,db as G,e as C,ea as z,fb as H,ga as A,gb as J,ha as F,i as c,j as g,ka as j,la as q,r as a,u as S,ua as D,va as U,x as u,z as P}from"./chunk-656LFS7W.js";var K=(()=>{class t{constructor(){this.Auth=C(B)}signUp(e,s){return M(this,null,function*(){try{return yield G(this.Auth,e,s)}catch(n){throw console.error("Error signing up:",n),n}})}signIn(e,s){return M(this,null,function*(){try{return yield H(this.Auth,e,s)}catch(n){throw n}})}signOut(){return M(this,null,function*(){try{yield J(this.Auth),console.log("User signed out")}catch(e){throw console.error("Error signing out:",e),e}})}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var X=(t,l)=>({"bg-success":t,"bg-danger":l});function Y(t,l){t&1&&(i(0,"p",2),r(1,"Register "),o())}function Z(t,l){t&1&&(i(0,"p",2),r(1,"Login "),o())}function $(t,l){t&1&&(i(0,"p",4),r(1,"Register now and get full access."),o())}function ee(t,l){t&1&&(i(0,"p",4),r(1,"Login now and get full access. "),o())}function te(t,l){if(t&1){let e=f();i(0,"label")(1,"input",11),b("ngModelChange",function(n){c(e);let m=p();return x(m.confirmPassword,n)||(m.confirmPassword=n),g(n)}),o(),i(2,"span"),r(3,"Confirm password"),o()()}if(t&2){let e=p();a(),w("ngModel",e.confirmPassword)}}function ne(t,l){if(t&1){let e=f();i(0,"p",8),r(1,"Dont have an account ? "),i(2,"a",12),_("click",function(){c(e);let n=p();return g(n.registerMode=!0)}),r(3,"Register"),o()()}}function ie(t,l){if(t&1){let e=f();i(0,"p",8),r(1,"Already have an account ? "),i(2,"a",12),_("click",function(){c(e);let n=p();return g(n.registerMode=!1)}),r(3,"Signin"),o()()}}function oe(t,l){if(t&1){let e=f();i(0,"ngb-toast",13),_("hidden",function(){c(e);let n=p();return g(n.showToast=!1)}),r(1),o()}if(t&2){let e=p();P("autohide",!0)("delay",5e3)("ngClass",L(4,X,!e.toastMessage.isError,e.toastMessage.isError)),a(),T(" ",e.toastMessage.message," ")}}var be=(()=>{class t{constructor(){this.email="",this.password="",this.confirmPassword="",this.errorMessage="",this.successMessage="",this.registerMode=!1,this.auth=C(K),this.showToast=!1,this.toastMessage={isError:!1,message:""}}onSubmit(){this.registerMode?this.onRegister():this.onLogin()}onRegister(){if(console.log("Registering user:",this.email,this.password),this.password!==this.confirmPassword){console.log("Passwords do not match"),this.errorMessage="Passwords do not match.",this.showToastMessage(this.errorMessage,!0);return}if(!this.email||!this.password){this.errorMessage="Please fill in all fields.",this.showToastMessage(this.errorMessage,!0);return}if(this.email.includes("hackmanyvonne1@gmail.com")||this.email.includes("zoeinventions@gmail.com"))this.auth.signUp(this.email,this.password).then(()=>{this.successMessage="Registration successful!",this.showToastMessage(this.successMessage,!1)}).catch(e=>{this.errorMessage="Registration failed: "+e.message,this.showToastMessage(this.errorMessage,!0)});else{this.errorMessage="Sorry, you cannot create an account.",this.showToastMessage(this.errorMessage,!0);return}}onLogin(){if(!this.email||!this.password){this.errorMessage="Please fill in all fields.",this.showToastMessage(this.errorMessage,!0);return}this.auth.signIn(this.email,this.password).then(()=>{this.successMessage="Login successful!",this.showToastMessage(this.successMessage,!1)}).catch(e=>{console.log("Login error:",e),e.message.includes("auth/invalid-email")?this.errorMessage="Sorry, Invalid email address.":e.message.includes("auth/invalid-credential")?this.errorMessage="Sorry, you are not registered.":e.message===" Login failed: auth/wrong-password"&&(this.errorMessage="Incorrect password."),this.showToastMessage(this.errorMessage,!0)})}showToastMessage(e,s){this.toastMessage={isError:s,message:e},this.showToast=!0}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=S({type:t,selectors:[["app-login"]],decls:23,vars:7,consts:[["form","ngForm"],["autocomplete","off",1,"form",3,"ngSubmit"],[1,"title"],["type","button","routerLink","/",1,"gobackbutton"],[1,"message"],["type","email","name","email","required","","placeholder","",1,"input",3,"ngModelChange","ngModel"],["type","password","name","password","required","","placeholder","",1,"input",3,"ngModelChange","ngModel"],[1,"submit"],[1,"signin"],[1,"toast-container","position-fixed","top-0","end-0","p-3"],["class"," text-white",3,"autohide","delay","ngClass","hidden",4,"ngIf"],["type","password","required","","name","confirmPassword","placeholder","",1,"input",3,"ngModelChange","ngModel"],[3,"click"],[1,"text-white",3,"hidden","autohide","delay","ngClass"]],template:function(s,n){if(s&1){let m=f();i(0,"form",1,0),_("ngSubmit",function(){return c(m),g(n.onSubmit())}),u(2,Y,2,0,"p",2)(3,Z,2,0,"p",2),i(4,"button",3),r(5," Go back"),o(),u(6,$,2,0,"p",4)(7,ee,2,0,"p",4),i(8,"label")(9,"input",5),b("ngModelChange",function(d){return c(m),x(n.email,d)||(n.email=d),g(d)}),o(),i(10,"span"),r(11,"Email"),o()(),i(12,"label")(13,"input",6),b("ngModelChange",function(d){return c(m),x(n.password,d)||(n.password=d),g(d)}),o(),i(14,"span"),r(15,"Password"),o()(),u(16,te,4,1,"label"),i(17,"button",7),r(18,"Submit"),o(),u(19,ne,4,0,"p",8)(20,ie,4,0,"p",8),o(),i(21,"div",9),u(22,oe,2,7,"ngb-toast",10),o()}s&2&&(a(2),h(n.registerMode?2:3),a(4),h(n.registerMode?6:7),a(3),w("ngModel",n.email),a(4),w("ngModel",n.password),a(3),h(n.registerMode?16:-1),a(3),h(n.registerMode?20:19),a(3),P("ngIf",n.showToast))},dependencies:[q,F,R,W,N,j,A,z,V,E,v,U,D,I,k],styles:['.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:350px;padding:20px;border-radius:20px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;border:1px solid #b1b1b1}.hide[_ngcontent-%COMP%]{display:none}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;letter-spacing:-1px;position:relative;display:flex;align-items:center;padding-left:30px;color:#ad9354}.title[_ngcontent-%COMP%]:before{width:18px;height:18px}.title[_ngcontent-%COMP%]:after{width:18px;height:18px;animation:_ngcontent-%COMP%_pulse 1s linear infinite}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{position:absolute;content:"";height:16px;width:16px;border-radius:50%;left:0;background-color:#ad9354}.message[_ngcontent-%COMP%], .signin[_ngcontent-%COMP%]{font-size:14.5px;color:#262626b3}.signin[_ngcontent-%COMP%]{text-align:center}.signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline #ad9354}.signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00bfff}.flex[_ngcontent-%COMP%]{display:flex;width:100%;gap:6px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background-color:#333;color:#fff;width:100%;padding:20px 5px 5px 10px;outline:0;border:1px solid rgba(105,105,105,.397);border-radius:10px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{color:#ffffff80;position:absolute;left:10px;top:0;font-size:.9em;cursor:text;transition:.3s ease}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:placeholder-shown + span[_ngcontent-%COMP%]{top:12.5px;font-size:.9em}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid + span[_ngcontent-%COMP%]{color:#ad9354;top:0;font-size:.7em;font-weight:600}.input[_ngcontent-%COMP%]{font-size:medium}.submit[_ngcontent-%COMP%]{border:none;outline:none;padding:10px;border-radius:10px;color:#fff;font-size:16px;transform:.3s ease;background-color:#ad9354}.submit[_ngcontent-%COMP%]:hover{background-color:#ad9354}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.9);opacity:1}to{transform:scale(1.8);opacity:0}}.toast-container[_ngcontent-%COMP%]{z-index:1200}.gobackbutton[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #b1b1b1}']})}}return t})();export{be as LoginComponent};
