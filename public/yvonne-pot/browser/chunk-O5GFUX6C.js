import{$ as k,A as M,B as i,C as o,D as O,E as u,G as h,H as c,L as s,N as S,O as C,P as w,Q as x,R as T,T as V,V as v,W as E,aa as R,ca as N,da as z,e as P,fa as I,ga as W,i as g,ia as F,j as d,jb as U,ka as q,la as D,lb as H,oa as B,pa as j,r,t as y,u as L,x as m,ya as A,z as _,za as G}from"./chunk-EZKFW4BY.js";var J=(e,l)=>({"bg-success":e,"bg-danger":l});function K(e,l){e&1&&(i(0,"p",2),s(1,"Register "),o())}function Q(e,l){e&1&&(i(0,"p",2),s(1,"Login "),o())}function X(e,l){e&1&&(i(0,"p",4),s(1,"Register now and get full access."),o())}function Y(e,l){e&1&&(i(0,"p",4),s(1,"Login now and get full access. "),o())}function Z(e,l){if(e&1){let t=u();i(0,"label")(1,"input",12),x("ngModelChange",function(n){g(t);let f=c();return w(f.confirmPassword,n)||(f.confirmPassword=n),d(n)}),o(),i(2,"span"),s(3,"Confirm password"),o()()}if(e&2){let t=c();r(),C("ngModel",t.confirmPassword)}}function $(e,l){if(e&1){let t=u();i(0,"p",8),s(1,"Dont have an account ? "),i(2,"a",13),h("click",function(){g(t);let n=c();return d(n.registerMode=!0)}),s(3,"Register"),o()()}}function ee(e,l){if(e&1){let t=u();i(0,"p",8),s(1,"Already have an account ? "),i(2,"a",13),h("click",function(){g(t);let n=c();return d(n.registerMode=!1)}),s(3,"Signin"),o()()}}function te(e,l){if(e&1){let t=u();i(0,"ngb-toast",14),h("hidden",function(){g(t);let n=c();return d(n.showToast=!1)}),s(1),o()}if(e&2){let t=c();_("autohide",!0)("delay",5e3)("ngClass",T(4,J,!t.toastMessage.isError,t.toastMessage.isError)),r(),S(" ",t.toastMessage.message," ")}}function ne(e,l){if(e&1){let t=u();i(0,"ngb-toast",15),h("hidden",function(){g(t);let n=c();return d(n.showToast=!1)}),O(1,"app-loading"),o()}e&2&&_("autohide",!0)("delay",5e5)}var Me=(()=>{class e{constructor(t){this.router=t,this.email="",this.password="",this.confirmPassword="",this.errorMessage="",this.successMessage="",this.registerMode=!1,this.auth=P(U),this.showToast=!1,this.toastMessage={isError:!1,message:""},this.isLoading=!1}onSubmit(){this.registerMode?this.onRegister():this.onLogin()}onRegister(){if(this.isLoading=!0,this.password!==this.confirmPassword){this.isLoading=!1,this.errorMessage="Passwords do not match.",this.showToastMessage(this.errorMessage,!0);return}if(!this.email||!this.password){this.isLoading=!1,this.errorMessage="Please fill in all fields.",this.showToastMessage(this.errorMessage,!0);return}if(this.email.includes("hackmanyvonne1@gmail.com")||this.email.includes("zoeinventions@gmail.com"))this.auth.signUp(this.email,this.password).then(()=>{this.isLoading=!1,this.successMessage="Registration successful!",this.showToastMessage(this.successMessage,!1)}).catch(t=>{this.isLoading=!1,this.errorMessage="Registration failed: "+t.message,this.showToastMessage(this.errorMessage,!0)});else{this.isLoading=!1,this.errorMessage="Sorry, you cannot create an account.",this.showToastMessage(this.errorMessage,!0);return}}onLogin(){if(this.isLoading=!0,!this.email||!this.password){this.isLoading=!1,this.errorMessage="Please fill in all fields.",this.showToastMessage(this.errorMessage,!0);return}this.auth.signIn(this.email,this.password).then(()=>{this.isLoading=!1,this.successMessage="Login successful!",this.showToastMessage(this.successMessage,!1),this.router.navigate(["/"])}).catch(t=>{this.isLoading=!1,t.message.includes("auth/invalid-email")?this.errorMessage="Sorry, you are not registered.":t.message.includes("auth/invalid-credential")?this.errorMessage="Sorry, you are not registered.":t.message===" Login failed: auth/wrong-password"&&(this.errorMessage="Incorrect password."),this.showToastMessage(this.errorMessage,!0)})}showToastMessage(t,a){this.toastMessage={isError:a,message:t},this.showToast=!0}closeToast(){this.showToast=!1}static{this.\u0275fac=function(a){return new(a||e)(y(k))}}static{this.\u0275cmp=L({type:e,selectors:[["app-login"]],decls:25,vars:8,consts:[["form","ngForm"],["autocomplete","off",1,"form",3,"ngSubmit"],[1,"title"],["type","button","routerLink","/",1,"gobackbutton"],[1,"message"],["type","email","name","email","required","","placeholder","",1,"input",3,"ngModelChange","ngModel"],["type","password","name","password","required","","placeholder","",1,"input",3,"ngModelChange","ngModel"],[1,"submit"],[1,"signin"],[1,"toast-container","position-fixed","top-0","end-0","p-3"],["class"," text-white",3,"autohide","delay","ngClass","hidden",4,"ngIf"],["class","bg-light-subtle ",3,"autohide","delay","hidden",4,"ngIf"],["type","password","required","","name","confirmPassword","placeholder","",1,"input",3,"ngModelChange","ngModel"],[3,"click"],[1,"text-white",3,"hidden","autohide","delay","ngClass"],[1,"bg-light-subtle",3,"hidden","autohide","delay"]],template:function(a,n){if(a&1){let f=u();i(0,"form",1,0),h("ngSubmit",function(){return g(f),d(n.onSubmit())}),m(2,K,2,0,"p",2)(3,Q,2,0,"p",2),i(4,"button",3),s(5," Go back"),o(),m(6,X,2,0,"p",4)(7,Y,2,0,"p",4),i(8,"label")(9,"input",5),x("ngModelChange",function(p){return g(f),w(n.email,p)||(n.email=p),d(p)}),o(),i(10,"span"),s(11,"Email"),o()(),i(12,"label")(13,"input",6),x("ngModelChange",function(p){return g(f),w(n.password,p)||(n.password=p),d(p)}),o(),i(14,"span"),s(15,"Password"),o()(),m(16,Z,4,1,"label"),i(17,"button",7),s(18,"Submit"),o(),m(19,$,4,0,"p",8)(20,ee,4,0,"p",8),o(),i(21,"div",9),m(22,te,2,7,"ngb-toast",10),o(),i(23,"div",9),m(24,ne,2,2,"ngb-toast",11),o()}a&2&&(r(2),M(n.registerMode?2:3),r(4),M(n.registerMode?6:7),r(3),C("ngModel",n.email),r(4),C("ngModel",n.password),r(3),M(n.registerMode?16:-1),r(3),M(n.registerMode?20:19),r(3),_("ngIf",n.showToast),r(2),_("ngIf",n.isLoading))},dependencies:[j,D,z,I,W,B,q,F,E,V,v,G,A,N,R,H],styles:['.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:350px;padding:20px;border-radius:20px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;border:1px solid #b1b1b1}.hide[_ngcontent-%COMP%]{display:none}.title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;letter-spacing:-1px;position:relative;display:flex;align-items:center;padding-left:30px;color:#ad9354}.title[_ngcontent-%COMP%]:before{width:18px;height:18px}.title[_ngcontent-%COMP%]:after{width:18px;height:18px;animation:_ngcontent-%COMP%_pulse 1s linear infinite}.title[_ngcontent-%COMP%]:before, .title[_ngcontent-%COMP%]:after{position:absolute;content:"";height:16px;width:16px;border-radius:50%;left:0;background-color:#ad9354}.message[_ngcontent-%COMP%], .signin[_ngcontent-%COMP%]{font-size:14.5px;color:#262626b3}.signin[_ngcontent-%COMP%]{text-align:center}.signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline #ad9354}.signin[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00bfff}.flex[_ngcontent-%COMP%]{display:flex;width:100%;gap:6px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background-color:#333;color:#fff;width:100%;padding:20px 5px 5px 10px;outline:0;border:1px solid rgba(105,105,105,.397);border-radius:10px}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{color:#ffffff80;position:absolute;left:10px;top:0;font-size:.9em;cursor:text;transition:.3s ease}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:placeholder-shown + span[_ngcontent-%COMP%]{top:12.5px;font-size:.9em}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]:valid + span[_ngcontent-%COMP%]{color:#ad9354;top:0;font-size:.7em;font-weight:600}.input[_ngcontent-%COMP%]{font-size:medium}.submit[_ngcontent-%COMP%]{border:none;outline:none;padding:10px;border-radius:10px;color:#fff;font-size:16px;transform:.3s ease;background-color:#ad9354}.submit[_ngcontent-%COMP%]:hover{background-color:#ad9354}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(.9);opacity:1}to{transform:scale(1.8);opacity:0}}.toast-container[_ngcontent-%COMP%]{z-index:1200}.gobackbutton[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #b1b1b1}']})}}return e})();export{Me as LoginComponent};
