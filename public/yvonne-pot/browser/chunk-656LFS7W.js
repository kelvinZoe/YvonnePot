var _S=Object.defineProperty,vS=Object.defineProperties;var yS=Object.getOwnPropertyDescriptors;var tv=Object.getOwnPropertySymbols,bS=Object.getPrototypeOf,wS=Object.prototype.hasOwnProperty,ES=Object.prototype.propertyIsEnumerable,DS=Reflect.get;var nv=(e,t,n)=>t in e?_S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||={})wS.call(t,n)&&nv(e,n,t[n]);if(tv)for(var n of tv(t))ES.call(t,n)&&nv(e,n,t[n]);return e},x=(e,t)=>vS(e,yS(t));var _i=(e,t,n)=>DS(bS(e),n,t);var p=(e,t,n)=>new Promise((i,r)=>{var o=c=>{try{a(n.next(c))}catch(l){r(l)}},s=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});function wd(e,t){return Object.is(e,t)}var me=null,Va=!1,Ed=1,it=Symbol("SIGNAL");function F(e){let t=me;return me=e,t}function Dd(){return me}var $o={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Go(e){if(Va)throw new Error("");if(me===null)return;me.consumerOnSignalRead(e);let t=me.nextProducerIndex++;if(Ha(me),t<me.producerNode.length&&me.producerNode[t]!==e&&Ho(me)){let n=me.producerNode[t];Ua(n,me.producerIndexOfThis[t])}me.producerNode[t]!==e&&(me.producerNode[t]=e,me.producerIndexOfThis[t]=Ho(me)?rv(e,me,t):0),me.producerLastReadVersion[t]=e.version}function iv(){Ed++}function Cd(e){if(!(Ho(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ed)){if(!e.producerMustRecompute(e)&&!Md(e)){bd(e);return}e.producerRecomputeValue(e),bd(e)}}function Id(e){if(e.liveConsumerNode===void 0)return;let t=Va;Va=!0;try{for(let n of e.liveConsumerNode)n.dirty||CS(n)}finally{Va=t}}function Td(){return me?.consumerAllowSignalWrites!==!1}function CS(e){e.dirty=!0,Id(e),e.consumerMarkedDirty?.(e)}function bd(e){e.dirty=!1,e.lastCleanEpoch=Ed}function ja(e){return e&&(e.nextProducerIndex=0),F(e)}function Sd(e,t){if(F(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ho(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ua(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Md(e){Ha(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(Cd(n),i!==n.version))return!0}return!1}function Nd(e){if(Ha(e),Ho(e))for(let t=0;t<e.producerNode.length;t++)Ua(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function rv(e,t,n){if(ov(e),e.liveConsumerNode.length===0&&sv(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=rv(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ua(e,t){if(ov(e),e.liveConsumerNode.length===1&&sv(e))for(let i=0;i<e.producerNode.length;i++)Ua(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Ha(r),r.producerIndexOfThis[i]=t}}function Ho(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ha(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ov(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function sv(e){return e.producerNode!==void 0}function Ad(e,t){let n=Object.create(IS);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(Cd(n),Go(n),n.value===Ba)throw n.error;return n.value};return i[it]=n,i}var vd=Symbol("UNSET"),yd=Symbol("COMPUTING"),Ba=Symbol("ERRORED"),IS=x(_({},$o),{value:vd,dirty:!0,error:null,equal:wd,kind:"computed",producerMustRecompute(e){return e.value===vd||e.value===yd},producerRecomputeValue(e){if(e.value===yd)throw new Error("Detected cycle in computations.");let t=e.value;e.value=yd;let n=ja(e),i,r=!1;try{i=e.computation(),F(null),r=t!==vd&&t!==Ba&&i!==Ba&&e.equal(t,i)}catch(o){i=Ba,e.error=o}finally{Sd(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function TS(){throw new Error}var av=TS;function cv(e){av(e)}function Rd(e){av=e}var SS=null;function Od(e,t){let n=Object.create($a);n.value=e,t!==void 0&&(n.equal=t);let i=()=>(Go(n),n.value);return i[it]=n,i}function Wo(e,t){Td()||cv(e),e.equal(e.value,t)||(e.value=t,MS(e))}function kd(e,t){Td()||cv(e),Wo(e,t(e.value))}var $a=x(_({},$o),{equal:wd,value:void 0,kind:"signal"});function MS(e){e.version++,iv(),Id(e),SS?.()}function Pd(e){let t=F(null);try{return e()}finally{F(t)}}var xd;function zo(){return xd}function an(e){let t=xd;return xd=e,t}var Ga=Symbol("NotFound");function C(e){return typeof e=="function"}function gr(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wa=gr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ue=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(C(i))try{i()}catch(o){t=o instanceof Wa?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{lv(o)}catch(s){t=t??[],s instanceof Wa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Wa(t)}}add(t){var n;if(t&&t!==this)if(this.closed)lv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&vi(n,t)}remove(t){let{_finalizers:n}=this;n&&vi(n,t),t instanceof e&&t._removeParent(this)}};ue.EMPTY=(()=>{let e=new ue;return e.closed=!0,e})();var Fd=ue.EMPTY;function za(e){return e instanceof ue||e&&"closed"in e&&C(e.remove)&&C(e.add)&&C(e.unsubscribe)}function lv(e){C(e)?e():e.unsubscribe()}var gt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mr={setTimeout(e,t,...n){let{delegate:i}=mr;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=mr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function qa(e){mr.setTimeout(()=>{let{onUnhandledError:t}=gt;if(t)t(e);else throw e})}function yi(){}var uv=Ld("C",void 0,void 0);function dv(e){return Ld("E",void 0,e)}function hv(e){return Ld("N",e,void 0)}function Ld(e,t,n){return{kind:e,value:t,error:n}}var bi=null;function _r(e){if(gt.useDeprecatedSynchronousErrorHandling){let t=!bi;if(t&&(bi={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=bi;if(bi=null,n)throw i}}else e()}function fv(e){gt.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=e)}var wi=class extends ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,za(t)&&t.add(this)):this.destination=PS}static create(t,n,i){return new vr(t,n,i)}next(t){this.isStopped?Bd(hv(t),this):this._next(t)}error(t){this.isStopped?Bd(dv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Bd(uv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OS=Function.prototype.bind;function Vd(e,t){return OS.call(e,t)}var jd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Ya(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Ya(i)}else Ya(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ya(n)}}},vr=class extends wi{constructor(t,n,i){super();let r;if(C(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&gt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Vd(t.next,o),error:t.error&&Vd(t.error,o),complete:t.complete&&Vd(t.complete,o)}):r=t}this.destination=new jd(r)}};function Ya(e){gt.useDeprecatedSynchronousErrorHandling?fv(e):qa(e)}function kS(e){throw e}function Bd(e,t){let{onStoppedNotification:n}=gt;n&&mr.setTimeout(()=>n(e,t))}var PS={closed:!0,next:yi,error:kS,complete:yi};var yr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Te(e){return e}function Ud(...e){return Hd(e)}function Hd(e){return e.length===0?Te:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var M=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=FS(n)?n:new vr(n,i,r);return _r(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=pv(i),new i((r,o)=>{let s=new vr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[yr](){return this}pipe(...n){return Hd(n)(this)}toPromise(n){return n=pv(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function pv(e){var t;return(t=e??gt.Promise)!==null&&t!==void 0?t:Promise}function xS(e){return e&&C(e.next)&&C(e.error)&&C(e.complete)}function FS(e){return e&&e instanceof wi||xS(e)&&za(e)}function $d(e){return C(e?.lift)}function j(e){return t=>{if($d(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function N(e,t,n,i,r){return new Gd(e,t,n,i,r)}var Gd=class extends wi{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function br(){return j((e,t)=>{let n=null;e._refCount++;let i=N(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var wr=class extends M{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$d(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ue;let n=this.getSubject();t.add(this.source.subscribe(N(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ue.EMPTY)}return t}refCount(){return br()(this)}};var gv=gr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=(()=>{class e extends M{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Ka(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new gv}next(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Fd:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,vi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new M;return n.source=this,n}}return e.create=(t,n)=>new Ka(t,n),e})(),Ka=class extends z{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Fd}};var we=class extends z{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Wd={now(){return(Wd.delegate||Date).now()},delegate:void 0};var Za=class extends ue{constructor(t,n){super()}schedule(t,n=0){return this}};var qo={setInterval(e,t,...n){let{delegate:i}=qo;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=qo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Er=class extends Za{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return qo.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&qo.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vi(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Dr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Dr.now=Wd.now;var Cr=class extends Dr{constructor(t,n=Dr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var Qa=new Cr(Er),zd=Qa;var Ja=class extends Er{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var Xa=class extends Cr{};var qd=new Xa(Ja);var Ee=new M(e=>e.complete());function ec(e){return e&&C(e.schedule)}function mv(e){return e[e.length-1]}function Rn(e){return C(mv(e))?e.pop():void 0}function On(e){return ec(mv(e))?e.pop():void 0}function Yd(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function vv(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(e,t||[])).next())})}function _v(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(e){return this instanceof Ei?(this.v=e,this):new Ei(e)}function yv(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){i[h]&&(r[h]=function(y){return new Promise(function(I,L){o.push([h,y,I,L])>1||c(h,y)})},g&&(r[h]=g(r[h])))}function c(h,g){try{l(i[h](g))}catch(y){f(o[0][3],y)}}function l(h){h.value instanceof Ei?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function bv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof _v=="function"?_v(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ir=e=>e&&typeof e.length=="number"&&typeof e!="function";function tc(e){return C(e?.then)}function nc(e){return C(e[yr])}function ic(e){return Symbol.asyncIterator&&C(e?.[Symbol.asyncIterator])}function rc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var oc=LS();function sc(e){return C(e?.[oc])}function ac(e){return yv(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield Ei(n.read());if(r)return yield Ei(void 0);yield yield Ei(i)}}finally{n.releaseLock()}})}function cc(e){return C(e?.getReader)}function J(e){if(e instanceof M)return e;if(e!=null){if(nc(e))return VS(e);if(Ir(e))return BS(e);if(tc(e))return jS(e);if(ic(e))return wv(e);if(sc(e))return US(e);if(cc(e))return HS(e)}throw rc(e)}function VS(e){return new M(t=>{let n=e[yr]();if(C(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BS(e){return new M(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function jS(e){return new M(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,qa)})}function US(e){return new M(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function wv(e){return new M(t=>{$S(e,t).catch(n=>t.error(n))})}function HS(e){return wv(ac(e))}function $S(e,t){var n,i,r,o;return vv(this,void 0,void 0,function*(){try{for(n=bv(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function je(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function kn(e,t=0){return j((n,i)=>{n.subscribe(N(i,r=>je(i,e,()=>i.next(r),t),()=>je(i,e,()=>i.complete(),t),r=>je(i,e,()=>i.error(r),t)))})}function Pn(e,t=0){return j((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Ev(e,t){return J(e).pipe(Pn(t),kn(t))}function Dv(e,t){return J(e).pipe(Pn(t),kn(t))}function Cv(e,t){return new M(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function Iv(e,t){return new M(n=>{let i;return je(n,t,()=>{i=e[oc](),je(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>C(i?.return)&&i.return()})}function lc(e,t){if(!e)throw new Error("Iterable cannot be null");return new M(n=>{je(n,t,()=>{let i=e[Symbol.asyncIterator]();je(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Tv(e,t){return lc(ac(e),t)}function Sv(e,t){if(e!=null){if(nc(e))return Ev(e,t);if(Ir(e))return Cv(e,t);if(tc(e))return Dv(e,t);if(ic(e))return lc(e,t);if(sc(e))return Iv(e,t);if(cc(e))return Tv(e,t)}throw rc(e)}function oe(e,t){return t?Sv(e,t):J(e)}function D(...e){let t=On(e);return oe(e,t)}function Tr(e,t){let n=C(e)?e:()=>e,i=r=>r.error(n());return new M(t?r=>t.schedule(i,0,r):i)}function Kd(e){return!!e&&(e instanceof M||C(e.lift)&&C(e.subscribe))}var cn=gr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Mv(e){return e instanceof Date&&!isNaN(e)}function U(e,t){return j((n,i)=>{let r=0;n.subscribe(N(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:GS}=Array;function WS(e,t){return GS(t)?e(...t):e(t)}function Sr(e){return U(t=>WS(e,t))}var{isArray:zS}=Array,{getPrototypeOf:qS,prototype:YS,keys:KS}=Object;function uc(e){if(e.length===1){let t=e[0];if(zS(t))return{args:t,keys:null};if(ZS(t)){let n=KS(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function ZS(e){return e&&typeof e=="object"&&qS(e)===YS}function dc(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function Mr(...e){let t=On(e),n=Rn(e),{args:i,keys:r}=uc(e);if(i.length===0)return oe([],t);let o=new M(QS(i,t,r?s=>dc(r,s):Te));return n?o.pipe(Sr(n)):o}function QS(e,t,n=Te){return i=>{Nv(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)Nv(t,()=>{let l=oe(e[c],t),u=!1;l.subscribe(N(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Nv(e,t,n){e?je(n,e,t):t()}function Av(e,t,n,i,r,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=y=>l<i?g(y):c.push(y),g=y=>{o&&t.next(y),l++;let I=!1;J(n(y,u++)).subscribe(N(t,L=>{r?.(L),o?h(L):t.next(L)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<i;){let L=c.shift();s?je(t,s,()=>g(L)):g(L)}f()}catch(L){t.error(L)}}))};return e.subscribe(N(t,h,()=>{d=!0,f()})),()=>{a?.()}}function se(e,t,n=1/0){return C(t)?se((i,r)=>U((o,s)=>t(i,o,r,s))(J(e(i,r))),n):(typeof t=="number"&&(n=t),j((i,r)=>Av(i,r,e,n)))}function Nr(e=1/0){return se(Te,e)}function Rv(){return Nr(1)}function xn(...e){return Rv()(oe(e,On(e)))}function hc(e){return new M(t=>{J(e()).subscribe(t)})}function Zd(...e){let t=Rn(e),{args:n,keys:i}=uc(e),r=new M(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;J(n[u]).subscribe(N(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?dc(i,a):a),o.complete())}))}});return t?r.pipe(Sr(t)):r}var JS=["addListener","removeListener"],XS=["addEventListener","removeEventListener"],e1=["on","off"];function rt(e,t,n,i){if(C(n)&&(i=n,n=void 0),i)return rt(e,t,n).pipe(Sr(i));let[r,o]=i1(e)?XS.map(s=>a=>e[s](t,a,n)):t1(e)?JS.map(Ov(e,t)):n1(e)?e1.map(Ov(e,t)):[];if(!r&&Ir(e))return se(s=>rt(s,t,n))(J(e));if(!r)throw new TypeError("Invalid event target");return new M(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function Ov(e,t){return n=>i=>e[n](t,i)}function t1(e){return C(e.addListener)&&C(e.removeListener)}function n1(e){return C(e.on)&&C(e.off)}function i1(e){return C(e.addEventListener)&&C(e.removeEventListener)}function Qd(e=0,t,n=zd){let i=-1;return t!=null&&(ec(t)?n=t:i=t),new M(r=>{let o=Mv(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}var{isArray:r1}=Array;function fc(e){return e.length===1&&r1(e[0])?e[0]:e}function he(e,t){return j((n,i)=>{let r=0;n.subscribe(N(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Jd(...e){return e=fc(e),e.length===1?J(e[0]):new M(o1(e))}function o1(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(J(e[i]).subscribe(N(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function Yo(...e){let t=Rn(e),n=fc(e);return n.length?new M(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)J(n[s]).subscribe(N(i,a=>{if(r[s].push(a),r.every(c=>c.length)){let c=r.map(l=>l.shift());i.next(t?t(...c):c),r.some((l,u)=>!l.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Ee}function ln(e){return j((t,n)=>{let i=null,r=!1,o;i=t.subscribe(N(n,void 0,void 0,s=>{o=J(e(s,ln(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function kv(e,t,n,i,r){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(N(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Fn(e,t){return C(t)?se(e,t,1):se(e,1)}function Ln(e){return j((t,n)=>{let i=!1;t.subscribe(N(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function xe(e){return e<=0?()=>Ee:j((t,n)=>{let i=0;t.subscribe(N(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Xd(e,t=Te){return e=e??s1,j((n,i)=>{let r,o=!0;n.subscribe(N(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function s1(e,t){return e===t}function pc(e=a1){return j((t,n)=>{let i=!1;t.subscribe(N(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function a1(){return new cn}function eh(...e){return t=>xn(t,D(...e))}function Ar(e){return j((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function un(e,t){let n=arguments.length>=2;return i=>i.pipe(e?he((r,o)=>e(r,o,i)):Te,xe(1),n?Ln(t):pc(()=>new cn))}function Rr(e){return e<=0?()=>Ee:j((t,n)=>{let i=[];t.subscribe(N(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function th(e,t){let n=arguments.length>=2;return i=>i.pipe(e?he((r,o)=>e(r,o,i)):Te,Rr(1),n?Ln(t):pc(()=>new cn))}function nh(e,t){return j(kv(e,t,arguments.length>=2,!0))}function ih(e){return he((t,n)=>e<=n)}function Ko(...e){let t=On(e);return j((n,i)=>{(t?xn(e,n,t):xn(e,n)).subscribe(i)})}function Ue(e,t){return j((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(N(i,c=>{r?.unsubscribe();let l=0,u=o++;J(e(c,u)).subscribe(r=N(i,d=>i.next(t?t(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function De(e){return j((t,n)=>{J(e).subscribe(N(n,()=>n.complete(),yi)),!n.closed&&t.subscribe(n)})}function _e(e,t,n){let i=C(e)||t||n?{next:e,error:t,complete:n}:e;return i?j((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(N(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Te}function gc(...e){let t=Rn(e);return j((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let c=0;c<r;c++)J(e[c]).subscribe(N(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Te))&&(s=null))},yi));n.subscribe(N(i,c=>{if(a){let l=[c,...o];i.next(t?t(...l):l)}}))})}var Cy="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(t,n){super(Df(t,n)),this.code=t}};function c1(e){return`NG0${Math.abs(e)}`}function Df(e,t){return`${c1(e)}${t?": "+t:""}`}var Iy=Symbol("InputSignalNode#UNSET"),l1=x(_({},$a),{transformFn:void 0,applyValueToInputSignal(e,t){Wo(e,t)}});function Ty(e,t){let n=Object.create(l1);n.value=e,n.transformFn=t?.transform;function i(){if(Go(n),n.value===Iy){let r=null;throw new w(-950,r)}return n.value}return i[it]=n,i}function as(e){return{toString:e}.toString()}var mc="__parameters__";function u1(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function d1(e,t,n){return as(()=>{let i=u1(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(mc)?c[mc]:Object.defineProperty(c,mc,{value:[]})[mc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Vr=globalThis;function ne(e){for(let t in e)if(e[t]===ne)return t;throw Error("Could not find renamed property on target object.")}function h1(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $e(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map($e).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function vh(e,t){return e?t?`${e} ${t}`:e:t||""}var f1=ne({__forward_ref__:ne});function $t(e){return e.__forward_ref__=$t,e.toString=function(){return $e(this())},e}function Fe(e){return Sy(e)?e():e}function Sy(e){return typeof e=="function"&&e.hasOwnProperty(f1)&&e.__forward_ref__===$t}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function K(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qc(e){return Pv(e,Ny)||Pv(e,Ay)}function My(e){return Qc(e)!==null}function Pv(e,t){return e.hasOwnProperty(t)?e[t]:null}function p1(e){let t=e&&(e[Ny]||e[Ay]);return t||null}function xv(e){return e&&(e.hasOwnProperty(Fv)||e.hasOwnProperty(g1))?e[Fv]:null}var Ny=ne({\u0275prov:ne}),Fv=ne({\u0275inj:ne}),Ay=ne({ngInjectableDef:ne}),g1=ne({ngInjectorDef:ne}),E=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ry(e){return e&&!!e.\u0275providers}var m1=ne({\u0275cmp:ne}),_1=ne({\u0275dir:ne}),v1=ne({\u0275pipe:ne}),y1=ne({\u0275mod:ne}),Sc=ne({\u0275fac:ne}),Xo=ne({__NG_ELEMENT_ID__:ne}),Lv=ne({__NG_ENV_ID__:ne});function cs(e){return typeof e=="string"?e:e==null?"":String(e)}function b1(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():cs(e)}function Oy(e,t){throw new w(-200,e)}function Cf(e,t){throw new w(-201,!1)}var V=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(V||{}),yh;function ky(){return yh}function ot(e){let t=yh;return yh=e,t}function Py(e,t,n){let i=Qc(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&V.Optional)return null;if(t!==void 0)return t;Cf(e,"Injector")}var w1={},Di=w1,bh="__NG_DI_FLAG__",Mc=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=n;return this.injector.get(t,i.optional?Ga:Di,i)}},Nc="ngTempTokenPath",E1="ngTokenPath",D1=/\n/gm,C1="\u0275",Vv="__source";function I1(e,t=V.Default){if(zo()===void 0)throw new w(-203,!1);if(zo()===null)return Py(e,void 0,t);{let n=zo(),i;return n instanceof Mc?i=n.injector:i=n,i.get(e,t&V.Optional?null:void 0,t)}}function T(e,t=V.Default){return(ky()||I1)(Fe(e),t)}function m(e,t=V.Default){return T(e,Jc(t))}function Jc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function wh(e){let t=[];for(let n=0;n<e.length;n++){let i=Fe(e[n]);if(Array.isArray(i)){if(i.length===0)throw new w(900,!1);let r,o=V.Default;for(let s=0;s<i.length;s++){let a=i[s],c=S1(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}t.push(T(r,o))}else t.push(T(i))}return t}function T1(e,t){return e[bh]=t,e.prototype[bh]=t,e}function S1(e){return e[bh]}function M1(e,t,n,i){let r=e[Nc];throw t[Vv]&&r.unshift(t[Vv]),e.message=N1(`
`+e.message,r,n,i),e[E1]=r,e[Nc]=null,e}function N1(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==C1?e.slice(2):e;let r=$e(t);if(Array.isArray(t))r=t.map($e).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$e(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(D1,`
  `)}`}var Hn=T1(d1("Optional"),8);function Br(e,t){let n=e.hasOwnProperty(Sc);return n?e[Sc]:null}function A1(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function R1(e){return e.flat(Number.POSITIVE_INFINITY)}function If(e,t){e.forEach(n=>Array.isArray(n)?If(n,t):t(n))}function xy(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ac(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function O1(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function k1(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Tf(e,t,n){let i=ls(e,t);return i>=0?e[i|1]=n:(i=~i,k1(e,i,t,n)),i}function rh(e,t){let n=ls(e,t);if(n>=0)return e[n|1]}function ls(e,t){return P1(e,t,1)}function P1(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Ii={},He=[],jr=new E(""),Fy=new E("",-1),Ly=new E(""),Rc=class{get(t,n=Di){if(n===Di){let i=new Error(`NullInjectorError: No provider for ${$e(t)}!`);throw i.name="NullInjectorError",i}return n}};function Vy(e,t){let n=e[y1]||null;if(!n&&t===!0)throw new Error(`Type ${$e(e)} does not have '\u0275mod' property.`);return n}function jn(e){return e[m1]||null}function x1(e){return e[_1]||null}function F1(e){return e[v1]||null}function $n(e){return{\u0275providers:e}}function L1(...e){return{\u0275providers:By(!0,e),\u0275fromNgModule:!0}}function By(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return If(t,s=>{let a=s;Eh(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&jy(r,o),n}function jy(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Sf(r,o=>{t(o,i)})}}function Eh(e,t,n,i){if(e=Fe(e),!e)return!1;let r=null,o=xv(e),s=!o&&jn(e);if(!o&&!s){let c=e.ngModule;if(o=xv(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Eh(l,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{If(o.imports,u=>{Eh(u,t,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&jy(l,t)}if(!a){let l=Br(r)||(()=>new r);t({provide:r,useFactory:l,deps:He},r),t({provide:Ly,useValue:r,multi:!0},r),t({provide:jr,useValue:()=>T(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=e;Sf(c,u=>{t(u,l)})}}else return!1;return r!==e&&e.providers!==void 0}function Sf(e,t){for(let n of e)Ry(n)&&(n=n.\u0275providers),Array.isArray(n)?Sf(n,t):t(n)}var V1=ne({provide:String,useValue:ne});function Uy(e){return e!==null&&typeof e=="object"&&V1 in e}function B1(e){return!!(e&&e.useExisting)}function j1(e){return!!(e&&e.useFactory)}function Ur(e){return typeof e=="function"}function U1(e){return!!e.useClass}var Xc=new E(""),wc={},Bv={},oh;function el(){return oh===void 0&&(oh=new Rc),oh}var ye=class{},es=class extends ye{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,Ch(t,s=>this.processProvider(s)),this.records.set(Fy,Or(void 0,this)),r.has("environment")&&this.records.set(ye,Or(void 0,this));let o=this.records.get(Xc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ly,He,V.Self))}retrieve(t,n){let i=n;return this.get(t,i.optional?Ga:Di,i)}destroy(){Qo(this),this._destroyed=!0;let t=F(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(t)}}onDestroy(t){return Qo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Qo(this);let n=an(this),i=ot(void 0),r;try{return t()}finally{an(n),ot(i)}}get(t,n=Di,i=V.Default){if(Qo(this),t.hasOwnProperty(Lv))return t[Lv](this);i=Jc(i);let r,o=an(this),s=ot(void 0);try{if(!(i&V.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=z1(t)&&Qc(t);l&&this.injectableDefInScope(l)?c=Or(Dh(t),wc):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=i&V.Self?el():this.parent;return n=i&V.Optional&&n===Di?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nc]=a[Nc]||[]).unshift($e(t)),o)throw a;return M1(a,t,"R3InjectorError",this.source)}else throw a}finally{ot(s),an(o)}}resolveInjectorInitializers(){let t=F(null),n=an(this),i=ot(void 0),r;try{let o=this.get(jr,He,V.Self);for(let s of o)s()}finally{an(n),ot(i),F(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push($e(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Fe(t);let n=Ur(t)?t:Fe(t&&t.provide),i=$1(t);if(!Ur(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Or(void 0,wc,!0),r.factory=()=>wh(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=F(null);try{return n.value===Bv?Oy($e(t)):n.value===wc&&(n.value=Bv,n.value=n.factory()),typeof n.value=="object"&&n.value&&W1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{F(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Fe(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Dh(e){let t=Qc(e),n=t!==null?t.factory:Br(e);if(n!==null)return n;if(e instanceof E)throw new w(204,!1);if(e instanceof Function)return H1(e);throw new w(204,!1)}function H1(e){if(e.length>0)throw new w(204,!1);let n=p1(e);return n!==null?()=>n.factory(e):()=>new e}function $1(e){if(Uy(e))return Or(void 0,e.useValue);{let t=Hy(e);return Or(t,wc)}}function Hy(e,t,n){let i;if(Ur(e)){let r=Fe(e);return Br(r)||Dh(r)}else if(Uy(e))i=()=>Fe(e.useValue);else if(j1(e))i=()=>e.useFactory(...wh(e.deps||[]));else if(B1(e))i=()=>T(Fe(e.useExisting));else{let r=Fe(e&&(e.useClass||e.provide));if(G1(e))i=()=>new r(...wh(e.deps));else return Br(r)||Dh(r)}return i}function Qo(e){if(e.destroyed)throw new w(205,!1)}function Or(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function G1(e){return!!e.deps}function W1(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function z1(e){return typeof e=="function"||typeof e=="object"&&e instanceof E}function Ch(e,t){for(let n of e)Array.isArray(n)?Ch(n,t):n&&Ry(n)?Ch(n.\u0275providers,t):t(n)}function Ne(e,t){let n;e instanceof es?(Qo(e),n=e):n=new Mc(e);let i,r=an(n),o=ot(void 0);try{return t()}finally{an(r),ot(o)}}function $y(){return ky()!==void 0||zo()!=null}function tl(e){if(!$y())throw new w(-203,!1)}function q1(e){return typeof e=="function"}var gn=0,R=1,A=2,Me=3,vt=4,Ge=5,Hr=6,Oc=7,ve=8,$r=9,dn=10,de=11,ts=12,jv=13,Qr=14,Ke=15,Ti=16,kr=17,hn=18,nl=19,Gy=20,Vn=21,sh=22,kc=23,st=24,Fr=25,Le=26,Wy=1;var Si=7,Pc=8,Gr=9,Se=10;function Bn(e){return Array.isArray(e)&&typeof e[Wy]=="object"}function mn(e){return Array.isArray(e)&&e[Wy]===!0}function zy(e){return(e.flags&4)!==0}function Jr(e){return e.componentOffset>-1}function Mf(e){return(e.flags&1)===1}function Ft(e){return!!e.template}function xc(e){return(e[A]&512)!==0}function us(e){return(e[A]&256)===256}var Ih=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function qy(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}var We=(()=>{let e=()=>Yy;return e.ngInherit=!0,e})();function Yy(e){return e.type.prototype.ngOnChanges&&(e.setInput=K1),Y1}function Y1(){let e=Zy(this),t=e?.current;if(t){let n=e.previous;if(n===Ii)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function K1(e,t,n,i,r){let o=this.declaredInputs[i],s=Zy(e)||Z1(e,{previous:Ii,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ih(l&&l.currentValue,n,c===Ii),qy(e,t,r,n)}var Ky="__ngSimpleChanges__";function Zy(e){return e[Ky]||null}function Z1(e,t){return e[Ky]=t}var Uv=null;var ee=function(e,t=null,n){Uv?.(e,t,n)},Qy="svg",Q1="math";function Lt(e){for(;Array.isArray(e);)e=e[gn];return e}function Jy(e,t){return Lt(t[e])}function Gt(e,t){return Lt(t[e.index])}function Nf(e,t){return e.data[t]}function J1(e,t){return e[t]}function Vt(e,t){let n=t[e];return Bn(n)?n:n[gn]}function X1(e){return(e[A]&4)===4}function Af(e){return(e[A]&128)===128}function eM(e){return mn(e[Me])}function Wr(e,t){return t==null?null:e[t]}function Xy(e){e[kr]=0}function e0(e){e[A]&1024||(e[A]|=1024,Af(e)&&ds(e))}function tM(e,t){for(;e>0;)t=t[Qr],e--;return t}function il(e){return!!(e[A]&9216||e[st]?.dirty)}function Th(e){e[dn].changeDetectionScheduler?.notify(8),e[A]&64&&(e[A]|=1024),il(e)&&ds(e)}function ds(e){e[dn].changeDetectionScheduler?.notify(0);let t=Mi(e);for(;t!==null&&!(t[A]&8192||(t[A]|=8192,!Af(t)));)t=Mi(t)}function t0(e,t){if(us(e))throw new w(911,!1);e[Vn]===null&&(e[Vn]=[]),e[Vn].push(t)}function nM(e,t){if(e[Vn]===null)return;let n=e[Vn].indexOf(t);n!==-1&&e[Vn].splice(n,1)}function Mi(e){let t=e[Me];return mn(t)?t[Me]:t}function Rf(e){return e[Oc]??=[]}function Of(e){return e.cleanup??=[]}function iM(e,t,n,i){let r=Rf(t);r.push(n),e.firstCreatePass&&Of(e).push(i,r.length-1)}var k={lFrame:g0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Sh=!1;function rM(){return k.lFrame.elementDepthCount}function oM(){k.lFrame.elementDepthCount++}function sM(){k.lFrame.elementDepthCount--}function n0(){return k.bindingsEnabled}function i0(){return k.skipHydrationRootTNode!==null}function aM(e){return k.skipHydrationRootTNode===e}function cM(){k.skipHydrationRootTNode=null}function B(){return k.lFrame.lView}function fe(){return k.lFrame.tView}function r0(e){return k.lFrame.contextLView=e,e[ve]}function o0(e){return k.lFrame.contextLView=null,e}function Ve(){let e=s0();for(;e!==null&&e.type===64;)e=e.parent;return e}function s0(){return k.lFrame.currentTNode}function lM(){let e=k.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function hs(e,t){let n=k.lFrame;n.currentTNode=e,n.isParent=t}function a0(){return k.lFrame.isParent}function c0(){k.lFrame.isParent=!1}function uM(){return k.lFrame.contextLView}function l0(){return Sh}function Hv(e){let t=Sh;return Sh=e,t}function u0(){let e=k.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function dM(e){return k.lFrame.bindingIndex=e}function Pi(){return k.lFrame.bindingIndex++}function d0(e){let t=k.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function hM(){return k.lFrame.inI18n}function fM(e,t){let n=k.lFrame;n.bindingIndex=n.bindingRootIndex=e,Mh(t)}function pM(){return k.lFrame.currentDirectiveIndex}function Mh(e){k.lFrame.currentDirectiveIndex=e}function gM(e){let t=k.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function h0(){return k.lFrame.currentQueryIndex}function kf(e){k.lFrame.currentQueryIndex=e}function mM(e){let t=e[R];return t.type===2?t.declTNode:t.type===1?e[Ge]:null}function f0(e,t,n){if(n&V.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&V.Host);)if(r=mM(o),r===null||(o=o[Qr],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=k.lFrame=p0();return i.currentTNode=t,i.lView=e,!0}function Pf(e){let t=p0(),n=e[R];k.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function p0(){let e=k.lFrame,t=e===null?null:e.child;return t===null?g0(e):t}function g0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function m0(){let e=k.lFrame;return k.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var _0=m0;function xf(){let e=m0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _M(e){return(k.lFrame.contextLView=tM(e,k.lFrame.contextLView))[ve]}function Gn(){return k.lFrame.selectedIndex}function Ni(e){k.lFrame.selectedIndex=e}function rl(){let e=k.lFrame;return Nf(e.tView,e.selectedIndex)}function Qq(){k.lFrame.currentNamespace=Qy}function Jq(){vM()}function vM(){k.lFrame.currentNamespace=null}function yM(){return k.lFrame.currentNamespace}var v0=!0;function Ff(){return v0}function Lf(e){v0=e}function bM(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=Yy(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function y0(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ec(e,t,n){b0(e,t,3,n)}function Dc(e,t,n,i){(e[A]&3)===n&&b0(e,t,n,i)}function ah(e,t){let n=e[A];(n&3)===t&&(n&=16383,n+=1,e[A]=n)}function b0(e,t,n,i){let r=i!==void 0?e[kr]&65535:0,o=i??-1,s=t.length-1,a=0;for(let c=r;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],i!=null&&a>=i)break}else t[c]<0&&(e[kr]+=65536),(a<o||o==-1)&&(wM(e,n,t,c),e[kr]=(e[kr]&4294901760)+c+2),c++}function $v(e,t){ee(4,e,t);let n=F(null);try{t.call(e)}finally{F(n),ee(5,e,t)}}function wM(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[A]>>14<e[kr]>>16&&(e[A]&3)===t&&(e[A]+=16384,$v(a,o)):$v(a,o)}var Lr=-1,Ai=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=i}};function EM(e){return(e.flags&8)!==0}function DM(e){return(e.flags&16)!==0}function CM(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];IM(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function w0(e){return e===3||e===4||e===6}function IM(e){return e.charCodeAt(0)===64}function ns(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?Gv(e,n,r,null,t[++i]):Gv(e,n,r,null,null))}}return e}function Gv(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function E0(e){return e!==Lr}function Fc(e){return e&32767}function TM(e){return e>>16}function Lc(e,t){let n=TM(e),i=t;for(;n>0;)i=i[Qr],n--;return i}var Nh=!0;function Wv(e){let t=Nh;return Nh=e,t}var SM=256,D0=SM-1,C0=5,MM=0,xt={};function NM(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Xo)&&(i=n[Xo]),i==null&&(i=n[Xo]=MM++);let r=i&D0,o=1<<r;t.data[e+(r>>C0)]|=o}function Vc(e,t){let n=I0(e,t);if(n!==-1)return n;let i=t[R];i.firstCreatePass&&(e.injectorIndex=t.length,ch(i.data,e),ch(t,null),ch(i.blueprint,null));let r=Vf(e,t),o=e.injectorIndex;if(E0(r)){let s=Fc(r),a=Lc(r,t),c=a[R].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function ch(e,t){e.push(0,0,0,0,0,0,0,0,t)}function I0(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Vf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=A0(r),i===null)return Lr;if(n++,r=r[Qr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Lr}function Ah(e,t,n){NM(e,t,n)}function AM(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(w0(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function T0(e,t,n){if(n&V.Optional||e!==void 0)return e;Cf(t,"NodeInjector")}function S0(e,t,n,i){if(n&V.Optional&&i===void 0&&(i=null),(n&(V.Self|V.Host))===0){let r=e[$r],o=ot(void 0);try{return r?r.get(t,i,n&V.Optional):Py(t,i,n&V.Optional)}finally{ot(o)}}return T0(i,t,n)}function M0(e,t,n,i=V.Default,r){if(e!==null){if(t[A]&2048&&!(i&V.Self)){let s=PM(e,t,n,i,xt);if(s!==xt)return s}let o=N0(e,t,n,i,xt);if(o!==xt)return o}return S0(t,n,i,r)}function N0(e,t,n,i,r){let o=OM(n);if(typeof o=="function"){if(!f0(t,e,i))return i&V.Host?T0(r,n,i):S0(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&V.Optional))Cf(n);else return s}finally{_0()}}else if(typeof o=="number"){let s=null,a=I0(e,t),c=Lr,l=i&V.Host?t[Ke][Ge]:null;for((a===-1||i&V.SkipSelf)&&(c=a===-1?Vf(e,t):t[a+8],c===Lr||!qv(i,!1)?a=-1:(s=t[R],a=Fc(c),t=Lc(c,t)));a!==-1;){let u=t[R];if(zv(o,a,u.data)){let d=RM(a,t,n,s,i,l);if(d!==xt)return d}c=t[a+8],c!==Lr&&qv(i,t[R].data[a+8]===l)&&zv(o,a,t)?(s=u,a=Fc(c),t=Lc(c,t)):a=-1}}return r}function RM(e,t,n,i,r,o){let s=t[R],a=s.data[e+8],c=i==null?Jr(a)&&Nh:i!=s&&(a.type&3)!==0,l=r&V.Host&&o===a,u=Cc(a,s,n,c,l);return u!==null?is(t,s,u,a):xt}function Cc(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=i?a:a+u,f=r?a+u:l;for(let h=d;h<f;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(r){let h=s[c];if(h&&Ft(h)&&h.type===n)return c}return null}function is(e,t,n,i){let r=e[n],o=t.data;if(r instanceof Ai){let s=r;s.resolving&&Oy(b1(o[n]));let a=Wv(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ot(s.injectImpl):null,u=f0(e,i,V.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&bM(n,o[n],t)}finally{l!==null&&ot(l),Wv(a),s.resolving=!1,_0()}}return r}function OM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Xo)?e[Xo]:void 0;return typeof t=="number"?t>=0?t&D0:kM:t}function zv(e,t,n){let i=1<<e;return!!(n[t+(e>>C0)]&i)}function qv(e,t){return!(e&V.Self)&&!(e&V.Host&&t)}var Ci=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return M0(this._tNode,this._lView,t,Jc(i),n)}};function kM(){return new Ci(Ve(),B())}function Wn(e){return as(()=>{let t=e.prototype.constructor,n=t[Sc]||Rh(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Sc]||Rh(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Rh(e){return Sy(e)?()=>{let t=Rh(Fe(e));return t&&t()}:Br(e)}function PM(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[A]&2048&&!xc(s);){let a=N0(o,s,n,i|V.Self,xt);if(a!==xt)return a;let c=o.parent;if(!c){let l=s[Gy];if(l){let u=l.get(n,xt,i);if(u!==xt)return u}c=A0(s),s=s[Qr]}o=c}return r}function A0(e){let t=e[R],n=t.type;return n===2?t.declTNode:n===1?e[Ge]:null}function zn(e){return AM(Ve(),e)}function Yv(e,t=null,n=null,i){let r=R0(e,t,n,i);return r.resolveInjectorInitializers(),r}function R0(e,t=null,n=null,i,r=new Set){let o=[n||He,L1(e)];return i=i||(typeof e=="object"?void 0:$e(e)),new es(o,t||el(),i||null,r)}var ce=class e{static THROW_IF_NOT_FOUND=Di;static NULL=new Rc;static create(t,n){if(Array.isArray(t))return Yv({name:""},n,t,"");{let i=t.name??"";return Yv({name:i},t.parent,t.providers,i)}}static \u0275prov=b({token:e,providedIn:"any",factory:()=>T(Fy)});static __NG_ELEMENT_ID__=-1};var xM=new E("");xM.__NG_ELEMENT_ID__=e=>{let t=Ve();if(t===null)throw new w(204,!1);if(t.type&2)return t.value;if(e&V.Optional)return null;throw new w(204,!1)};var O0=!1,_n=(()=>{class e{static __NG_ELEMENT_ID__=FM;static __NG_ENV_ID__=n=>n}return e})(),Oh=class extends _n{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return t0(this._lView,t),()=>nM(this._lView,t)}};function FM(){return new Oh(B())}var Ri=class{},Bf=new E("",{providedIn:"root",factory:()=>!1});var k0=new E(""),P0=new E(""),xi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new we(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),ol=(()=>{class e{internalPendingTasks=m(xi);scheduler=m(Ri);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return p(this,null,function*(){let i=this.add();try{return yield n()}finally{i()}})}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),kh=class extends z{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,$y()&&(this.destroyRef=m(_n,{optional:!0})??void 0,this.pendingTasks=m(xi,{optional:!0})??void 0)}emit(t){let n=F(null);try{super.next(t)}finally{F(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof ue&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},q=kh;function Bc(...e){}function x0(e){let t,n;function i(){e=Bc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Kv(e){return queueMicrotask(()=>e()),()=>{e=Bc}}var jf="isAngularZone",jc=jf+"_ID",LM=0,H=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new q(!1);onMicrotaskEmpty=new q(!1);onStable=new q(!1);onError=new q(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=O0}=t;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,jM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new w(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,VM,Bc,Bc);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},VM={};function Uf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function BM(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){x0(()=>{e.callbackScheduled=!1,Ph(e),e.isCheckStableRunning=!0,Uf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ph(e)}function jM(e){let t=()=>{BM(e)},n=LM++;e._inner=e._inner.fork({name:"angular",properties:{[jf]:!0,[jc]:n,[jc+n]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(UM(c))return i.invokeTask(o,s,a,c);try{return Zv(e),i.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Qv(e)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return Zv(e),i.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!HM(c)&&t(),Qv(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ph(e),Uf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ph(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Zv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Qv(e){e._nesting--,Uf(e)}var xh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new q;onMicrotaskEmpty=new q;onStable=new q;onError=new q;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function UM(e){return F0(e,"__ignore_ng_zone__")}function HM(e){return F0(e,"__scheduler_tick__")}function F0(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Bt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},$M=new E("",{providedIn:"root",factory:()=>{let e=m(H),t=m(Bt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Jv(e,t){return Ty(e,t)}function GM(e){return Ty(Iy,e)}var L0=(Jv.required=GM,Jv);function WM(){return Xr(Ve(),B())}function Xr(e,t){return new pe(Gt(e,t))}var pe=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=WM}return e})();function zM(e){return e instanceof pe?e.nativeElement:e}function qM(e){return typeof e=="function"&&e[it]!==void 0}function Fi(e,t){let n=Od(e,t?.equal),i=n[it];return n.set=r=>Wo(i,r),n.update=r=>kd(i,r),n.asReadonly=YM.bind(n),n}function YM(){let e=this[it];if(e.readonlyFn===void 0){let t=()=>this();t[it]=e,e.readonlyFn=t}return e.readonlyFn}function V0(e){return qM(e)&&typeof e.set=="function"}function KM(){return this._results[Symbol.iterator]()}var Fh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new z}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=R1(t);(this._changesDetected=!A1(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=KM};function B0(e){return(e.flags&128)===128}var j0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(j0||{}),U0=new Map,ZM=0;function QM(){return ZM++}function JM(e){U0.set(e[nl],e)}function Lh(e){U0.delete(e[nl])}var Xv="__ngContext__";function fs(e,t){Bn(t)?(e[Xv]=t[nl],JM(t)):e[Xv]=t}function H0(e){return G0(e[ts])}function $0(e){return G0(e[vt])}function G0(e){for(;e!==null&&!mn(e);)e=e[vt];return e}var Vh;function W0(e){Vh=e}function z0(){if(Vh!==void 0)return Vh;if(typeof document<"u")return document;throw new w(210,!1)}var Hf=new E("",{providedIn:"root",factory:()=>XM}),XM="ng",$f=new E(""),vn=new E("",{providedIn:"platform",factory:()=>"unknown"});var Gf=new E("",{providedIn:"root",factory:()=>z0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var eN="h",tN="b";var q0=!1,nN=new E("",{providedIn:"root",factory:()=>q0});var Wf=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Wf||{}),eo=new E(""),ey=new Set;function Li(e){ey.has(e)||(ey.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Y0=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=iN}return e})();function iN(){return new Y0(B(),Ve())}var Pr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Pr||{}),K0=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),rN=[Pr.EarlyRead,Pr.Write,Pr.MixedReadWrite,Pr.Read],oN=(()=>{class e{ngZone=m(H);scheduler=m(Ri);errorHandler=m(Bt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(eo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ee(16),this.executing=!0;for(let i of rN)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ee(17)}register(n){let{view:i}=n;i!==void 0?((i[Fr]??=[]).push(n),ds(i),i[A]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(Wf.AFTER_NEXT_RENDER,n):n()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),Bh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,r,o,s=null){this.impl=t,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Fr];t&&(this.view[Fr]=t.filter(n=>n!==this))}};function zf(e,t){!t?.injector&&tl(zf);let n=t?.injector??m(ce);return Li("NgAfterNextRender"),aN(e,n,t,!0)}function sN(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function aN(e,t,n,i){let r=t.get(K0);r.impl??=t.get(oN);let o=t.get(eo,null,{optional:!0}),s=n?.phase??Pr.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(_n):null,c=t.get(Y0,null,{optional:!0}),l=new Bh(r.impl,sN(e,s),c?.view,i,a,o?.snapshot(null));return r.impl.register(l),l}var cN=()=>null;function Z0(e,t,n=!1){return cN(e,t,n)}function Q0(e,t){let n=e.contentQueries;if(n!==null){let i=F(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];kf(o),a.contentQueries(2,t[s],s)}}}finally{F(i)}}}function jh(e,t,n){kf(0);let i=F(null);try{t(e,n)}finally{F(i)}}function J0(e,t,n){if(zy(t)){let i=F(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{F(i)}}}var jt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(jt||{}),_c;function lN(){if(_c===void 0&&(_c=null,Vr.trustedTypes))try{_c=Vr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _c}function sl(e){return lN()?.createHTML(e)||e}var vc;function X0(){if(vc===void 0&&(vc=null,Vr.trustedTypes))try{vc=Vr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return vc}function ty(e){return X0()?.createHTML(e)||e}function ny(e){return X0()?.createScriptURL(e)||e}var fn=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cy})`}},Uh=class extends fn{getTypeName(){return"HTML"}},Hh=class extends fn{getTypeName(){return"Style"}},$h=class extends fn{getTypeName(){return"Script"}},Gh=class extends fn{getTypeName(){return"URL"}},Wh=class extends fn{getTypeName(){return"ResourceURL"}};function ct(e){return e instanceof fn?e.changingThisBreaksApplicationSecurity:e}function yn(e,t){let n=uN(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Cy})`)}return n===t}function uN(e){return e instanceof fn&&e.getTypeName()||null}function eb(e){return new Uh(e)}function tb(e){return new Hh(e)}function nb(e){return new $h(e)}function ib(e){return new Gh(e)}function rb(e){return new Wh(e)}function dN(e){let t=new qh(e);return hN()?new zh(t):t}var zh=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(sl(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},qh=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=sl(t),n}};function hN(){try{return!!new window.DOMParser().parseFromString(sl(""),"text/html")}catch{return!1}}var fN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function al(e){return e=String(e),e.match(fN)?e:"unsafe:"+e}function bn(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function ps(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}var ob=bn("area,br,col,hr,img,wbr"),sb=bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ab=bn("rp,rt"),pN=ps(ab,sb),gN=ps(sb,bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mN=ps(ab,bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),iy=ps(ob,gN,mN,pN),cb=bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_N=bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vN=bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),yN=ps(cb,_N,vN),bN=bn("script,style,template"),Yh=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=DN(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=EN(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(t){let n=ry(t).toLowerCase();if(!iy.hasOwnProperty(n))return this.sanitizedSomething=!0,!bN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!yN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;cb[a]&&(c=al(c)),this.buf.push(" ",s,'="',oy(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=ry(t).toLowerCase();iy.hasOwnProperty(n)&&!ob.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(oy(t))}};function wN(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function EN(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw lb(t);return t}function DN(e){let t=e.firstChild;if(t&&wN(e,t))throw lb(t);return t}function ry(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function lb(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var CN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IN=/([^\#-~ |!])/g;function oy(e){return e.replace(/&/g,"&amp;").replace(CN,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(IN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var yc;function qf(e,t){let n=null;try{yc=yc||dN(e);let i=t?String(t):"";n=yc.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=yc.getInertBodyElement(i)}while(i!==o);let a=new Yh().sanitizeChildren(sy(n)||n);return sl(a)}finally{if(n){let i=sy(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function sy(e){return"content"in e&&TN(e)?e.content:null}function TN(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var yt=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(yt||{});function Xq(e){let t=Yf();return t?ty(t.sanitize(yt.HTML,e)||""):yn(e,"HTML")?ty(ct(e)):qf(z0(),cs(e))}function SN(e){let t=Yf();return t?t.sanitize(yt.URL,e)||"":yn(e,"URL")?ct(e):al(cs(e))}function MN(e){let t=Yf();if(t)return ny(t.sanitize(yt.RESOURCE_URL,e)||"");if(yn(e,"ResourceURL"))return ny(ct(e));throw new w(904,!1)}function NN(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?MN:SN}function ub(e,t,n){return NN(t,n)(e)}function Yf(){let e=B();return e&&e[dn].sanitizer}function db(e){return e instanceof Function?e():e}function AN(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var hb="ng-template";function RN(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&AN(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Kf(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Kf(e){return e.type===4&&e.value!==hb}function ON(e,t,n){let i=e.type===4&&!n?hb:e.value;return t===i}function kN(e,t,n){let i=4,r=e.attrs,o=r!==null?FN(r):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!mt(i)&&!mt(c))return!1;if(s&&mt(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!ON(e,c,n)||c===""&&t.length===1){if(mt(i))return!1;s=!0}}else if(i&8){if(r===null||!RN(e,r,c,n)){if(mt(i))return!1;s=!0}}else{let l=t[++a],u=PN(c,r,Kf(e),n);if(u===-1){if(mt(i))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&l!==d){if(mt(i))return!1;s=!0}}}}return mt(i)||s}function mt(e){return(e&1)===0}function PN(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return LN(t,e)}function fb(e,t,n=!1){for(let i=0;i<t.length;i++)if(kN(e,t[i],n))return!0;return!1}function xN(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function FN(e){for(let t=0;t<e.length;t++){let n=e[t];if(w0(n))return t}return e.length}function LN(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function VN(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function ay(e,t){return e?":not("+t.trim()+")":t}function BN(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!mt(s)&&(t+=ay(o,r),r=""),i=s,o=o||!mt(i);n++}return r!==""&&(t+=ay(o,r)),t}function jN(e){return e.map(BN).join(",")}function UN(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!mt(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var Wt={};function HN(e,t){return e.createText(t)}function $N(e,t,n){e.setValue(t,n)}function pb(e,t,n){return e.createElement(t,n)}function Uc(e,t,n,i,r){e.insertBefore(t,n,i,r)}function gb(e,t,n){e.appendChild(t,n)}function cy(e,t,n,i,r){i!==null?Uc(e,t,n,i,r):gb(e,t,n)}function GN(e,t,n){e.removeChild(null,t,n)}function WN(e,t,n){e.setAttribute(t,"style",n)}function zN(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function mb(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&CM(e,t,i),r!==null&&zN(e,t,r),o!==null&&WN(e,t,o)}function Zf(e,t,n,i,r,o,s,a,c,l,u){let d=Le+i,f=d+r,h=qN(d,f),g=typeof l=="function"?l():l;return h[R]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function qN(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Wt);return n}function YN(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Zf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Qf(e,t,n,i,r,o,s,a,c,l,u){let d=t.blueprint.slice();return d[gn]=r,d[A]=i|4|128|8|64|1024,(l!==null||e&&e[A]&2048)&&(d[A]|=2048),Xy(d),d[Me]=d[Qr]=e,d[ve]=n,d[dn]=s||e&&e[dn],d[de]=a||e&&e[de],d[$r]=c||e&&e[$r]||null,d[Ge]=o,d[nl]=QM(),d[Hr]=u,d[Gy]=l,d[Ke]=t.type==2?e[Ke]:d,d}function KN(e,t,n){let i=Gt(t,e),r=YN(n),o=e[dn].rendererFactory,s=Jf(e,Qf(e,r,null,_b(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function _b(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function vb(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Jf(e,t){return e[ts]?e[jv][vt]=t:e[ts]=t,e[jv]=t,t}function gs(e=1){yb(fe(),B(),Gn()+e,!1)}function yb(e,t,n,i){if(!i)if((t[A]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ec(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Dc(t,o,0,n)}Ni(n)}var cl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cl||{});function Kh(e,t,n,i){let r=F(null);try{let[o,s,a]=e.inputs[n],c=null;(s&cl.SignalBased)!==0&&(c=t[o][it]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,c,i,n,o):qy(t,c,o,i)}finally{F(r)}}function bb(e,t,n,i,r){let o=Gn(),s=i&2;try{Ni(-1),s&&t.length>Le&&yb(e,t,Le,!1),ee(s?2:0,r),n(i,r)}finally{Ni(o),ee(s?3:1,r)}}function Xf(e,t,n){tA(e,t,n),(n.flags&64)===64&&nA(e,t,n)}function wb(e,t,n=Gt){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function ZN(e,t,n,i){let o=i.get(nN,q0)||n===jt.ShadowDom,s=e.selectRootElement(t,o);return QN(s),s}function QN(e){JN(e)}var JN=()=>null;function XN(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ep(e,t,n,i,r,o,s,a){if(!a&&tp(t,e,n,i,r)){Jr(t)&&eA(n,t.index);return}if(t.type&3){let c=Gt(t,n);i=XN(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(c,i,r)}else t.type&12}function eA(e,t){let n=Vt(t,e);n[A]&16||(n[A]|=64)}function tA(e,t,n){let i=n.directiveStart,r=n.directiveEnd;Jr(n)&&KN(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Vc(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],c=is(t,e,s,n);if(fs(c,t),o!==null&&sA(t,s-i,c,a,n,o),Ft(a)){let l=Vt(n.index,t);l[ve]=is(t,e,s,n)}}}function nA(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=pM();try{Ni(o);for(let a=i;a<r;a++){let c=e.data[a],l=t[a];Mh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&iA(c,l)}}finally{Ni(-1),Mh(s)}}function iA(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Eb(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];fb(t,o.selectors,!1)&&(i??=[],Ft(o)?i.unshift(o):i.push(o))}return i}function rA(e,t,n,i,r,o){let s=Gt(e,t);oA(t[de],s,o,e.value,n,i,r)}function oA(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?cs(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function sA(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Kh(i,n,c,l)}}function aA(e,t){let n=e[$r],i=n?n.get(Bt,null):null;i&&i.handleError(t)}function tp(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Kh(d,n[l],u,r),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Kh(u,l,i,r),a=!0}return a}function cA(e,t){let n=Vt(t,e),i=n[R];lA(i,n);let r=n[gn];r!==null&&n[Hr]===null&&(n[Hr]=Z0(r,n[$r])),ee(18),np(i,n,n[ve]),ee(19,n[ve])}function lA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function np(e,t,n){Pf(t);try{let i=e.viewQuery;i!==null&&jh(1,i,n);let r=e.template;r!==null&&bb(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[hn]?.finishViewCreation(e),e.staticContentQueries&&Q0(e,t),e.staticViewQueries&&jh(2,e.viewQuery,n);let o=e.components;o!==null&&uA(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[A]&=-5,xf()}}function uA(e,t){for(let n=0;n<t.length;n++)cA(e,t[n])}function ms(e,t,n,i){let r=F(null);try{let o=t.tView,a=e[A]&4096?4096:16,c=Qf(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=e[t.index];c[Ti]=l;let u=e[hn];return u!==null&&(c[hn]=u.createEmbeddedView(o)),np(o,c,n),c}finally{F(r)}}function zr(e,t){return!t||t.firstChild===null||B0(e)}var dA;function ip(e,t){return dA(e,t)}var pn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pn||{});function rp(e){return(e.flags&32)===32}function xr(e,t,n,i,r){if(i!=null){let o,s=!1;mn(i)?o=i:Bn(i)&&(s=!0,i=i[gn]);let a=Lt(i);e===0&&n!==null?r==null?gb(t,n,a):Uc(t,n,a,r||null,!0):e===1&&n!==null?Uc(t,n,a,r||null,!0):e===2?GN(t,a,s):e===3&&t.destroyNode(a),o!=null&&wA(t,e,o,n,r)}}function hA(e,t){Db(e,t),t[gn]=null,t[Ge]=null}function fA(e,t,n,i,r,o){i[gn]=r,i[Ge]=t,ul(e,i,n,1,r,o)}function Db(e,t){t[dn].changeDetectionScheduler?.notify(9),ul(e,t,t[de],2,null,null)}function pA(e){let t=e[ts];if(!t)return lh(e[R],e);for(;t;){let n=null;if(Bn(t))n=t[ts];else{let i=t[Se];i&&(n=i)}if(!n){for(;t&&!t[vt]&&t!==e;)Bn(t)&&lh(t[R],t),t=t[Me];t===null&&(t=e),Bn(t)&&lh(t[R],t),n=t&&t[vt]}t=n}}function op(e,t){let n=e[Gr],i=n.indexOf(t);n.splice(i,1)}function ll(e,t){if(us(t))return;let n=t[de];n.destroyNode&&ul(e,t,n,3,null,null),pA(t)}function lh(e,t){if(us(t))return;let n=F(null);try{t[A]&=-129,t[A]|=256,t[st]&&Nd(t[st]),mA(e,t),gA(e,t),t[R].type===1&&t[de].destroy();let i=t[Ti];if(i!==null&&mn(t[Me])){i!==t[Me]&&op(i,t);let r=t[hn];r!==null&&r.detachView(e)}Lh(t)}finally{F(n)}}function gA(e,t){let n=e.cleanup,i=t[Oc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[Oc]=null);let r=t[Vn];if(r!==null){t[Vn]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[kc];if(o!==null){t[kc]=null;for(let s of o)s.destroy()}}function mA(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Ai)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];ee(4,a,c);try{c.call(a)}finally{ee(5,a,c)}}else{ee(4,r,o);try{o.call(r)}finally{ee(5,r,o)}}}}}function Cb(e,t,n){return _A(e,t.parent,n)}function _A(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[gn];if(Jr(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===jt.None||r===jt.Emulated)return null}return Gt(i,n)}function Ib(e,t,n){return yA(e,t,n)}function vA(e,t,n){return e.type&40?Gt(e,n):null}var yA=vA,ly;function sp(e,t,n,i){let r=Cb(e,i,t),o=t[de],s=i.parent||t[Ge],a=Ib(s,i,t);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)cy(o,r,n[c],a,!1);else cy(o,r,n,a,!1);ly!==void 0&&ly(o,i,t,n,r)}function Jo(e,t){if(t!==null){let n=t.type;if(n&3)return Gt(t,e);if(n&4)return Zh(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Jo(e,i);{let r=e[t.index];return mn(r)?Zh(-1,r):Lt(r)}}else{if(n&128)return Jo(e,t.next);if(n&32)return ip(t,e)()||Lt(e[t.index]);{let i=Tb(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Mi(e[Ke]);return Jo(r,i)}else return Jo(e,t.next)}}}return null}function Tb(e,t){if(t!==null){let i=e[Ke][Ge],r=t.projection;return i.projection[r]}return null}function Zh(e,t){let n=Se+e+1;if(n<t.length){let i=t[n],r=i[R].firstChild;if(r!==null)return Jo(i,r)}return t[Si]}function ap(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(s&&t===0&&(a&&fs(Lt(a),i),n.flags|=2),!rp(n))if(c&8)ap(e,t,n.child,i,r,o,!1),xr(t,e,r,a,o);else if(c&32){let l=ip(n,i),u;for(;u=l();)xr(t,e,r,u,o);xr(t,e,r,a,o)}else c&16?Sb(e,t,i,n,r,o):xr(t,e,r,a,o);n=s?n.projectionNext:n.next}}function ul(e,t,n,i,r,o){ap(n,i,e.firstChild,t,r,o,!1)}function bA(e,t,n){let i=t[de],r=Cb(e,n,t),o=n.parent||t[Ge],s=Ib(o,n,t);Sb(i,0,t,n,r,s)}function Sb(e,t,n,i,r,o){let s=n[Ke],c=s[Ge].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];xr(t,e,r,u,o)}else{let l=c,u=s[Me];B0(i)&&(l.flags|=128),ap(e,t,l,u,r,o,!0)}}function wA(e,t,n,i,r){let o=n[Si],s=Lt(n);o!==s&&xr(t,e,i,o,r);for(let a=Se;a<n.length;a++){let c=n[a];ul(c[R],c,e,t,i,o)}}function EA(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:pn.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=pn.Important),e.setStyle(n,i,r,o))}}function Hc(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(Lt(o)),mn(o)&&DA(o,i);let s=n.type;if(s&8)Hc(e,t,n.child,i);else if(s&32){let a=ip(n,t),c;for(;c=a();)i.push(c)}else if(s&16){let a=Tb(t,n);if(Array.isArray(a))i.push(...a);else{let c=Mi(t[Ke]);Hc(c[R],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function DA(e,t){for(let n=Se;n<e.length;n++){let i=e[n],r=i[R].firstChild;r!==null&&Hc(i[R],i,r,t)}e[Si]!==e[gn]&&t.push(e[Si])}function Mb(e){if(e[Fr]!==null){for(let t of e[Fr])t.impl.addSequence(t);e[Fr].length=0}}var Nb=[];function CA(e){return e[st]??IA(e)}function IA(e){let t=Nb.pop()??Object.create(SA);return t.lView=e,t}function TA(e){e.lView[st]!==e&&(e.lView=null,Nb.push(e))}var SA=x(_({},$o),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ds(e.lView)},consumerOnSignalRead(){this.lView[st]=this}});function MA(e){let t=e[st]??Object.create(NA);return t.lView=e,t}var NA=x(_({},$o),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Mi(e.lView);for(;t&&!Ab(t[R]);)t=Mi(t);t&&e0(t)},consumerOnSignalRead(){this.lView[st]=this}});function Ab(e){return e.type!==2}function Rb(e){if(e[kc]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[kc])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[A]&8192)}}var AA=100;function Ob(e,t=!0,n=0){let r=e[dn].rendererFactory,o=!1;o||r.begin?.();try{RA(e,n)}catch(s){throw t&&aA(e,s),s}finally{o||r.end?.()}}function RA(e,t){let n=l0();try{Hv(!0),Qh(e,t);let i=0;for(;il(e);){if(i===AA)throw new w(103,!1);i++,Qh(e,1)}}finally{Hv(n)}}function OA(e,t,n,i){if(us(t))return;let r=t[A],o=!1,s=!1;Pf(t);let a=!0,c=null,l=null;o||(Ab(e)?(l=CA(t),c=ja(l)):Dd()===null?(a=!1,l=MA(t),c=ja(l)):t[st]&&(Nd(t[st]),t[st]=null));try{Xy(t),dM(e.bindingStartIndex),n!==null&&bb(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Ec(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Dc(t,h,0,null),ah(t,0)}if(s||kA(t),Rb(t),kb(t,0),e.contentQueries!==null&&Q0(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Ec(t,h)}else{let h=e.contentHooks;h!==null&&Dc(t,h,1),ah(t,1)}xA(e,t);let d=e.components;d!==null&&xb(t,d,0);let f=e.viewQuery;if(f!==null&&jh(2,f,i),!o)if(u){let h=e.viewCheckHooks;h!==null&&Ec(t,h)}else{let h=e.viewHooks;h!==null&&Dc(t,h,2),ah(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[sh]){for(let h of t[sh])h();t[sh]=null}o||(Mb(t),t[A]&=-73)}catch(u){throw o||ds(t),u}finally{l!==null&&(Sd(l,c),a&&TA(l)),xf()}}function kb(e,t){for(let n=H0(e);n!==null;n=$0(n))for(let i=Se;i<n.length;i++){let r=n[i];Pb(r,t)}}function kA(e){for(let t=H0(e);t!==null;t=$0(t)){if(!(t[A]&2))continue;let n=t[Gr];for(let i=0;i<n.length;i++){let r=n[i];e0(r)}}}function PA(e,t,n){ee(18);let i=Vt(t,e);Pb(i,n),ee(19,i[ve])}function Pb(e,t){Af(e)&&Qh(e,t)}function Qh(e,t){let i=e[R],r=e[A],o=e[st],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&Md(o)),s||=!1,o&&(o.dirty=!1),e[A]&=-9217,s)OA(i,e,i.template,e[ve]);else if(r&8192){Rb(e),kb(e,1);let a=i.components;a!==null&&xb(e,a,1),Mb(e)}}function xb(e,t,n){for(let i=0;i<t.length;i++)PA(e,t[i],n)}function xA(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Ni(~r);else{let o=r,s=n[++i],a=n[++i];fM(s,o);let c=t[o];ee(24,c),a(2,c),ee(25,c)}}}finally{Ni(-1)}}function cp(e,t){let n=l0()?64:1088;for(e[dn].changeDetectionScheduler?.notify(t);e;){e[A]|=n;let i=Mi(e);if(xc(e)&&!i)return e;e=i}return null}function Fb(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Lb(e,t){let n=Se+t;if(n<e.length)return e[n]}function _s(e,t,n,i=!0){let r=t[R];if(FA(r,t,e,n),i){let s=Zh(n,e),a=t[de],c=a.parentNode(e[Si]);c!==null&&fA(r,e[Ge],a,t,c,s)}let o=t[Hr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Vb(e,t){let n=rs(e,t);return n!==void 0&&ll(n[R],n),n}function rs(e,t){if(e.length<=Se)return;let n=Se+t,i=e[n];if(i){let r=i[Ti];r!==null&&r!==e&&op(r,i),t>0&&(e[n-1][vt]=i[vt]);let o=Ac(e,Se+t);hA(i[R],i);let s=o[hn];s!==null&&s.detachView(o[R]),i[Me]=null,i[vt]=null,i[A]&=-129}return i}function FA(e,t,n,i){let r=Se+i,o=n.length;i>0&&(n[r-1][vt]=t),i<o-Se?(t[vt]=n[r],xy(n,Se+i,t)):(n.push(t),t[vt]=null),t[Me]=n;let s=t[Ti];s!==null&&n!==s&&Bb(s,t);let a=t[hn];a!==null&&a.insertView(e),Th(t),t[A]|=128}function Bb(e,t){let n=e[Gr],i=t[Me];if(Bn(i))e[A]|=2;else{let r=i[Me][Ke];t[Ke]!==r&&(e[A]|=2)}n===null?e[Gr]=[t]:n.push(t)}var os=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[R];return Hc(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[ve]}set context(t){this._lView[ve]=t}get destroyed(){return us(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Me];if(mn(t)){let n=t[Pc],i=n?n.indexOf(this):-1;i>-1&&(rs(t,i),Ac(n,i))}this._attachedToViewContainer=!1}ll(this._lView[R],this._lView)}onDestroy(t){t0(this._lView,t)}markForCheck(){cp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A]&=-129}reattach(){Th(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,Ob(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=xc(this._lView),n=this._lView[Ti];n!==null&&!t&&op(n,this._lView),Db(this._lView[R],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t;let n=xc(this._lView),i=this._lView[Ti];i!==null&&!n&&Bb(i,this._lView),Th(this._lView)}};var Ut=(()=>{class e{static __NG_ELEMENT_ID__=BA}return e})(),LA=Ut,VA=class extends LA{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=ms(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new os(r)}};function BA(){return dl(Ve(),B())}function dl(e,t){return e.type&4?new VA(t,e,Xr(e,t)):null}function hl(e,t,n,i,r){let o=e.data[t];if(o===null)o=jA(e,t,n,i,r),hM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=lM();o.injectorIndex=s===null?-1:s.injectorIndex}return hs(o,!0),o}function jA(e,t,n,i,r){let o=s0(),s=a0(),a=s?o:o&&o.parent,c=e.data[t]=HA(e,a,n,t,i,r);return UA(e,c,o,s),c}function UA(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function HA(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return i0()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var n4=new RegExp(`^(\\d+)*(${tN}|${eN})*(.*)`);var $A=()=>null;function qr(e,t){return $A(e,t)}var GA=class{},jb=class{},Jh=class{resolveComponentFactory(t){throw Error(`No component factory found for ${$e(t)}.`)}},fl=class{static NULL=new Jh},Yr=class{},qn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>WA()}return e})();function WA(){let e=B(),t=Ve(),n=Vt(t.index,e);return(Bn(n)?n:e)[de]}var zA=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>null})}return e})();var uh={},Xh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Jc(i);let r=this.injector.get(t,uh,i);return r!==uh||n===uh?r:this.parentInjector.get(t,n,i)}};function uy(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=vh(r,a);else if(o==2){let c=a,l=t[++s];i=vh(i,c+": "+l+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function P(e,t=V.Default){let n=B();if(n===null)return T(e,t);let i=Ve();return M0(i,n,Fe(e),t)}function Ub(){let e="invalid";throw new Error(e)}function Hb(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a,c=null,l=null,u=YA(s);u===null?a=s:[a,c,l]=u,QA(e,t,n,a,o,c,l)}o!==null&&i!==null&&qA(n,i,o)}function qA(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new w(-301,!1);i.push(t[r],o)}}function YA(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Ft(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,KA(s,i,o,r)),s===t&&(i??=[],i.push(s));return i!==null?(i.push(...t===null?e:e.slice(1)),[i,r,o]):null}function KA(e,t,n,i){let r=t.length;e.findHostDirectiveDefs(e,t,i),n.set(e,[r,t.length-1])}function ZA(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function QA(e,t,n,i,r,o,s){let a=i.length,c=!1;for(let f=0;f<a;f++){let h=i[f];!c&&Ft(h)&&(c=!0,ZA(e,n,f)),Ah(Vc(n,t),e,h.type)}iR(n,e.data.length,a);for(let f=0;f<a;f++){let h=i[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=vb(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=i[f];if(n.mergedAttrs=ns(n.mergedAttrs,h.hostAttrs),XA(e,n,t,d,h),nR(d,h,r),s!==null&&s.has(h)){let[y,I]=s.get(h);n.directiveToIndex.set(h.type,[d,y+n.directiveStart,I+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}JA(e,n,o)}function JA(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))dy(0,t,r,i),dy(1,t,r,i),fy(t,i,!1);else{let o=n.get(r);hy(0,t,o,i),hy(1,t,o,i),fy(t,i,!0)}}}function dy(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),$b(t,o)}}function hy(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),$b(t,s)}}function $b(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function fy(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||Kf(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&r.hasOwnProperty(c)){let l=r[c];for(let u of l)if(u===t){s??=[],s.push(c,i[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function XA(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Br(r.type,!0)),s=new Ai(o,Ft(r),P);e.blueprint[i]=s,n[i]=s,eR(e,t,i,vb(e,n,r.hostVars,Wt),r)}function eR(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;tR(s)!=a&&s.push(a),s.push(n,i,o)}}function tR(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function nR(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Ft(t)&&(n[""]=e)}}function iR(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Gb(e,t,n,i,r,o,s,a){let c=t.consts,l=Wr(c,s),u=hl(t,e,2,i,l);return o&&Hb(t,n,u,Wr(c,a),r),u.mergedAttrs=ns(u.mergedAttrs,u.attrs),u.attrs!==null&&uy(u,u.attrs,!1),u.mergedAttrs!==null&&uy(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function Wb(e,t){y0(e,t),zy(t)&&e.queries.elementEnd(t)}var $c=class extends fl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=jn(t);return new Oi(n,this.ngModule)}};function rR(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&cl.SignalBased)!==0};return r&&(o.transform=r),o})}function oR(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function sR(e,t,n){let i=t instanceof ye?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new Xh(n,i):n}function aR(e){let t=e.get(Yr,null);if(t===null)throw new w(407,!1);let n=e.get(zA,null),i=e.get(Ri,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i}}function cR(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return pb(t,n,n==="svg"?Qy:n==="math"?Q1:null)}var Oi=class extends jb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=rR(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=oR(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=jN(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r){ee(22);let o=F(null);try{let s=this.componentDef,a=i?["ng-version","19.2.6"]:UN(this.componentDef.selectors[0]),c=Zf(0,null,null,1,0,null,null,null,null,[a],null),l=sR(s,r||this.ngModule,t),u=aR(l),d=u.rendererFactory.createRenderer(null,s),f=i?ZN(d,i,s.encapsulation,l):cR(s,d),h=Qf(null,c,null,512|_b(s),null,null,u,d,l,null,Z0(f,l,!0));h[Le]=f,Pf(h);let g=null;try{let y=Gb(Le,c,h,"#host",()=>[this.componentDef],!0,0);f&&(mb(d,f,y),fs(f,h)),Xf(c,h,y),J0(c,y,h),Wb(c,y),n!==void 0&&lR(y,this.ngContentSelectors,n),g=Vt(y.index,h),h[ve]=g[ve],np(c,h,null)}catch(y){throw g!==null&&Lh(g),Lh(h),y}finally{ee(23),xf()}return new ef(this.componentType,h)}finally{F(o)}}},ef=class extends GA{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=Nf(n[R],Le),this.location=Xr(this._tNode,n),this.instance=Vt(this._tNode.index,n)[ve],this.hostView=this.changeDetectorRef=new os(n,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=tp(i,r[R],r,t,n);this.previousInputValues.set(t,n);let s=Vt(i.index,r);cp(s,1)}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function lR(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var wn=(()=>{class e{static __NG_ELEMENT_ID__=uR}return e})();function uR(){let e=Ve();return qb(e,B())}var dR=wn,zb=class extends dR{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Xr(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){let t=Vf(this._hostTNode,this._hostLView);if(E0(t)){let n=Lc(t,this._hostLView),i=Fc(t),r=n[R].data[i+8];return new Ci(r,n)}else return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=py(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Se}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=qr(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,zr(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!q1(t),a;if(s)a=n;else{let g=n||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?t:new Oi(jn(t)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let y=(s?l:this.parentInjector).get(ye,null);y&&(o=y)}let u=jn(c.componentType??{}),d=qr(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,r,f,o);return this.insertImpl(h.hostView,a,zr(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(eM(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=r[Me],l=new zb(c,c[Ge],c[Me]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return _s(s,r,o,i),t.attachToViewContainerRef(),xy(dh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=py(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=rs(this._lContainer,n);i&&(Ac(dh(this._lContainer),n),ll(i[R],i))}detach(t){let n=this._adjustIndex(t,-1),i=rs(this._lContainer,n);return i&&Ac(dh(this._lContainer),n)!=null?new os(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function py(e){return e[Pc]}function dh(e){return e[Pc]||(e[Pc]=[])}function qb(e,t){let n,i=t[e.index];return mn(i)?n=i:(n=Fb(i,t,null,e),t[e.index]=n,Jf(t,n)),fR(n,t,e,i),new zb(n,e,t)}function hR(e,t){let n=e[de],i=n.createComment(""),r=Gt(t,e),o=n.parentNode(r);return Uc(n,o,i,n.nextSibling(r),!1),i}var fR=mR,pR=()=>!1;function gR(e,t,n){return pR(e,t,n)}function mR(e,t,n,i){if(e[Si])return;let r;n.type&8?r=Lt(i):r=hR(t,n),e[Si]=r}var tf=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},nf=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)lp(t,n).matches!==null&&this.queries[n].setDirty()}},Gc=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=CR(t):this.predicate=t}},rf=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},of=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,_R(n,o)),this.matchTNodeWithReadOption(t,n,Cc(n,t,o,!1,!1))}else i===Ut?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Cc(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===pe||r===wn||r===Ut&&n.type&4)this.addMatch(n.index,-2);else{let o=Cc(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function _R(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function vR(e,t){return e.type&11?Xr(e,t):e.type&4?dl(e,t):null}function yR(e,t,n,i){return n===-1?vR(t,e):n===-2?bR(e,t,i):is(e,e[R],n,t)}function bR(e,t,n){if(n===pe)return Xr(t,e);if(n===Ut)return dl(t,e);if(n===wn)return qb(t,e)}function Yb(e,t,n,i){let r=t[hn].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(yR(t,u,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function sf(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=Yb(e,t,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=t[-c];for(let d=Se;d<u.length;d++){let f=u[d];f[Ti]===f[Me]&&sf(f[R],f,l,i)}if(u[Gr]!==null){let d=u[Gr];for(let f=0;f<d.length;f++){let h=d[f];sf(h[R],h,l,i)}}}}}return i}function wR(e,t){return e[hn].queries[t].queryList}function Kb(e,t,n){let i=new Fh((n&4)===4);return iM(e,t,i,i.destroy),(t[hn]??=new nf).queries.push(new tf(i))-1}function ER(e,t,n){let i=fe();return i.firstCreatePass&&(Zb(i,new Gc(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),Kb(i,B(),t)}function DR(e,t,n,i){let r=fe();if(r.firstCreatePass){let o=Ve();Zb(r,new Gc(t,n,i),o.index),IR(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return Kb(r,B(),n)}function CR(e){return e.split(",").map(t=>t.trim())}function Zb(e,t,n){e.queries===null&&(e.queries=new rf),e.queries.track(new of(t,n))}function IR(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function lp(e,t){return e.queries.getByIndex(t)}function TR(e,t){let n=e[R],i=lp(n,t);return i.crossesNgTemplate?sf(n,e,t,[]):Yb(n,e,i,t)}var Kr=class{},up=class{};var af=class extends Kr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $c(this);constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n;let o=Vy(t);this._bootstrapComponents=db(o.bootstrap),this._r3Injector=R0(t,n,[{provide:Kr,useValue:this},{provide:fl,useValue:this.componentFactoryResolver},...i],$e(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},cf=class extends up{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new af(this.moduleType,t,[])}};var Wc=class extends Kr{injector;componentFactoryResolver=new $c(this);instance=null;constructor(t){super();let n=new es([...t.providers,{provide:Kr,useValue:this},{provide:fl,useValue:this.componentFactoryResolver}],t.parent||el(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function vs(e,t,n=null){return new Wc({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var SR=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=By(!1,n.type),r=i.length>0?vs([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(T(ye))})}return e})();function Vi(e){return as(()=>{let t=Qb(e),n=x(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===j0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(SR).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||jt.Emulated,styles:e.styles||He,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Li("NgStandalone"),Jb(n);let i=e.dependencies;return n.directiveDefs=gy(i,!1),n.pipeDefs=gy(i,!0),n.id=OR(n),n})}function MR(e){return jn(e)||x1(e)}function NR(e){return e!==null}function Z(e){return as(()=>({type:e.type,bootstrap:e.bootstrap||He,declarations:e.declarations||He,imports:e.imports||He,exports:e.exports||He,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function AR(e,t){if(e==null)return Ii;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=cl.None,c=null),n[o]=[i,a,c],t[o]=s}return n}function RR(e){if(e==null)return Ii;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Q(e){return as(()=>{let t=Qb(e);return Jb(t),t})}function Qb(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ii,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||He,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AR(e.inputs,t),outputs:RR(e.outputs),debugInfo:null}}function Jb(e){e.features?.forEach(t=>t(e))}function gy(e,t){if(!e)return null;let n=t?F1:MR;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(NR)}function OR(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function kR(e){return Object.getPrototypeOf(e.prototype).constructor}function Ze(e){let t=kR(e.type),n=!0,i=[e];for(;t;){let r;if(Ft(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=hh(e.inputs),s.declaredInputs=hh(e.declaredInputs),s.outputs=hh(e.outputs);let a=r.hostBindings;a&&VR(e,a);let c=r.viewQuery,l=r.contentQueries;if(c&&FR(e,c),l&&LR(e,l),PR(e,r),h1(e.outputs,r.outputs),Ft(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ze&&(n=!1)}}t=Object.getPrototypeOf(t)}xR(i)}function PR(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n])}}function xR(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ns(r.hostAttrs,n=ns(n,r.hostAttrs))}}function hh(e){return e===Ii?{}:e===He?[]:e}function FR(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function LR(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function VR(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function Xb(e,t,n){return e[t]=n}function at(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function BR(e,t,n,i){let r=at(e,t,n);return at(e,t+1,i)||r}function jR(e,t,n,i,r,o,s,a,c){let l=t.consts,u=hl(t,e,4,s||null,a||null);n0()&&Hb(t,n,u,Wr(l,c),Eb),u.mergedAttrs=ns(u.mergedAttrs,u.attrs),y0(t,u);let d=u.tView=Zf(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function zc(e,t,n,i,r,o,s,a,c,l){let u=n+Le,d=t.firstCreatePass?jR(u,t,e,i,r,o,s,a,c):t.data[u];hs(d,!1);let f=UR(t,e,d,n);Ff()&&sp(t,e,f,d),fs(f,e);let h=Fb(f,e,f,d);return e[u]=h,Jf(e,h),gR(h,d,e),Mf(d)&&Xf(t,e,d),c!=null&&wb(e,d,l),d}function to(e,t,n,i,r,o,s,a){let c=B(),l=fe(),u=Wr(l.consts,o);return zc(c,l,e,t,n,i,r,u,s,a),to}var UR=HR;function HR(e,t,n,i){return Lf(!0),t[de].createComment("")}var dp=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var ew=new E("");var $R=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new lf})}return e})(),lf=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Bi(e){return!!e&&typeof e.then=="function"}function tw(e){return!!e&&typeof e.subscribe=="function"}var nw=new E("");function hp(e){return $n([{provide:nw,multi:!0,useValue:e}])}var iw=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=m(nw,{optional:!0})??[];injector=m(ce);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=Ne(this.injector,r);if(Bi(o))n.push(o);else if(tw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pl=new E("");function GR(){Rd(()=>{throw new w(600,!1)})}function WR(e){return e.isBoundToModule}var zR=10;var Ht=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m($M);afterRenderManager=m(K0);zonelessEnabled=m(Bf);rootEffectScheduler=m($R);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new z;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(xi).hasPendingTasks.pipe(U(n=>!n));constructor(){m(eo,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=m(ye);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=ce.NULL){ee(10);let o=n instanceof jb;if(!this._injector.get(iw).done){let h="";throw new w(405,h)}let a;o?a=n:a=this._injector.get(fl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=WR(a)?void 0:this._injector.get(Kr),l=i||a.selector,u=a.create(r,[],l,c),d=u.location.nativeElement,f=u.injector.get(ew,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ic(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),ee(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Wf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let n=F(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(n),this.afterTick.next(),ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<zR;)ee(14),this.synchronizeOnce(),ee(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)qR(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>il(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Ic(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(pl,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ic(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ic(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function qR(e,t,n,i){if(!n&&!il(e))return;Ob(e,t,n&&!i?0:1)}function lt(e,t,n,i){let r=B(),o=Pi();if(at(r,o,t)){let s=fe(),a=rl();rA(a,r,e,t,n,i)}return lt}function YR(e,t,n,i){return at(e,Pi(),n)?t+cs(n)+i:Wt}function bc(e,t){return e<<17|t<<2}function ki(e){return e>>17&32767}function KR(e){return(e&2)==2}function ZR(e,t){return e&131071|t<<17}function uf(e){return e|2}function Zr(e){return(e&131068)>>2}function fh(e,t){return e&-131069|t<<2}function QR(e){return(e&1)===1}function df(e){return e|1}function JR(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=ki(s),c=Zr(s);e[i]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ls(d,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let f=ki(e[a+1]);e[i+1]=bc(f,a),f!==0&&(e[f+1]=fh(e[f+1],i)),e[a+1]=ZR(e[a+1],i)}else e[i+1]=bc(a,0),a!==0&&(e[a+1]=fh(e[a+1],i)),a=i;else e[i+1]=bc(c,0),a===0?a=i:e[c+1]=fh(e[c+1],i),c=i;l&&(e[i+1]=uf(e[i+1])),my(e,u,i,!0),my(e,u,i,!1),XR(t,u,e,i,o),s=bc(a,c),o?t.classBindings=s:t.styleBindings=s}function XR(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&ls(o,t)>=0&&(n[i+1]=df(n[i+1]))}function my(e,t,n,i){let r=e[n+1],o=t===null,s=i?ki(r):Zr(r),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];eO(c,t)&&(a=!0,e[s+1]=i?df(l):uf(l)),s=i?ki(l):Zr(l)}a&&(e[n+1]=i?uf(r):df(r))}function eO(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ls(e,t)>=0:!1}var _t={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tO(e){return e.substring(_t.key,_t.keyEnd)}function nO(e){return iO(e),rw(e,ow(e,0,_t.textEnd))}function rw(e,t){let n=_t.textEnd;return n===t?-1:(t=_t.keyEnd=rO(e,_t.key=t,n),ow(e,t,n))}function iO(e){_t.key=0,_t.keyEnd=0,_t.value=0,_t.valueEnd=0,_t.textEnd=e.length}function ow(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function rO(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function ys(e,t,n){let i=B(),r=Pi();if(at(i,r,t)){let o=fe(),s=rl();ep(o,s,i,e,t,i[de],n,!1)}return ys}function hf(e,t,n,i,r){tp(t,e,n,r?"class":"style",i)}function Qe(e,t){return sO(e,t,null,!0),Qe}function gl(e){aO(fO,oO,e,!0)}function oO(e,t){for(let n=nO(t);n>=0;n=rw(t,n))Tf(e,tO(t),!0)}function sO(e,t,n,i){let r=B(),o=fe(),s=d0(2);if(o.firstUpdatePass&&aw(o,e,s,i),t!==Wt&&at(r,s,t)){let a=o.data[Gn()];cw(o,a,r,r[de],e,r[s+1]=gO(t,n),i,s)}}function aO(e,t,n,i){let r=fe(),o=d0(2);r.firstUpdatePass&&aw(r,null,o,i);let s=B();if(n!==Wt&&at(s,o,n)){let a=r.data[Gn()];if(lw(a,i)&&!sw(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=vh(c,n||"")),hf(r,a,s,n,i)}else pO(r,a,s,s[de],s[o+1],s[o+1]=hO(e,t,n),i,o)}}function sw(e,t){return t>=e.expandoStartIndex}function aw(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Gn()],s=sw(e,n);lw(o,i)&&t===null&&!s&&(t=!1),t=cO(r,o,t,i),JR(r,o,t,n,s,i)}}function cO(e,t,n,i){let r=gM(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=ph(null,e,t,n,i),n=ss(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=ph(r,e,t,n,i),o===null){let c=lO(e,t,i);c!==void 0&&Array.isArray(c)&&(c=ph(null,e,t,c[1],i),c=ss(c,t.attrs,i),uO(e,t,i,c))}else o=dO(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function lO(e,t,n){let i=n?t.classBindings:t.styleBindings;if(Zr(i)!==0)return e[ki(i)]}function uO(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[ki(r)]=i}function dO(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=ss(i,s,n)}return ss(i,t.attrs,n)}function ph(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=ss(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function ss(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Tf(e,s,n?!0:t[++o]))}return e===void 0?null:e}function hO(e,t,n){if(n==null||n==="")return He;let i=[],r=ct(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function fO(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Tf(e,i,n)}function pO(e,t,n,i,r,o,s,a){r===Wt&&(r=He);let c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=c<r.length?r[c+1]:void 0,h=l<o.length?o[l+1]:void 0,g=null,y;u===d?(c+=2,l+=2,f!==h&&(g=d,y=h)):d===null||u!==null&&u<d?(c+=2,g=u):(l+=2,g=d,y=h),g!==null&&cw(e,t,n,i,g,y,s,a),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}function cw(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=QR(l)?_y(c,t,n,r,Zr(l),s):void 0;if(!qc(u)){qc(o)||KR(l)&&(o=_y(c,null,n,r,a,s));let d=Jy(Gn(),n);EA(i,s,d,r,o)}}function _y(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let c=e[r],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[r+1];f===Wt&&(f=d?He:void 0);let h=d?rh(f,i):u===i?f:void 0;if(l&&!qc(h)&&(h=rh(c,i)),qc(h)&&(a=h,s))return a;let g=e[r+1];r=s?ki(g):Zr(g)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=rh(c,i))}return a}function qc(e){return e!==void 0}function gO(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=$e(ct(e)))),e}function lw(e,t){return(e.flags&(t?8:16))!==0}var ff=class{destroy(t){}updateValue(t,n){}swap(t,n){let i=Math.min(t,n),r=Math.max(t,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,n){this.attach(n,this.detach(t))}};function gh(e,t,n,i,r){return e===n&&Object.is(t,i)?1:Object.is(r(e,t),r(n,i))?-1:0}function mO(e,t,n){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=gh(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let f=e.at(s),h=t[c],g=gh(s,f,c,h,n);if(g!==0){g<0&&e.updateValue(s,h),s--,c--;continue}let y=n(o,l),I=n(s,f),L=n(o,u);if(Object.is(L,I)){let Pe=n(c,h);Object.is(Pe,y)?(e.swap(o,s),e.updateValue(s,h),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(i??=new Yc,r??=yy(e,o,s,n),pf(e,i,o,L))e.updateValue(o,u),o++,s++;else if(r.has(L))i.set(y,e.detach(o)),s--;else{let Pe=e.create(o,t[o]);e.attach(o,Pe),o++,s++}}for(;o<=c;)vy(e,i,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,f=gh(o,u,o,d,n);if(f!==0)f<0&&e.updateValue(o,d),o++,l=c.next();else{i??=new Yc,r??=yy(e,o,s,n);let h=n(o,d);if(pf(e,i,o,h))e.updateValue(o,d),o++,s++,l=c.next();else if(!r.has(h))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let g=n(o,u);i.set(g,e.detach(o)),s--}}}for(;!l.done;)vy(e,i,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(c=>{e.destroy(c)})}function pf(e,t,n,i){return t!==void 0&&t.has(i)?(e.attach(n,t.get(i)),t.delete(i),!0):!1}function vy(e,t,n,i,r){if(pf(e,t,i,n(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function yy(e,t,n,i){let r=new Set;for(let o=t;o<=n;o++)r.add(i(o,e.at(o)));return r}var Yc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,n)}}};function fp(e,t){Li("NgControlFlow");let n=B(),i=Pi(),r=n[i]!==Wt?n[i]:-1,o=r!==-1?Kc(n,Le+r):void 0,s=0;if(at(n,i,e)){let a=F(null);try{if(o!==void 0&&Vb(o,s),e!==-1){let c=Le+e,l=Kc(n,c),u=vf(n[R],c),d=qr(l,u.tView.ssrId),f=ms(n,u,t,{dehydratedView:d});_s(l,f,s,zr(u,d))}}finally{F(a)}}else if(o!==void 0){let a=Lb(o,s);a!==void 0&&(a[ve]=t)}}var gf=class{lContainer;$implicit;$index;constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-Se}};function uw(e,t){return t}var mf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}};function dw(e,t,n,i,r,o,s,a,c,l,u,d,f){Li("NgControlFlow");let h=B(),g=fe(),y=c!==void 0,I=B(),L=a?s.bind(I[Ke][ve]):s,Pe=new mf(y,L);I[Le+e]=Pe,zc(h,g,e+1,t,n,i,r,Wr(g.consts,o)),y&&zc(h,g,e+2,c,l,u,d,Wr(g.consts,f))}var _f=class extends ff{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-Se}at(t){return this.getLView(t)[ve].$implicit}attach(t,n){let i=n[Hr];this.needsIndexUpdate||=t!==this.length,_s(this.lContainer,n,t,zr(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,_O(this.lContainer,t)}create(t,n){let i=qr(this.lContainer,this.templateTNode.tView.ssrId),r=ms(this.hostLView,this.templateTNode,new gf(this.lContainer,n,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){ll(t[R],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ve].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ve].$index=t}getLView(t){return vO(this.lContainer,t)}};function hw(e){let t=F(null),n=Gn();try{let i=B(),r=i[R],o=i[n],s=n+1,a=Kc(i,s);if(o.liveCollection===void 0){let l=vf(r,s);o.liveCollection=new _f(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(mO(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Pi(),u=c.length===0;if(at(i,l,u)){let d=n+2,f=Kc(i,d);if(u){let h=vf(r,d),g=qr(f,h.tView.ssrId),y=ms(i,h,void 0,{dehydratedView:g});_s(f,y,0,zr(h,g))}else Vb(f,0)}}}finally{F(t)}}function Kc(e,t){return e[t]}function _O(e,t){return rs(e,t)}function vO(e,t){return Lb(e,t)}function vf(e,t){return Nf(e,t)}function En(e,t,n,i){let r=B(),o=fe(),s=Le+e,a=r[de],c=o.firstCreatePass?Gb(s,o,r,t,Eb,n0(),n,i):o.data[s],l=yO(o,r,c,a,t,e);r[s]=l;let u=Mf(c);return hs(c,!0),mb(a,l,c),!rp(c)&&Ff()&&sp(o,r,l,c),(rM()===0||u)&&fs(l,r),oM(),u&&(Xf(o,r,c),J0(o,c,r)),i!==null&&wb(r,c),En}function Yn(){let e=Ve();a0()?c0():(e=e.parent,hs(e,!1));let t=e;aM(t)&&cM(),sM();let n=fe();return n.firstCreatePass&&Wb(n,t),t.classesWithoutHost!=null&&EM(t)&&hf(n,t,B(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&DM(t)&&hf(n,t,B(),t.stylesWithoutHost,!1),Yn}function ml(e,t,n,i){return En(e,t,n,i),Yn(),ml}var yO=(e,t,n,i,r,o)=>(Lf(!0),pb(i,r,yM()));function fw(){return B()}function bs(e,t,n){let i=B(),r=Pi();if(at(i,r,t)){let o=fe(),s=rl();ep(o,s,i,e,t,i[de],n,!0)}return bs}var Zc="en-US";var bO=Zc;function wO(e){typeof e=="string"&&(bO=e.toLowerCase().replace(/_/g,"-"))}function by(e,t,n){return function i(r){if(r===Function)return n;let o=Jr(e)?Vt(e.index,t):t;cp(o,5);let s=t[ve],a=wy(t,s,n,r),c=i.__ngNextListenerFn__;for(;c;)a=wy(t,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function wy(e,t,n,i){let r=F(null);try{return ee(6,t,n),n(i)!==!1}catch(o){return EO(e,o),!1}finally{ee(7,t,n),F(r)}}function EO(e,t){let n=e[$r],i=n?n.get(Bt,null):null;i&&i.handleError(t)}function Ey(e,t,n,i,r,o){let s=t[n],a=t[R],l=a.data[n].outputs[i],u=s[l],d=a.firstCreatePass?Of(a):null,f=Rf(t),h=u.subscribe(o),g=f.length;f.push(o,h),d&&d.push(r,e.index,g,-(g+1))}var DO=(e,t,n)=>{};function bt(e,t,n,i){let r=B(),o=fe(),s=Ve();return pw(o,r,r[de],s,e,t,i),bt}function CO(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[Oc],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function pw(e,t,n,i,r,o,s){let a=Mf(i),l=e.firstCreatePass?Of(e):null,u=Rf(t),d=!0;if(i.type&3||s){let f=Gt(i,t),h=s?s(f):f,g=u.length,y=s?L=>s(Lt(L[i.index])):i.index,I=null;if(!s&&a&&(I=CO(e,t,r,i.index)),I!==null){let L=I.__ngLastListenerFn__||I;L.__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,d=!1}else{o=by(i,t,o),DO(h,r,o);let L=n.listen(h,r,o);u.push(o,L),l&&l.push(r,y,g,g+1)}}else o=by(i,t,o);if(d){let f=i.outputs?.[r],h=i.hostDirectiveOutputs?.[r];if(h&&h.length)for(let g=0;g<h.length;g+=2){let y=h[g],I=h[g+1];Ey(i,t,y,I,r,o)}if(f&&f.length)for(let g of f)Ey(i,t,g,r,r,o)}}function ji(e=1){return _M(e)}function IO(e,t){let n=null,i=xN(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?fb(e,o,!0):VN(i,o))return r}return n}function pp(e){let t=B()[Ke][Ge];if(!t.projection){let n=e?e.length:1,i=t.projection=O1(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?IO(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function gp(e,t=0,n,i,r,o){let s=B(),a=fe(),c=i?e+1:null;c!==null&&zc(s,a,c,i,r,o,null,n);let l=hl(a,Le+e,16,null,n||null);l.projection===null&&(l.projection=t),c0();let d=!s[Hr]||i0();s[Ke][Ge].projection[l.projection]===null&&c!==null?TO(s,a,c):d&&!rp(l)&&bA(a,s,l)}function TO(e,t,n){let i=Le+n,r=t.data[i],o=e[i],s=qr(o,r.tView.ssrId),a=ms(e,r,void 0,{dehydratedView:s});_s(o,a,0,zr(r,s))}function no(e,t,n,i){DR(e,t,n,i)}function mp(e,t,n){ER(e,t,n)}function Kn(e){let t=B(),n=fe(),i=h0();kf(i+1);let r=lp(n,i);if(e.dirty&&X1(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=TR(t,i);e.reset(o,zM),e.notifyOnChanges()}return!0}return!1}function Zn(){return wR(B(),h0())}function gw(e){let t=uM();return J1(t,Le+e)}function mw(e,t=""){let n=B(),i=fe(),r=e+Le,o=i.firstCreatePass?hl(i,r,1,t,null):i.data[r],s=SO(i,n,o,t,e);n[r]=s,Ff()&&sp(i,n,s,o),hs(o,!1)}var SO=(e,t,n,i,r)=>(Lf(!0),HN(t[de],i));function _p(e){return vp("",e,""),_p}function vp(e,t,n){let i=B(),r=YR(i,e,t,n);return r!==Wt&&MO(i,Gn(),r),vp}function MO(e,t,n){let i=Jy(t,e);$N(e[de],i,n)}function NO(e,t,n){V0(t)&&(t=t());let i=B(),r=Pi();if(at(i,r,t)){let o=fe(),s=rl();ep(o,s,i,e,t,i[de],n,!1)}return NO}function l4(e,t){let n=V0(e);return n&&e.set(t),n}function AO(e,t){let n=B(),i=fe(),r=Ve();return pw(i,n,n[de],r,e,t),AO}function RO(e,t,n){let i=fe();if(i.firstCreatePass){let r=Ft(e);yf(n,i.data,i.blueprint,r,!0),yf(t,i.data,i.blueprint,r,!1)}}function yf(e,t,n,i,r){if(e=Fe(e),Array.isArray(e))for(let o=0;o<e.length;o++)yf(e[o],t,n,i,r);else{let o=fe(),s=B(),a=Ve(),c=Ur(e)?e:Fe(e.provide),l=Hy(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ur(e)||!e.multi){let h=new Ai(l,r,P),g=_h(c,t,r?u:u+f,d);g===-1?(Ah(Vc(a,s),o,c),mh(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=_h(c,t,u+f,d),g=_h(c,t,u,u+f),y=h>=0&&n[h],I=g>=0&&n[g];if(r&&!I||!r&&!y){Ah(Vc(a,s),o,c);let L=PO(r?kO:OO,n.length,r,i,l);!r&&I&&(n[g].providerFactory=L),mh(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=_w(n[r?g:h],l,!r&&i);mh(o,e,h>-1?h:g,L)}!r&&i&&I&&n[g].componentProviders++}}}function mh(e,t,n,i){let r=Ur(t),o=U1(t);if(r||o){let c=(o?Fe(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function _w(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function _h(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function OO(e,t,n,i){return bf(this.multi,[])}function kO(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=is(n,n[R],this.providerFactory.index,i);o=a.slice(0,s),bf(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],bf(r,o);return o}function bf(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function PO(e,t,n,i,r){let o=new Ai(e,n,P);return o.multi=[],o.index=t,o.componentProviders=0,_w(o,r,i&&!n),o}function Qn(e,t=[]){return n=>{n.providersResolver=(i,r)=>RO(i,r?r(e):e,t)}}function vw(e,t,n,i){return FO(B(),u0(),e,t,n,i)}function xO(e,t,n,i,r){return LO(B(),u0(),e,t,n,i,r)}function yw(e,t){let n=e[t];return n===Wt?void 0:n}function FO(e,t,n,i,r,o){let s=t+n;return at(e,s,r)?Xb(e,s+1,o?i.call(o,r):i(r)):yw(e,s+1)}function LO(e,t,n,i,r,o,s){let a=t+n;return BR(e,a,r,o)?Xb(e,a+2,s?i.call(s,r,o):i(r,o)):yw(e,a+2)}function bw(e,t){return dl(e,t)}var Un=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ww=new Un("19.2.6"),wf=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},_l=(()=>{class e{compileModuleSync(n){return new cf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=Vy(n),o=db(r.declarations).reduce((s,a)=>{let c=jn(a);return c&&s.push(new Oi(c)),s},[]);return new wf(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var VO=(()=>{class e{zone=m(H);changeDetectionScheduler=m(Ri);applicationRef=m(Ht);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BO({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new H(x(_({},jO()),{scheduleInRootZone:n})),[{provide:H,useFactory:e},{provide:jr,multi:!0,useFactory:()=>{let i=m(VO,{optional:!0});return()=>i.initialize()}},{provide:jr,multi:!0,useFactory:()=>{let i=m(UO);return()=>{i.initialize()}}},t===!0?{provide:k0,useValue:!0}:[],{provide:P0,useValue:n??O0}]}function jO(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var UO=(()=>{class e{subscription=new ue;initialized=!1;zone=m(H);pendingTasks=m(xi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{H.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{H.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var HO=(()=>{class e{appRef=m(Ht);taskService=m(xi);ngZone=m(H);zonelessEnabled=m(Bf);tracing=m(eo,{optional:!0});disableScheduling=m(k0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(P0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Kv:x0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $O(){return typeof $localize<"u"&&$localize.locale||Zc}var vl=new E("",{providedIn:"root",factory:()=>m(vl,V.Optional|V.SkipSelf)||$O()});var Ef=new E(""),GO=new E("");function Zo(e){return!e.moduleRef}function WO(e){let t=Zo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(H);return n.run(()=>{Zo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(Bt,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),Zo(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Ef);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ef);s.add(o),e.moduleRef.onDestroy(()=>{Ic(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return qO(i,n,()=>{let o=t.get(iw);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(vl,Zc);if(wO(s||Zc),!t.get(GO,!0))return Zo(e)?t.get(Ht):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Zo(e)){let c=t.get(Ht);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return zO(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function zO(e,t){let n=e.injector.get(Ht);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new w(-403,!1);t.push(e)}function qO(e,t,n){try{let i=n();return Bi(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var Tc=null;function YO(e=[],t){return ce.create({name:t,providers:[{provide:Xc,useValue:"platform"},{provide:Ef,useValue:new Set([()=>Tc=null])},...e]})}function KO(e=[]){if(Tc)return Tc;let t=YO(e);return Tc=t,GR(),ZO(t),t}function ZO(e){let t=e.get($f,null);Ne(e,()=>{t?.forEach(n=>n())})}function yp(){return!1}var wt=(()=>{class e{static __NG_ELEMENT_ID__=QO}return e})();function QO(e){return JO(Ve(),B(),(e&16)===16)}function JO(e,t,n){if(Jr(e)&&!n){let i=Vt(e.index,t);return new os(i,i)}else if(e.type&175){let i=t[Ke];return new os(i,t)}return null}function Ew(e){ee(8);try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=KO(i),o=[BO({}),{provide:Ri,useExisting:HO},...n||[]],s=new Wc({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return WO({r3Injector:s.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ee(9)}}function Jn(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Et(e){return Pd(e)}function Ui(e,t){return Ad(e,t?.equal)}var Dy=class{[it];constructor(t){this[it]=t}destroy(){this[it].destroy()}};function yl(e,t){let n=jn(e),i=t.elementInjector||el();return new Oi(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function Dw(e){let t=jn(e);if(!t)return null;let n=new Oi(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var ae=new E("");var Tw=null;function ut(){return Tw}function bp(e){Tw??=e}var ws=class{},Es=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(Sw),providedIn:"platform"})}return e})(),wp=new E(""),Sw=(()=>{class e extends Es{_location;_history;_doc=m(ae);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ut().getBaseHref(this._doc)}onPopState(n){let i=ut().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=ut().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function bl(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Cw(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Dt(e){return e&&e[0]!=="?"?`?${e}`:e}var Ct=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(El),providedIn:"root"})}return e})(),wl=new E(""),El=(()=>{class e extends Ct{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??m(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return bl(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Dt(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Dt(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Dt(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(T(Es),T(wl,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xn=(()=>{class e{_subject=new z;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=tk(Cw(Iw(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Dt(i))}normalize(n){return e.stripTrailingSlash(ek(this._basePath,Iw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dt(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Dt;static joinWithSlash=bl;static stripTrailingSlash=Cw;static \u0275fac=function(i){return new(i||e)(T(Ct))};static \u0275prov=b({token:e,factory:()=>XO(),providedIn:"root"})}return e})();function XO(){return new Xn(T(Ct))}function ek(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Iw(e){return e.replace(/\/index.html$/,"")}function tk(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Dp=(()=>{class e extends Ct{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=bl(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Dt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Dt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(T(Es),T(wl,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();var Ep=/\s+/,Mw=[],nk=(()=>{class e{_ngEl;_renderer;initialClasses=Mw;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(Ep):Mw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ep):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(Ep).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(P(pe),P(qn))};static \u0275dir=Q({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var ik=(()=>{class e{_viewContainer;_context=new Dl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Nw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Nw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(P(wn),P(Ut))};static \u0275dir=Q({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Dl=class{$implicit=null;ngIf=null};function Nw(e,t){if(e&&!e.createEmbeddedView)throw new w(2020,!1)}var Cl=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||e)(P(wn))};static \u0275dir=Q({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[We]})}return e})();var Aw=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Z({type:e});static \u0275inj=K({})}return e})();function Cp(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Ip="browser",Rw="server";function Il(e){return e===Rw}var Ds=class{};var Ow=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new Tp(m(ae),window)})}return e})(),Tp=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=hk(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function hk(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Ml=new E(""),Ap=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new w(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(T(Ml),T(H))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Cs=class{_doc;constructor(t){this._doc=t}manager},Tl="ng-app-id";function kw(e){for(let t of e)t.remove()}function Pw(e,t){let n=t.createElement("style");return n.textContent=e,n}function pk(e,t,n,i){let r=e.head?.querySelectorAll(`style[${Tl}="${t}"],link[${Tl}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Tl),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Mp(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Rp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=Il(o),pk(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,Pw);i?.forEach(r=>this.addUsage(r,this.external,Mp))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(kw(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])kw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,Pw(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,Mp(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Tl,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(T(ae),T(Hf),T(Gf,8),T(vn))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Op=/%COMP%/g;var Fw="%COMP%",gk=`_nghost-${Fw}`,mk=`_ngcontent-${Fw}`,_k=!0,vk=new E("",{providedIn:"root",factory:()=>_k});function yk(e){return mk.replace(Op,e)}function bk(e){return gk.replace(Op,e)}function Lw(e,t){return t.map(n=>n.replace(Op,e))}var kp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Il(a),this.defaultRenderer=new Is(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jt.ShadowDom&&(i=x(_({},i),{encapsulation:jt.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Sl?r.applyToHost(n):r instanceof Ts&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case jt.Emulated:o=new Sl(c,l,i,this.appId,u,s,a,d,f);break;case jt.ShadowDom:return new Np(c,l,n,i,s,a,this.nonce,d,f);default:o=new Ts(c,l,i,u,s,a,d,f);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(T(Ap),T(Rp),T(Hf),T(vk),T(ae),T(vn),T(H),T(Gf),T(eo,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Is=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Sp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(xw(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(xw(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new w(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=Sp[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=Sp[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(pn.DashCase|pn.Important)?t.style.setProperty(n,i,r&pn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&pn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=ut().getGlobalEventTarget(this.doc,t),!t))throw new w(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function xw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Np=class extends Is{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=Lw(r.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=r.getExternalStyles?.();if(d)for(let f of d){let h=Mp(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ts=class extends Is{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=l?Lw(l,u):u,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Sl=class extends Ts{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,c,l){let u=r+"-"+i.id;super(t,n,i,o,s,a,c,l,u),this.contentAttr=yk(u),this.hostAttr=bk(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var Nl=class e extends ws{supportsDOMEvents=!0;static makeCurrent(){bp(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=wk();return n==null?null:Ek(n)}resetBaseElement(){Ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Cp(document.cookie,t)}},Ss=null;function wk(){return Ss=Ss||document.querySelector("base"),Ss?Ss.getAttribute("href"):null}function Ek(e){return new URL(e,document.baseURI).pathname}var Dk=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Bw=(()=>{class e extends Cs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(T(ae))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Vw=["alt","control","meta","shift"],Ck={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ik={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},jw=(()=>{class e extends Cs{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ut().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Vw.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,i){let r=Ck[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Vw.forEach(s=>{if(s!==r){let a=Ik[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(T(ae))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function Tk(e,t){return Ew(_({rootComponent:e},Sk(t)))}function Sk(e){return{appProviders:[...Ok,...e?.providers??[]],platformProviders:Rk}}function Mk(){Nl.makeCurrent()}function Nk(){return new Bt}function Ak(){return W0(document),document}var Rk=[{provide:vn,useValue:Ip},{provide:$f,useValue:Mk,multi:!0},{provide:ae,useFactory:Ak}];var Ok=[{provide:Xc,useValue:"root"},{provide:Bt,useFactory:Nk},{provide:Ml,useClass:Bw,multi:!0,deps:[ae]},{provide:Ml,useClass:jw,multi:!0,deps:[ae]},kp,Rp,Ap,{provide:Yr,useExisting:kp},{provide:Ds,useClass:Dk},[]];var Uw=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||e)(T(ae))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var kk=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=T(Pk),r},providedIn:"root"})}return e})(),Pk=(()=>{class e extends kk{_doc;constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case yt.NONE:return i;case yt.HTML:return yn(i,"HTML")?ct(i):qf(this._doc,String(i)).toString();case yt.STYLE:return yn(i,"Style")?ct(i):i;case yt.SCRIPT:if(yn(i,"Script"))return ct(i);throw new w(5200,!1);case yt.URL:return yn(i,"URL")?ct(i):al(String(i));case yt.RESOURCE_URL:if(yn(i,"ResourceURL"))return ct(i);throw new w(5201,!1);default:throw new w(5202,!1)}}bypassSecurityTrustHtml(n){return eb(n)}bypassSecurityTrustStyle(n){return tb(n)}bypassSecurityTrustScript(n){return nb(n)}bypassSecurityTrustUrl(n){return ib(n)}bypassSecurityTrustResourceUrl(n){return rb(n)}static \u0275fac=function(i){return new(i||e)(T(ae))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var O="primary",js=Symbol("RouteTitle"),Vp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Gi(e){return new Vp(e)}function Kw(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Fk(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qt(e[n],t[n]))return!1;return!0}function qt(e,t){let n=e?Bp(e):void 0,i=t?Bp(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Zw(e[r],t[r]))return!1;return!0}function Bp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Zw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function Qw(e){return e.length>0?e[e.length-1]:null}function ri(e){return Kd(e)?e:Bi(e)?oe(Promise.resolve(e)):D(e)}var Lk={exact:Xw,subset:eE},Jw={exact:Vk,subset:Bk,ignored:()=>!0};function Hw(e,t,n){return Lk[n.paths](e.root,t.root,n.matrixParams)&&Jw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function Vk(e,t){return qt(e,t)}function Xw(e,t,n){if(!Hi(e.segments,t.segments)||!Ol(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!Xw(e.children[i],t.children[i],n))return!1;return!0}function Bk(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Zw(e[n],t[n]))}function eE(e,t,n){return tE(e,t,t.segments,n)}function tE(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Hi(r,n)||t.hasChildren()||!Ol(r,n,i))}else if(e.segments.length===n.length){if(!Hi(e.segments,n)||!Ol(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!eE(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Hi(e.segments,r)||!Ol(e.segments,r,i)||!e.children[O]?!1:tE(e.children[O],t,o,i)}}function Ol(e,t,n){return t.every((i,r)=>Jw[n](e[r].parameters,i.parameters))}var Kt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Y([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Gi(this.queryParams),this._queryParamMap}toString(){return Hk.serialize(this)}},Y=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kl(this)}},ei=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Gi(this.parameters),this._parameterMap}toString(){return iE(this)}};function jk(e,t){return Hi(e,t)&&e.every((n,i)=>qt(n.parameters,t[i].parameters))}function Hi(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function Uk(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===O&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==O&&(n=n.concat(t(r,i)))}),n}var Wi=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>new ti,providedIn:"root"})}return e})(),ti=class{parse(t){let n=new Up(t);return new Kt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ms(t.root,!0)}`,i=Wk(t.queryParams),r=typeof t.fragment=="string"?`#${$k(t.fragment)}`:"";return`${n}${i}${r}`}},Hk=new ti;function kl(e){return e.segments.map(t=>iE(t)).join("/")}function Ms(e,t){if(!e.hasChildren())return kl(e);if(t){let n=e.children[O]?Ms(e.children[O],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==O&&i.push(`${r}:${Ms(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=Uk(e,(i,r)=>r===O?[Ms(e.children[O],!1)]:[`${r}:${Ms(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[O]!=null?`${kl(e)}/${n[0]}`:`${kl(e)}/(${n.join("//")})`}}function nE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Al(e){return nE(e).replace(/%3B/gi,";")}function $k(e){return encodeURI(e)}function jp(e){return nE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pl(e){return decodeURIComponent(e)}function $w(e){return Pl(e.replace(/\+/g,"%20"))}function iE(e){return`${jp(e.path)}${Gk(e.parameters)}`}function Gk(e){return Object.entries(e).map(([t,n])=>`;${jp(t)}=${jp(n)}`).join("")}function Wk(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Al(n)}=${Al(r)}`).join("&"):`${Al(n)}=${Al(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var zk=/^[^\/()?;#]+/;function Pp(e){let t=e.match(zk);return t?t[0]:""}var qk=/^[^\/()?;=#]+/;function Yk(e){let t=e.match(qk);return t?t[0]:""}var Kk=/^[^=?&#]+/;function Zk(e){let t=e.match(Kk);return t?t[0]:""}var Qk=/^[^&#]+/;function Jk(e){let t=e.match(Qk);return t?t[0]:""}var Up=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[O]=new Y(t,n)),i}parseSegment(){let t=Pp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new ei(Pl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=Yk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Pp(this.remaining);r&&(i=r,this.capture(i))}t[Pl(n)]=Pl(i)}parseQueryParam(t){let n=Zk(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=Jk(this.remaining);s&&(i=s,this.capture(i))}let r=$w(n),o=$w(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Pp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new w(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=O);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[O]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}};function rE(e){return e.segments.length>0?new Y([],{[O]:e}):e}function oE(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=oE(r);if(i===O&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new Y(e.segments,t);return Xk(n)}function Xk(e){if(e.numberOfChildren===1&&e.children[O]){let t=e.children[O];return new Y(e.segments.concat(t.segments),t.children)}return e}function ni(e){return e instanceof Kt}function sE(e,t,n=null,i=null){let r=aE(e);return cE(r,t,n,i)}function aE(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Y(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=rE(i);return t??r}function cE(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return xp(r,r,r,n,i);let o=eP(t);if(o.toRoot())return xp(r,r,new Y([],{}),n,i);let s=tP(o,r,e),a=s.processChildren?As(s.segmentGroup,s.index,o.commands):uE(s.segmentGroup,s.index,o.commands);return xp(r,s.segmentGroup,a,n,i)}function Fl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Os(e){return typeof e=="object"&&e!=null&&e.outlets}function xp(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=lE(e,t,n);let a=rE(oE(s));return new Kt(a,o,r)}function lE(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=lE(o,t,n)}),new Y(e.segments,i)}var Ll=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Fl(i[0]))throw new w(4003,!1);let r=i.find(Os);if(r&&r!==Qw(i))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eP(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ll(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Ll(n,t,i)}var oo=class{segmentGroup;processChildren;index;constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function tP(e,t,n){if(e.isAbsolute)return new oo(t,!0,0);if(!n)return new oo(t,!1,NaN);if(n.parent===null)return new oo(n,!0,0);let i=Fl(e.commands[0])?0:1,r=n.segments.length-1+i;return nP(n,r,e.numberOfDoubleDots)}function nP(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new w(4005,!1);r=i.segments.length}return new oo(i,!1,r-o)}function iP(e){return Os(e[0])?e[0].outlets:{[O]:e}}function uE(e,t,n){if(e??=new Y([],{}),e.segments.length===0&&e.hasChildren())return As(e,t,n);let i=rP(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new Y(e.segments.slice(0,i.pathIndex),{});return o.children[O]=new Y(e.segments.slice(i.pathIndex),e.children),As(o,0,r)}else return i.match&&r.length===0?new Y(e.segments,{}):i.match&&!e.hasChildren()?Hp(e,t,n):i.match?As(e,0,r):Hp(e,t,n)}function As(e,t,n){if(n.length===0)return new Y(e.segments,{});{let i=iP(n),r={};if(Object.keys(i).some(o=>o!==O)&&e.children[O]&&e.numberOfChildren===1&&e.children[O].segments.length===0){let o=As(e.children[O],t,n);return new Y(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=uE(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Y(e.segments,r)}}function rP(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(Os(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Ww(c,l,s))return o;i+=2}else{if(!Ww(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Hp(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(Os(o)){let c=oP(o.outlets);return new Y(i,c)}if(r===0&&Fl(n[0])){let c=e.segments[t];i.push(new ei(c.path,Gw(n[0]))),r++;continue}let s=Os(o)?o.outlets[O]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Fl(a)?(i.push(new ei(s,Gw(a))),r+=2):(i.push(new ei(s,{})),r++)}return new Y(i,{})}function oP(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=Hp(new Y([],{}),0,i))}),t}function Gw(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function Ww(e,t,n){return e==n.path&&qt(t,n.parameters)}var xl="imperative",be=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(be||{}),Xe=class{id;url;constructor(t,n){this.id=t,this.url=n}},ii=class extends Xe{type=be.NavigationStart;navigationTrigger;restoredState;constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dt=class extends Xe{urlAfterRedirects;type=be.NavigationEnd;constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ze=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ze||{}),ao=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ao||{}),Yt=class extends Xe{reason;code;type=be.NavigationCancel;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zt=class extends Xe{reason;code;type=be.NavigationSkipped;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}},co=class extends Xe{error;target;type=be.NavigationError;constructor(t,n,i,r){super(t,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ks=class extends Xe{urlAfterRedirects;state;type=be.RoutesRecognized;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vl=class extends Xe{urlAfterRedirects;state;type=be.GuardsCheckStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bl=class extends Xe{urlAfterRedirects;state;shouldActivate;type=be.GuardsCheckEnd;constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jl=class extends Xe{urlAfterRedirects;state;type=be.ResolveStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ul=class extends Xe{urlAfterRedirects;state;type=be.ResolveEnd;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class{route;type=be.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$l=class{route;type=be.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gl=class{snapshot;type=be.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wl=class{snapshot;type=be.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zl=class{snapshot;type=be.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ql=class{snapshot;type=be.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lo=class{routerEvent;position;anchor;type=be.Scroll;constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ps=class{},uo=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function sP(e,t){return e.providers&&!e._injector&&(e._injector=vs(e.providers,t,`Route: ${e.path}`)),e._injector??t}function It(e){return e.outlet||O}function aP(e,t){let n=e.filter(i=>It(i)===t);return n.push(...e.filter(i=>It(i)!==t)),n}function Us(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Yl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Us(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new zi(this.rootInjector)}},zi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Yl(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||e)(T(ye))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=$p(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=$p(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Gp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Gp(t,this._root).map(n=>n.value)}};function $p(e,t){if(e===t.value)return t;for(let n of t.children){let i=$p(e,n);if(i)return i}return null}function Gp(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Gp(e,n);if(i.length)return i.unshift(t),i}return[]}var Je=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ro(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var xs=class extends Kl{snapshot;constructor(t,n){super(t),this.snapshot=n,Jp(this,t)}toString(){return this.snapshot.toString()}};function dE(e){let t=cP(e),n=new we([new ei("",{})]),i=new we({}),r=new we({}),o=new we({}),s=new we(""),a=new Qt(n,i,o,s,r,O,e,t.root);return a.snapshot=t.root,new xs(new Je(a,[]),t)}function cP(e){let t={},n={},i={},r="",o=new $i([],t,i,r,n,O,e,null,{});return new Fs("",new Je(o,[]))}var Qt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(U(l=>l[js]))??D(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(t=>Gi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(t=>Gi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zl(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),r?.data),e._resolvedData)}:i={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},r&&fE(r)&&(i.resolve[js]=r.title),i}var $i=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[js]}constructor(t,n,i,r,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Fs=class extends Kl{url;constructor(t,n){super(n),this.url=t,Jp(this,n)}toString(){return hE(this._root)}};function Jp(e,t){t.value._routerState=e,t.children.forEach(n=>Jp(e,n))}function hE(e){let t=e.children.length>0?` { ${e.children.map(hE).join(", ")} } `:"";return`${e.value}${t}`}function Fp(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qt(t.params,n.params)||e.paramsSubject.next(n.params),Fk(t.url,n.url)||e.urlSubject.next(n.url),qt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Wp(e,t){let n=qt(e.params,t.params)&&jk(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||Wp(e.parent,t.parent))}function fE(e){return typeof e.title=="string"||e.title===null}var pE=new E(""),Xp=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=O;activateEvents=new q;deactivateEvents=new q;attachEvents=new q;detachEvents=new q;routerOutletData=L0(void 0);parentContexts=m(zi);location=m(wn);changeDetector=m(wt);inputBinder=m(Hs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new zp(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Q({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[We]})}return e})(),zp=class{route;childContexts;parent;outletData;constructor(t,n,i,r){this.route=t,this.childContexts=n,this.parent=i,this.outletData=r}get(t,n){return t===Qt?this.route:t===zi?this.childContexts:t===pE?this.outletData:this.parent.get(t,n)}},Hs=new E(""),eg=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=Mr([i.queryParams,i.params,i.data]).pipe(Ue(([o,s,a],c)=>(a=_(_(_({},o),s),a),c===0?D(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=Dw(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function lP(e,t,n){let i=Ls(e,t._root,n?n._root:void 0);return new xs(i,t)}function Ls(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=uP(e,t,n);return new Je(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ls(e,a)),s}}let i=dP(t.value),r=t.children.map(o=>Ls(e,o));return new Je(i,r)}}function uP(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Ls(e,i,r);return Ls(e,i)})}function dP(e){return new Qt(new we(e.url),new we(e.params),new we(e.queryParams),new we(e.fragment),new we(e.data),e.outlet,e.component,e)}var ho=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},gE="ngNavigationCancelingError";function Ql(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=ni(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=mE(!1,ze.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function mE(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[gE]=!0,n.cancellationCode=t,n}function hP(e){return _E(e)&&ni(e.url)}function _E(e){return!!e&&e[gE]}var fP=(e,t,n,i)=>U(r=>(new qp(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),qp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Fp(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=ro(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=ro(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=ro(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=ro(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new ql(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Wl(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(Fp(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fp(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Jl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},so=class{component;route;constructor(t,n){this.component=t,this.route=n}};function pP(e,t,n){let i=e._root,r=t?t._root:null;return Ns(i,r,n,[i.value])}function gP(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function po(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!My(e)?e:t.get(e):i}function Ns(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ro(t);return e.children.forEach(s=>{mP(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rs(a,n.getContext(s),r)),r}function mP(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_P(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Jl(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ns(e,t,a?a.children:null,i,r):Ns(e,t,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new so(a.outlet.component,s))}else s&&Rs(t,a,r),r.canActivateChecks.push(new Jl(i)),o.component?Ns(e,null,a?a.children:null,i,r):Ns(e,null,n,i,r);return r}function _P(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Hi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hi(e.url,t.url)||!qt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wp(e,t)||!qt(e.queryParams,t.queryParams);case"paramsChange":default:return!Wp(e,t)}}function Rs(e,t,n){let i=ro(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?Rs(s,t.children.getContext(o),n):Rs(s,null,n):Rs(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new so(t.outlet.component,r)):n.canDeactivateChecks.push(new so(null,r)):n.canDeactivateChecks.push(new so(null,r))}function $s(e){return typeof e=="function"}function vP(e){return typeof e=="boolean"}function yP(e){return e&&$s(e.canLoad)}function bP(e){return e&&$s(e.canActivate)}function wP(e){return e&&$s(e.canActivateChild)}function EP(e){return e&&$s(e.canDeactivate)}function DP(e){return e&&$s(e.canMatch)}function vE(e){return e instanceof cn||e?.name==="EmptyError"}var Rl=Symbol("INITIAL_VALUE");function fo(){return Ue(e=>Mr(e.map(t=>t.pipe(xe(1),Ko(Rl)))).pipe(U(t=>{for(let n of t)if(n!==!0){if(n===Rl)return Rl;if(n===!1||CP(n))return n}return!0}),he(t=>t!==Rl),xe(1)))}function CP(e){return ni(e)||e instanceof ho}function IP(e,t){return se(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?D(x(_({},n),{guardsResult:!0})):TP(s,i,r,e).pipe(se(a=>a&&vP(a)?SP(i,o,e,t):D(a)),U(a=>x(_({},n),{guardsResult:a})))})}function TP(e,t,n,i){return oe(e).pipe(se(r=>OP(r.component,r.route,n,t,i)),un(r=>r!==!0,!0))}function SP(e,t,n,i){return oe(t).pipe(Fn(r=>xn(NP(r.route.parent,i),MP(r.route,i),RP(e,r.path,n),AP(e,r.route,n))),un(r=>r!==!0,!0))}function MP(e,t){return e!==null&&t&&t(new zl(e)),D(!0)}function NP(e,t){return e!==null&&t&&t(new Gl(e)),D(!0)}function AP(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return D(!0);let r=i.map(o=>hc(()=>{let s=Us(t)??n,a=po(o,s),c=bP(a)?a.canActivate(t,e):Ne(s,()=>a(t,e));return ri(c).pipe(un())}));return D(r).pipe(fo())}function RP(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>gP(s)).filter(s=>s!==null).map(s=>hc(()=>{let a=s.guards.map(c=>{let l=Us(s.node)??n,u=po(c,l),d=wP(u)?u.canActivateChild(i,e):Ne(l,()=>u(i,e));return ri(d).pipe(un())});return D(a).pipe(fo())}));return D(o).pipe(fo())}function OP(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return D(!0);let s=o.map(a=>{let c=Us(t)??r,l=po(a,c),u=EP(l)?l.canDeactivate(e,t,n,i):Ne(c,()=>l(e,t,n,i));return ri(u).pipe(un())});return D(s).pipe(fo())}function kP(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return D(!0);let o=r.map(s=>{let a=po(s,e),c=yP(a)?a.canLoad(t,n):Ne(e,()=>a(t,n));return ri(c)});return D(o).pipe(fo(),yE(i))}function yE(e){return Ud(_e(t=>{if(typeof t!="boolean")throw Ql(e,t)}),U(t=>t===!0))}function PP(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return D(!0);let o=r.map(s=>{let a=po(s,e),c=DP(a)?a.canMatch(t,n):Ne(e,()=>a(t,n));return ri(c)});return D(o).pipe(fo(),yE(i))}var Vs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Bs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function io(e){return Tr(new Vs(e))}function xP(e){return Tr(new w(4e3,!1))}function FP(e){return Tr(mE(!1,ze.GuardRejected))}var Yp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return D(i);if(r.numberOfChildren>1||!r.children[O])return xP(`${t.redirectTo}`);r=r.children[O]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:g,title:y}=r,I=Ne(o,()=>a({params:h,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:y}));if(I instanceof Kt)throw new Bs(I);n=I}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new Bs(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new Kt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new Y(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new w(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},Kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LP(e,t,n,i,r){let o=bE(e,t,n);return o.matched?(i=sP(t,i),PP(i,t,n,r).pipe(U(s=>s===!0?o:_({},Kp)))):D(o)}function bE(e,t,n){if(t.path==="**")return VP(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},Kp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Kw)(n,e,t);if(!r)return _({},Kp);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?_(_({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function VP(e){return{matched:!0,parameters:e.length>0?Qw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function zw(e,t,n,i){return n.length>0&&UP(e,n,i)?{segmentGroup:new Y(t,jP(i,new Y(n,e.children))),slicedSegments:[]}:n.length===0&&HP(e,n,i)?{segmentGroup:new Y(e.segments,BP(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Y(e.segments,e.children),slicedSegments:n}}function BP(e,t,n,i){let r={};for(let o of n)if(eu(e,t,o)&&!i[It(o)]){let s=new Y([],{});r[It(o)]=s}return _(_({},i),r)}function jP(e,t){let n={};n[O]=t;for(let i of e)if(i.path===""&&It(i)!==O){let r=new Y([],{});n[It(i)]=r}return n}function UP(e,t,n){return n.some(i=>eu(e,t,i)&&It(i)!==O)}function HP(e,t,n){return n.some(i=>eu(e,t,i))}function eu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $P(e,t,n){return t.length===0&&!e.children[n]}var Zp=class{};function GP(e,t,n,i,r,o,s="emptyOnly"){return new Qp(e,t,n,i,r,s,o).recognize()}var WP=31,Qp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Yp(this.urlSerializer,this.urlTree)}noMatchError(t){return new w(4002,`'${t.segmentGroup}'`)}recognize(){let t=zw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(U(({children:n,rootSnapshot:i})=>{let r=new Je(i,n),o=new Fs("",r),s=sE(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new $i([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,O,n).pipe(U(i=>({children:i,rootSnapshot:n})),ln(i=>{if(i instanceof Bs)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Vs?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(U(s=>s instanceof Je?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return oe(o).pipe(Fn(s=>{let a=i.children[s],c=aP(n,s);return this.processSegmentGroup(t,c,a,s,r)}),nh((s,a)=>(s.push(...a),s)),Ln(null),th(),se(s=>{if(s===null)return io(i);let a=wE(s);return zP(a),D(a)}))}processSegment(t,n,i,r,o,s,a){return oe(n).pipe(Fn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,i,r,o,s,a).pipe(ln(l=>{if(l instanceof Vs)return D(null);throw l}))),un(c=>!!c),ln(c=>{if(vE(c))return $P(i,r,o)?D(new Zp):io(i);throw c}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,c){return It(i)!==s&&(s===O||!eu(r,o,i))?io(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,c):io(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=bE(n,r,o);if(!c)return io(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WP&&(this.allowRedirects=!1));let h=new $i(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,qw(r),It(r),r.component??r._loadedComponent??null,r,Yw(r)),g=Zl(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(r,y).pipe(se(I=>this.processSegment(t,i,n,I.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=LP(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(Ue(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Ue(({routes:l})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new $i(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,qw(i),It(i),i.component??i._loadedComponent??null,i,Yw(i)),y=Zl(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:I,slicedSegments:L}=zw(n,f,h,l);if(L.length===0&&I.hasChildren())return this.processChildren(u,l,I,g).pipe(U(nt=>new Je(g,nt)));if(l.length===0&&L.length===0)return D(new Je(g,[]));let Pe=It(i)===o;return this.processSegment(u,l,I,L,Pe?O:o,!0,g).pipe(U(nt=>new Je(g,nt instanceof Je?[nt]:[])))}))):io(n)))}getChildConfig(t,n,i){return n.children?D({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?D({routes:n._loadedRoutes,injector:n._loadedInjector}):kP(t,n,i,this.urlSerializer).pipe(se(r=>r?this.configLoader.loadChildren(t,n).pipe(_e(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):FP(n))):D({routes:[],injector:t})}};function zP(e){e.sort((t,n)=>t.value.outlet===O?-1:n.value.outlet===O?1:t.value.outlet.localeCompare(n.value.outlet))}function qP(e){let t=e.value.routeConfig;return t&&t.path===""}function wE(e){let t=[],n=new Set;for(let i of e){if(!qP(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=wE(i.children);t.push(new Je(i.value,r))}return t.filter(i=>!n.has(i))}function qw(e){return e.data||{}}function Yw(e){return e.resolve||{}}function YP(e,t,n,i,r,o){return se(s=>GP(e,t,n,i,s.extractedUrl,r,o).pipe(U(({state:a,tree:c})=>x(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function KP(e,t){return se(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return D(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of EE(c))s.add(l);let a=0;return oe(s).pipe(Fn(c=>o.has(c)?ZP(c,i,e,t):(c.data=Zl(c,c.parent,e).resolve,D(void 0))),_e(()=>a++),Rr(1),se(c=>a===s.size?D(n):Ee))})}function EE(e){let t=e.children.map(n=>EE(n)).flat();return[e,...t]}function ZP(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!fE(r)&&(o[js]=r.title),QP(o,e,t,i).pipe(U(s=>(e._resolvedData=s,e.data=Zl(e,e.parent,n).resolve,null)))}function QP(e,t,n,i){let r=Bp(e);if(r.length===0)return D({});let o={};return oe(r).pipe(se(s=>JP(e[s],t,n,i).pipe(un(),_e(a=>{if(a instanceof ho)throw Ql(new ti,a);o[s]=a}))),Rr(1),U(()=>o),ln(s=>vE(s)?Ee:Tr(s)))}function JP(e,t,n,i){let r=Us(t)??i,o=po(e,r),s=o.resolve?o.resolve(t,n):Ne(r,()=>o(t,n));return ri(s)}function Lp(e){return Ue(t=>{let n=e(t);return n?oe(n).pipe(U(()=>t)):D(t)})}var tg=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===O);return i}getResolvedTitleForRoute(n){return n.data[js]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(DE),providedIn:"root"})}return e})(),DE=(()=>{class e extends tg{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(T(Uw))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qi=new E("",{providedIn:"root",factory:()=>({})}),ng=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Vi({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&ml(0,"router-outlet")},dependencies:[Xp],encapsulation:2})}return e})();function ig(e){let t=e.children&&e.children.map(ig),n=t?x(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==O&&(n.component=ng),n}var Yi=new E(""),tu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(_l);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return D(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=ri(n.loadComponent()).pipe(U(IE),_e(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ar(()=>{this.componentLoaders.delete(n)})),r=new wr(i,()=>new z).pipe(br());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return D({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=CE(i,this.compiler,n,this.onLoadEndListener).pipe(Ar(()=>{this.childrenLoaders.delete(i)})),s=new wr(o,()=>new z).pipe(br());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CE(e,t,n,i){return ri(e.loadChildren()).pipe(U(IE),se(r=>r instanceof up||Array.isArray(r)?D(r):oe(t.compileModuleAsync(r))),U(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Yi,[],{optional:!0,self:!0}).flat()),{routes:s.map(ig),injector:o}}))}function XP(e){return e&&typeof e=="object"&&"default"in e}function IE(e){return XP(e)?e.default:e}var nu=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(ex),providedIn:"root"})}return e})(),ex=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rg=new E(""),og=new E("");function TE(e,t,n){let i=e.get(og),r=e.get(ae);return e.get(H).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),tx(e))),{onViewTransitionCreated:c}=i;return c&&Ne(e,()=>c({transition:a,from:t,to:n})),s})}function tx(e){return new Promise(t=>{zf({read:()=>setTimeout(t)},{injector:e})})}var sg=new E(""),iu=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new z;transitionAbortSubject=new z;configLoader=m(tu);environmentInjector=m(ye);destroyRef=m(_n);urlSerializer=m(Wi);rootContexts=m(zi);location=m(Xn);inputBindingEnabled=m(Hs,{optional:!0})!==null;titleStrategy=m(tg);options=m(qi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(nu);createViewTransition=m(rg,{optional:!0});navigationErrorHandler=m(sg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new Hl(r)),i=r=>this.events.next(new $l(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(x(_({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(n){return this.transitions=new we(null),this.transitions.pipe(he(i=>i!==null),Ue(i=>{let r=!1,o=!1;return D(i).pipe(Ue(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",ze.SupersededByNewNavigation),Ee;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?x(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Zt(s.id,this.urlSerializer.serialize(s.rawUrl),l,ao.IgnoredSameUrlNavigation)),s.resolve(!1),Ee}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return D(s).pipe(Ue(l=>(this.events.next(new ii(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ee:Promise.resolve(l))),YP(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),_e(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=x(_({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new ks(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:f,extras:h}=s,g=new ii(l,this.urlSerializer.serialize(u),d,f);this.events.next(g);let y=dE(this.rootComponentType).snapshot;return this.currentTransition=i=x(_({},s),{targetSnapshot:y,urlAfterRedirects:u,extras:x(_({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,D(i)}else{let l="";return this.events.next(new Zt(s.id,this.urlSerializer.serialize(s.extractedUrl),l,ao.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ee}}),_e(s=>{let a=new Vl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),U(s=>(this.currentTransition=i=x(_({},s),{guards:pP(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),IP(this.environmentInjector,s=>this.events.next(s)),_e(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Ql(this.urlSerializer,s.guardsResult);let a=new Bl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),he(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ze.GuardRejected),!1)),Lp(s=>{if(s.guards.canActivateChecks.length!==0)return D(s).pipe(_e(a=>{let c=new jl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Ue(a=>{let c=!1;return D(a).pipe(KP(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",ze.NoDataFromResolver)}}))}),_e(a=>{let c=new Ul(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Lp(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(_e(u=>{c.component=u}),U(()=>{})));for(let u of c.children)l.push(...a(u));return l};return Mr(a(s.targetSnapshot.root)).pipe(Ln(null),xe(1))}),Lp(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?oe(c).pipe(U(()=>i)):D(i)}),U(s=>{let a=lP(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=x(_({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),_e(()=>{this.events.next(new Ps)}),fP(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),xe(1),_e({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),De(this.transitionAbortSubject.pipe(_e(s=>{throw s}))),Ar(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",ze.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),ln(s=>{if(this.destroyed)return i.resolve(!1),Ee;if(o=!0,_E(s))this.events.next(new Yt(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),hP(s)?this.events.next(new uo(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new co(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let c=Ne(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof ho){let{message:l,cancellationCode:u}=Ql(this.urlSerializer,c);this.events.next(new Yt(i.id,this.urlSerializer.serialize(i.extractedUrl),l,u)),this.events.next(new uo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return Ee}))}))}cancelNavigationTransition(n,i,r){let o=new Yt(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nx(e){return e!==xl}var SE=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(ix),providedIn:"root"})}return e})(),Xl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},ix=(()=>{class e extends Xl{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Wn(e)))(r||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ME=(()=>{class e{urlSerializer=m(Wi);options=m(qi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(Xn);urlHandlingStrategy=m(nu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Kt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=r??o;return s instanceof Kt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=dE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(rx),providedIn:"root"})}return e})(),rx=(()=>{class e extends ME{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof ii?this.updateStateMemento():n instanceof Zt?this.commitTransition(i):n instanceof ks?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof Ps?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof Yt&&(n.code===ze.GuardRejected||n.code===ze.NoDataFromResolver)?this.restoreHistory(i):n instanceof co?this.restoreHistory(i,!0):n instanceof dt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(r,a));this.location.replaceState(n,"",c)}else{let a=_(_({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Wn(e)))(r||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ru(e,t){e.events.pipe(he(n=>n instanceof dt||n instanceof Yt||n instanceof co||n instanceof Zt),U(n=>n instanceof dt||n instanceof Zt?0:(n instanceof Yt?n.code===ze.Redirect||n.code===ze.SupersededByNewNavigation:!1)?2:1),he(n=>n!==2),xe(1)).subscribe(()=>{t()})}var ox={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(dp);stateManager=m(ME);options=m(qi,{optional:!0})||{};pendingTasks=m(xi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(iu);urlSerializer=m(Wi);location=m(Xn);urlHandlingStrategy=m(nu);_events=new z;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(SE);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(Yi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(Hs,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Yt&&i.code!==ze.Redirect&&i.code!==ze.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof dt)this.navigated=!0;else if(i instanceof uo){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=_({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nx(r.source)},s);this.scheduleNavigation(a,xl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}cx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=_({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ig),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=r?r.snapshot:this.routerState.snapshot.root;d=aE(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return cE(d,n,u,l??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=ni(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,xl,null,i)}navigate(n,i={skipLocationChange:!1}){return ax(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=_({},ox):i===!1?r=_({},sx):r=i,ni(n))return Hw(this.currentUrlTree,n,r);let o=this.parseUrl(n);return Hw(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return ru(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ax(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new w(4008,!1)}function cx(e){return!(e instanceof Ps)&&!(e instanceof uo)}var NE=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new z;constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof dt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ni(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:ub(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ni(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||e)(P(Jt),P(Qt),zn("tabindex"),P(qn),P(pe),P(Ct))};static \u0275dir=Q({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&bt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&lt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Jn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Jn],replaceUrl:[2,"replaceUrl","replaceUrl",Jn],routerLink:"routerLink"},features:[We]})}return e})();var Gs=class{};var AE=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(he(n=>n instanceof dt),Fn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=vs(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return oe(r).pipe(Nr())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=D(null);let o=r.pipe(se(s=>s===null?D(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return oe([o,s]).pipe(Nr())}else return o})}static \u0275fac=function(i){return new(i||e)(T(Jt),T(_l),T(ye),T(Gs),T(tu))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),RE=new E(""),lx=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof dt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zt&&n.code===ao.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Ub()};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function ux(e,...t){return $n([{provide:Yi,multi:!0,useValue:e},[],{provide:Qt,useFactory:OE,deps:[Jt]},{provide:pl,multi:!0,useFactory:kE},t.map(n=>n.\u0275providers)])}function OE(e){return e.routerState.root}function Ws(e,t){return{\u0275kind:e,\u0275providers:t}}function kE(){let e=m(ce);return t=>{let n=e.get(Ht);if(t!==n.components[0])return;let i=e.get(Jt),r=e.get(PE);e.get(cg)===1&&i.initialNavigation(),e.get(LE,null,V.Optional)?.setUpPreloading(),e.get(RE,null,V.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var PE=new E("",{factory:()=>new z}),cg=new E("",{providedIn:"root",factory:()=>1});function xE(){let e=[{provide:cg,useValue:0},hp(()=>{let t=m(ce);return t.get(wp,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(Jt),o=t.get(PE);ru(r,()=>{i(!0)}),t.get(iu).afterPreactivation=()=>(i(!0),o.closed?D(void 0):o),r.initialNavigation()}))})];return Ws(2,e)}function FE(){let e=[hp(()=>{m(Jt).setUpLocationChangeListener()}),{provide:cg,useValue:2}];return Ws(3,e)}var LE=new E("");function VE(e){return Ws(0,[{provide:LE,useExisting:AE},{provide:Gs,useExisting:e}])}function BE(){return Ws(8,[eg,{provide:Hs,useExisting:eg}])}function jE(e){Li("NgRouterViewTransitions");let t=[{provide:rg,useValue:TE},{provide:og,useValue:_({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ws(9,t)}var UE=[Xn,{provide:Wi,useClass:ti},Jt,zi,{provide:Qt,useFactory:OE,deps:[Jt]},tu,[]],dx=(()=>{class e{constructor(){}static forRoot(n,i){return{ngModule:e,providers:[UE,[],{provide:Yi,multi:!0,useValue:n},[],i?.errorHandler?{provide:sg,useValue:i.errorHandler}:[],{provide:qi,useValue:i||{}},i?.useHash?fx():px(),hx(),i?.preloadingStrategy?VE(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?gx(i):[],i?.bindToComponentInputs?BE().\u0275providers:[],i?.enableViewTransitions?jE().\u0275providers:[],mx()]}}static forChild(n){return{ngModule:e,providers:[{provide:Yi,multi:!0,useValue:n}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Z({type:e});static \u0275inj=K({})}return e})();function hx(){return{provide:RE,useFactory:()=>{let e=m(Ow),t=m(H),n=m(qi),i=m(iu),r=m(Wi);return n.scrollOffset&&e.setOffset(n.scrollOffset),new lx(r,i,e,t,n)}}}function fx(){return{provide:Ct,useClass:Dp}}function px(){return{provide:Ct,useClass:El}}function gx(e){return[e.initialNavigation==="disabled"?FE().\u0275providers:[],e.initialNavigation==="enabledBlocking"?xE().\u0275providers:[]]}var ag=new E("");function mx(){return[{provide:ag,useFactory:kE},{provide:pl,multi:!0,useExisting:ag}]}var ZE=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||e)(P(qn),P(pe))};static \u0275dir=Q({type:e})}return e})(),_x=(()=>{class e extends ZE{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Wn(e)))(r||e)}})();static \u0275dir=Q({type:e,features:[Ze]})}return e})(),hg=new E("");var vx={provide:hg,useExisting:$t(()=>QE),multi:!0};function yx(){let e=ut()?ut().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var bx=new E(""),QE=(()=>{class e extends ZE{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!yx())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||e)(P(qn),P(pe),P(bx,8))};static \u0275dir=Q({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&bt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Qn([vx]),Ze]})}return e})();function fg(e){return e==null||pg(e)===0}function pg(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Qs=new E(""),mu=new E(""),wx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,HE=class{static min(t){return Ex(t)}static max(t){return Dx(t)}static required(t){return JE(t)}static requiredTrue(t){return Cx(t)}static email(t){return Ix(t)}static minLength(t){return Tx(t)}static maxLength(t){return Sx(t)}static pattern(t){return Mx(t)}static nullValidator(t){return su()}static compose(t){return rD(t)}static composeAsync(t){return oD(t)}};function Ex(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function Dx(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function JE(e){return fg(e.value)?{required:!0}:null}function Cx(e){return e.value===!0?null:{required:!0}}function Ix(e){return fg(e.value)||wx.test(e.value)?null:{email:!0}}function Tx(e){return t=>{let n=t.value?.length??pg(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function Sx(e){return t=>{let n=t.value?.length??pg(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Mx(e){if(!e)return su;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(fg(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function su(e){return null}function XE(e){return e!=null}function eD(e){return Bi(e)?oe(e):e}function tD(e){let t={};return e.forEach(n=>{t=n!=null?_(_({},t),n):t}),Object.keys(t).length===0?null:t}function nD(e,t){return t.map(n=>n(e))}function Nx(e){return!e.validate}function iD(e){return e.map(t=>Nx(t)?t:n=>t.validate(n))}function rD(e){if(!e)return null;let t=e.filter(XE);return t.length==0?null:function(n){return tD(nD(n,t))}}function gg(e){return e!=null?rD(iD(e)):null}function oD(e){if(!e)return null;let t=e.filter(XE);return t.length==0?null:function(n){let i=nD(n,t).map(eD);return Zd(i).pipe(U(tD))}}function mg(e){return e!=null?oD(iD(e)):null}function $E(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function sD(e){return e._rawValidators}function aD(e){return e._rawAsyncValidators}function lg(e){return e?Array.isArray(e)?e:[e]:[]}function au(e,t){return Array.isArray(e)?e.includes(t):e===t}function GE(e,t){let n=lg(t);return lg(e).forEach(r=>{au(n,r)||n.push(r)}),n}function WE(e,t){return lg(t).filter(n=>!au(e,n))}var cu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=gg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=mg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Dn=class extends cu{name;get formDirective(){return null}get path(){return null}},Ki=class extends cu{_parent=null;name=null;valueAccessor=null},lu=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ax={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},WY=x(_({},Ax),{"[class.ng-submitted]":"isSubmitted"}),zY=(()=>{class e extends lu{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(P(Ki,2))};static \u0275dir=Q({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ze]})}return e})(),qY=(()=>{class e extends lu{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(P(Dn,10))};static \u0275dir=Q({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ze]})}return e})();var zs="VALID",ou="INVALID",go="PENDING",qs="DISABLED",oi=class{},uu=class extends oi{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ks=class extends oi{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Zs=class extends oi{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},mo=class extends oi{status;source;constructor(t,n){super(),this.status=t,this.source=n}},ug=class extends oi{source;constructor(t){super(),this.source=t}},dg=class extends oi{source;constructor(t){super(),this.source=t}};function cD(e){return(_u(e)?e.validators:e)||null}function Rx(e){return Array.isArray(e)?gg(e):e||null}function lD(e,t){return(_u(t)?t.asyncValidators:e)||null}function Ox(e){return Array.isArray(e)?mg(e):e||null}function _u(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function kx(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new w(1e3,"");if(!i[n])throw new w(1001,"")}function Px(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new w(1002,"")})}var du=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Et(this.statusReactive)}set status(t){Et(()=>this.statusReactive.set(t))}_status=Ui(()=>this.statusReactive());statusReactive=Fi(void 0);get valid(){return this.status===zs}get invalid(){return this.status===ou}get pending(){return this.status==go}get disabled(){return this.status===qs}get enabled(){return this.status!==qs}errors;get pristine(){return Et(this.pristineReactive)}set pristine(t){Et(()=>this.pristineReactive.set(t))}_pristine=Ui(()=>this.pristineReactive());pristineReactive=Fi(!0);get dirty(){return!this.pristine}get touched(){return Et(this.touchedReactive)}set touched(t){Et(()=>this.touchedReactive.set(t))}_touched=Ui(()=>this.touchedReactive());touchedReactive=Fi(!1);get untouched(){return!this.touched}_events=new z;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(GE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(GE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(WE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(WE(t,this._rawAsyncValidators))}hasValidator(t){return au(this._rawValidators,t)}hasAsyncValidator(t){return au(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(x(_({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Zs(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Zs(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(x(_({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Ks(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new Ks(!0,i))}markAsPending(t={}){this.status=go;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(x(_({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=qs,this.errors=null,this._forEachChild(r=>{r.disable(x(_({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new uu(this.value,i)),this._events.next(new mo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=zs,this._forEachChild(i=>{i.enable(x(_({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(x(_({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zs||this.status===go)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new uu(this.value,n)),this._events.next(new mo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(x(_({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qs:zs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=go,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=eD(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new mo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new q,this.statusChanges=new q}_calculateStatus(){return this._allControlsDisabled()?qs:this.errors?ou:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(go)?go:this._anyControlsHaveStatus(ou)?ou:zs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new Ks(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Zs(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_u(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Rx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Ox(this._rawAsyncValidators)}},hu=class extends du{constructor(t,n,i){super(cD(n),lD(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Px(this,!0,t),Object.keys(t).forEach(i=>{kx(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Js=new E("",{providedIn:"root",factory:()=>vu}),vu="always";function uD(e,t){return[...t.path,e]}function fu(e,t,n=vu){_g(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Fx(e,t),Vx(e,t),Lx(e,t),xx(e,t)}function zE(e,t,n=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),gu(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function pu(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function xx(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function _g(e,t){let n=sD(e);t.validator!==null?e.setValidators($E(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=aD(e);t.asyncValidator!==null?e.setAsyncValidators($E(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();pu(t._rawValidators,r),pu(t._rawAsyncValidators,r)}function gu(e,t){let n=!1;if(e!==null){if(t.validator!==null){let r=sD(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=aD(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}let i=()=>{};return pu(t._rawValidators,i),pu(t._rawAsyncValidators,i),n}function Fx(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&dD(e,t)})}function Lx(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&dD(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function dD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Vx(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function hD(e,t){e==null,_g(e,t)}function Bx(e,t){return gu(e,t)}function fD(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function jx(e){return Object.getPrototypeOf(e.constructor)===_x}function pD(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function gD(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===QE?n=o:jx(o)?i=o:r=o}),r||i||n||null}function Ux(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Hx={provide:Dn,useExisting:$t(()=>$x)},Ys=Promise.resolve(),$x=(()=>{class e extends Dn{callSetDisabledState;get submitted(){return Et(this.submittedReactive)}_submitted=Ui(()=>this.submittedReactive());submittedReactive=Fi(!1);_directives=new Set;form;ngSubmit=new q;options;constructor(n,i,r){super(),this.callSetDisabledState=r,this.form=new hu({},gg(n),mg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ys.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),fu(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ys.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ys.then(()=>{let i=this._findContainer(n.path),r=new hu({});hD(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ys.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){Ys.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),pD(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(i){return new(i||e)(P(Qs,10),P(mu,10),P(Js,8))};static \u0275dir=Q({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&bt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Qn([Hx]),Ze]})}return e})();function qE(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function YE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var mD=class extends du{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,i){super(cD(n),lD(i,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_u(n)&&(n.nonNullable||n.initialValueIsDefault)&&(YE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){YE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Gx=e=>e instanceof mD;var Wx={provide:Ki,useExisting:$t(()=>zx)},KE=Promise.resolve(),zx=(()=>{class e extends Ki{_changeDetectorRef;callSetDisabledState;control=new mD;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new q;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=gD(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),fD(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&Jn(i);KE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?uD(n,this._parent):[n]}static \u0275fac=function(i){return new(i||e)(P(Dn,9),P(Qs,10),P(mu,10),P(hg,10),P(wt,8),P(Js,8))};static \u0275dir=Q({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Qn([Wx]),Ze,We]})}return e})();var KY=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Q({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var _D=new E("");var qx={provide:Dn,useExisting:$t(()=>Yx)},Yx=(()=>{class e extends Dn{callSetDisabledState;get submitted(){return Et(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Ui(()=>this._submittedReactive());_submittedReactive=Fi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new q;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return fu(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){zE(n.control||null,n,!1),Ux(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),pD(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ug(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new dg(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(zE(i||null,n),Gx(r)&&(fu(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);hD(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&Bx(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_g(this.form,this),this._oldForm&&gu(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(P(Qs,10),P(mu,10),P(Js,8))};static \u0275dir=Q({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&bt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Qn([qx]),Ze,We]})}return e})();var Kx={provide:Ki,useExisting:$t(()=>Zx)},Zx=(()=>{class e extends Ki{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new q;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=gD(this,o)}ngOnChanges(n){this._added||this._setUpControl(),fD(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return uD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||e)(P(Dn,13),P(Qs,10),P(mu,10),P(hg,10),P(_D,8))};static \u0275dir=Q({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Qn([Kx]),Ze,We]})}return e})();var Qx=(()=>{class e{_validator=su;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):su,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Q({type:e,features:[We]})}return e})();var Jx={provide:Qs,useExisting:$t(()=>Xx),multi:!0};var Xx=(()=>{class e extends Qx{required;inputName="required";normalizeInput=Jn;createValidator=n=>JE;enabled(n){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Wn(e)))(r||e)}})();static \u0275dir=Q({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&lt("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Qn([Jx]),Ze]})}return e})();var vD=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=Z({type:e});static \u0275inj=K({})}return e})();var ZY=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Js,useValue:n.callSetDisabledState??vu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Z({type:e});static \u0275inj=K({imports:[vD]})}return e})(),QY=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:_D,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Js,useValue:n.callSetDisabledState??vu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Z({type:e});static \u0275inj=K({imports:[vD]})}return e})();function yu(e){e||(tl(yu),e=m(_n));let t=new M(n=>e.onDestroy(n.next.bind(n)));return n=>n.pipe(De(t))}function vg(e){e===void 0&&(tl(vg),e=m(ce));let t=e.get(ol);return n=>new M(i=>{let r=t.add(),o=!1;function s(){o||(r(),o=!0)}let a=n.subscribe({next:c=>{i.next(c),s()},complete:()=>{i.complete(),s()},error:c=>{i.error(c),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var bD=["*"];var eF=e=>({$implicit:e});var tF=["dialog"],nF=["ngbNavOutlet",""];function iF(e,t){}function rF(e,t){if(e&1&&(En(0,"div",0),to(1,iF,0,0,"ng-template",1),Yn()),e&2){let n=ji().$implicit,i=ji();ys("item",n)("nav",i.nav)("role",i.paneRole),gs(),ys("ngTemplateOutlet",(n.contentTpl==null?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",vw(5,eF,n.active||i.isPanelTransitioning(n)))}}function oF(e,t){if(e&1&&to(0,rF,2,7,"div",0),e&2){let n=t.$implicit,i=ji();fp(n.isPanelInDom()||i.isPanelTransitioning(n)?0:-1)}}function sF(e,t){if(e&1&&(En(0,"strong",3),mw(1),Yn()),e&2){let n=ji();gs(),_p(n.header)}}function aF(e,t){}function cF(e,t){if(e&1){let n=fw();En(0,"div",1),to(1,aF,0,0,"ng-template",4),En(2,"button",5),bt("click",function(){r0(n);let r=ji();return o0(r.hide())}),Yn()()}if(e&2){let n=ji(),i=gw(1);gs(),ys("ngTemplateOutlet",n.contentHeaderTpl||i)}}var wD={animation:!0,transitionTimerDelayMs:5},wg=(()=>{class e{constructor(){this.animation=wD.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lF(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function ED(e){return typeof e=="string"}function Zi(e){return e!=null}function uF(e){return e&&e.then}function Eu(e){return(e||document.body).getBoundingClientRect()}function dF(e){return t=>new M(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var hF=()=>{},{transitionTimerDelayMs:fF}=wD,bu=new Map,Tt=(e,t,n,i)=>{let r=i.context||{},o=bu.get(t);if(o)switch(i.runningTransition){case"continue":return Ee;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),bu.delete(t)}let s=n(t,i.animation,r)||hF;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),D(void 0).pipe(dF(e));let a=new z,c=new z,l=a.pipe(eh(!0));bu.set(t,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let u=lF(t);return e.runOutsideAngular(()=>{let d=rt(t,"transitionend").pipe(De(l),he(({target:h})=>h===t)),f=Qd(u+fF).pipe(De(l));Jd(f,d,c).pipe(De(l)).subscribe(()=>{bu.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var DD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var CD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var ID=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})(),TD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var Cn=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Cn||{});var WK=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var pF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function SD(e){let t=Array.from(e.querySelectorAll(pF)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var gF=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=rt(t,"focusin").pipe(De(n),U(o=>o.target));rt(t,"keydown").pipe(De(n),he(o=>o.which===Cn.Tab),gc(r)).subscribe(([o,s])=>{let[a,c]=SD(t);(s===a||s===t)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&rt(t,"click").pipe(De(n),gc(r),U(o=>o[1])).subscribe(o=>o.focus())})};var zK=new Date(1882,10,12),qK=new Date(2174,10,25);var YK=1e3*60*60*24;var Eg=1080,mF=24*Eg,_F=12*Eg+793,KK=29*mF+_F,ZK=11*Eg+204;var MD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var ND=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})(),vF=(()=>{class e{constructor(){this._ngbConfig=m(wg),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_o=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var yF=(()=>{class e{constructor(){this._document=m(ae)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bF=(()=>{class e{constructor(){this._nativeElement=m(pe).nativeElement,this._zone=m(H)}ngOnInit(){this._zone.onStable.asObservable().pipe(xe(1)).subscribe(()=>{Tt(this._zone,this._nativeElement,(n,i)=>{i&&Eu(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Tt(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Vi({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(gl("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Qe("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),wu=class{update(t){}close(t){}dismiss(t){}},wF=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],EF=["animation","backdropClass"],yg=class{_applyWindowOptions(t,n){wF.forEach(i=>{Zi(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){EF.forEach(i=>{Zi(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(De(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(De(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new z,this._dismissed=new z,this._hidden=new z,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();uF(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():D(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Yo(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},bg=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(bg||{}),DF=(()=>{class e{constructor(){this._document=m(ae),this._elRef=m(pe),this._zone=m(H),this._closed$=new z,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new q,this.shown=new z,this.hidden=new z}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":ED(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(xe(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Tt(this._zone,n,()=>n.classList.remove("show"),i),o=Tt(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Yo(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=Tt(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Eu(o),o.classList.add("show")},n),r=Tt(this._zone,this._dialogEl.nativeElement,()=>{},n);Yo(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{rt(n,"keydown").pipe(De(this._closed$),he(r=>r.which===Cn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(bg.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;rt(this._dialogEl.nativeElement,"mousedown").pipe(De(this._closed$),_e(()=>i=!1),Ue(()=>rt(n,"mouseup").pipe(De(this._closed$),xe(1))),he(({target:r})=>n===r)).subscribe(()=>{i=!0}),rt(n,"click").pipe(De(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(bg.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=SD(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Tt(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Vi({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&mp(tF,7),i&2){let o;Kn(o=Zn())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(lt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),gl("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Qe("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:bD,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(pp(),En(0,"div",1,0)(2,"div",2),gp(3),Yn()()),i&2&&gl("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),CF=(()=>{class e{constructor(){this._applicationRef=m(Ht),this._injector=m(ce),this._environmentInjector=m(ye),this._document=m(ae),this._scrollBar=m(yF),this._activeWindowCmptHasChanged=new z,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new q;let n=m(H);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];gF(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:Zi(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new wu;n=r.injector||n;let a=n.get(ye,null)||this._environmentInjector,c=this._getContentRef(n,a,i,s,r),l=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,c.nodes),d=new yg(u,c,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(xe(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=f=>{d.close(f)},s.dismiss=f=>{d.dismiss(f)},s.update=f=>{d.update(f)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=yl(bF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=yl(DF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof Ut?this._createFromTemplateRef(r,o):ED(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new _o([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new _o([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new _o([[i]])}_createFromComponent(n,i,r,o,s){let a=ce.create({providers:[{provide:wu,useValue:o}],parent:n}),c=yl(r,{environmentInjector:i,elementInjector:a}),l=c.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new _o([[l]],c.hostView,c)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),IF=(()=>{class e{constructor(){this._injector=m(ce),this._modalStack=m(CF),this._config=m(vF)}open(n,i={}){let r=_(x(_({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),AD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({providers:[IF]})}}return e})(),TF=(()=>{class e{constructor(){this._ngbConfig=m(wg),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),RD=e=>Zi(e)&&e!=="",SF=0,MF=(()=>{class e{constructor(){this.templateRef=m(Ut)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Q({type:e,selectors:[["ng-template","ngbNavContent",""]]})}}return e})(),QK=(()=>{class e{constructor(n){this.role=n,this.nav=m(Dg)}static{this.\u0275fac=function(i){return new(i||e)(zn("role"))}}static{this.\u0275dir=Q({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(i,r){i&2&&lt("role",r.role?r.role:r.nav.roles?"presentation":void 0)}})}}return e})(),OD=(()=>{class e{constructor(){this._nav=m(Dg),this._nativeElement=m(pe).nativeElement,this.disabled=!1,this.shown=new q,this.hidden=new q}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Zi(this.domId)||(this.domId=`ngb-nav-${SF++}`)}get active(){return this._nav.activeId===this.id}get id(){return RD(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Zi(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Q({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(i,r,o){if(i&1&&no(o,MF,4),i&2){let s;Kn(s=Zn())&&(r.contentTpls=s)}},hostVars:2,hostBindings:function(i,r){i&2&&Qe("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]})}}return e})(),Dg=(()=>{class e{constructor(n){this.role=n,this._config=m(TF),this._cd=m(wt),this._document=m(ae),this._nativeElement=m(pe).nativeElement,this.destroyRef=m(_n),this._navigatingWithKeyboard=!1,this.activeIdChange=new q,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new q,this.hidden=new q,this.navItemChange$=new z,this.navChange=new q}click(n){n.disabled||this._updateActiveId(n.id)}onFocusout({relatedTarget:n}){this._nativeElement.contains(n)||(this._navigatingWithKeyboard=!1)}onKeyDown(n){if(this.roles!=="tablist"||!this.keyboard)return;let i=n.which,r=this.links.filter(a=>!a.navItem.disabled),{length:o}=r,s=-1;if(r.forEach((a,c)=>{a.nativeElement===this._document.activeElement&&(s=c)}),o){switch(i){case Cn.ArrowUp:case Cn.ArrowLeft:s=(s-1+o)%o;break;case Cn.ArrowRight:case Cn.ArrowDown:s=(s+1)%o;break;case Cn.Home:s=0;break;case Cn.End:s=o-1;break}this.keyboard==="changeWithArrows"&&this.select(r[s].navItem.id),r[s].nativeElement.focus(),this._navigatingWithKeyboard=!0,n.preventDefault()}}select(n){this._updateActiveId(n,!1)}ngAfterContentInit(){if(!Zi(this.activeId)){let n=this.items.first?this.items.first.id:null;RD(n)&&(this._updateActiveId(n,!1),this._cd.detectChanges())}this.items.changes.pipe(yu(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:n}){n&&!n.firstChange&&this._notifyItemChanged(n.currentValue)}_updateActiveId(n,i=!0){if(this.activeId!==n){let r=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:n,preventDefault:()=>{r=!0}}),r||(this.activeId=n,this.activeIdChange.emit(n),this._notifyItemChanged(n))}}_notifyItemChanged(n){this.navItemChange$.next(this._getItemById(n))}_getItemById(n){return this.items&&this.items.find(i=>i.id===n)||null}static{this.\u0275fac=function(i){return new(i||e)(zn("role"))}}static{this.\u0275dir=Q({type:e,selectors:[["","ngbNav",""]],contentQueries:function(i,r,o){if(i&1&&(no(o,OD,4),no(o,kD,5)),i&2){let s;Kn(s=Zn())&&(r.items=s),Kn(s=Zn())&&(r.links=s)}},hostVars:6,hostBindings:function(i,r){i&1&&bt("keydown.arrowLeft",function(s){return r.onKeyDown(s)})("keydown.arrowRight",function(s){return r.onKeyDown(s)})("keydown.arrowDown",function(s){return r.onKeyDown(s)})("keydown.arrowUp",function(s){return r.onKeyDown(s)})("keydown.Home",function(s){return r.onKeyDown(s)})("keydown.End",function(s){return r.onKeyDown(s)})("focusout",function(s){return r.onFocusout(s)}),i&2&&(lt("aria-orientation",r.orientation==="vertical"&&r.roles==="tablist"?"vertical":void 0)("role",r.role?r.role:r.roles?"tablist":void 0),Qe("nav",!0)("flex-column",r.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[We]})}}return e})(),kD=(()=>{class e{constructor(n){this.role=n,this.navItem=m(OD),this.nav=m(Dg),this.nativeElement=m(pe).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static{this.\u0275fac=function(i){return new(i||e)(zn("role"))}}static{this.\u0275dir=Q({type:e,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(i,r){i&2&&(bs("id",r.navItem.domId),lt("role",r.role?r.role:r.nav.roles?"tab":void 0)("tabindex",r.tabindex)("aria-controls",r.navItem.isPanelInDom()?r.navItem.panelDomId:null)("aria-selected",r.navItem.active)("aria-disabled",r.navItem.disabled),Qe("nav-link",!0)("nav-item",r.navItem.isNgContainer())("active",r.navItem.active)("disabled",r.navItem.disabled))}})}}return e})(),JK=(()=>{class e extends kD{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Wn(e)))(r||e)}})()}static{this.\u0275dir=Q({type:e,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(i,r){i&1&&bt("click",function(){return r.nav.click(r.navItem)}),i&2&&bs("disabled",r.navItem.disabled)},features:[Ze]})}}return e})();var NF=({classList:e})=>(e.remove("show"),()=>e.remove("active")),AF=(e,t)=>{t&&Eu(e),e.classList.add("show")},yD=(()=>{class e{constructor(){this.nativeElement=m(pe).nativeElement}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Q({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(i,r){i&2&&(bs("id",r.item.panelDomId),lt("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),Qe("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}})}}return e})(),XK=(()=>{class e{constructor(){this._cd=m(wt),this._ngZone=m(H),this._activePane=null}isPanelTransitioning(n){return this._activePane?.item===n}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(yu(this.nav.destroyRef),Ko(this._activePane?.item||null),Xd(),ih(1)).subscribe(n=>{let i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Tt(this._ngZone,this._activePane.nativeElement,NF,i).subscribe(()=>{let r=this._activePane?.item;this._activePane=this._getPaneForItem(n),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),Tt(this._ngZone,this._activePane.nativeElement,AF,i).subscribe(()=>{n&&(n.shown.emit(),this.nav.shown.emit(n.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show"),this._activePane?.nativeElement.classList.add("active")}_getPaneForItem(n){return this._panes&&this._panes.find(i=>i.item===n)||null}_getActivePane(){return this._panes&&this._panes.find(n=>n.item.active)||null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Vi({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(i,r){if(i&1&&mp(yD,5),i&2){let o;Kn(o=Zn())&&(r._panes=o)}},hostVars:2,hostBindings:function(i,r){i&2&&Qe("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},attrs:nF,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&dw(0,oF,1,1,null,null,uw),i&2&&hw(r.nav.items)},dependencies:[yD,Cl],encapsulation:2,changeDetection:0})}}return e})();var PD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var xD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var FD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var LD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var VD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var BD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var jD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})(),RF=(()=>{class e{constructor(){this._ngbConfig=m(wg),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),OF=(e,t)=>{let{classList:n}=e;if(t)n.add("fade");else{n.add("show");return}return Eu(e),n.add("show","showing"),()=>{n.remove("showing")}},kF=({classList:e})=>(e.add("showing"),()=>{e.remove("show","showing")}),PF=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Q({type:e,selectors:[["","ngbToastHeader",""]]})}}return e})(),e9=(()=>{class e{constructor(n){this.ariaLive=n,this._config=m(RF),this._zone=m(H),this._element=m(pe),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new q,this.hidden=new q,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(xe(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(n){"autohide"in n&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();let n=Tt(this._zone,this._element.nativeElement,kF,{animation:this.animation,runningTransition:"stop"});return n.subscribe(()=>{this.hidden.emit()}),n}show(){let n=Tt(this._zone,this._element.nativeElement,OF,{animation:this.animation,runningTransition:"continue"});return n.subscribe(()=>{this.shown.emit()}),n}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static{this.\u0275fac=function(i){return new(i||e)(zn("aria-live"))}}static{this.\u0275cmp=Vi({type:e,selectors:[["ngb-toast"]],contentQueries:function(i,r,o){if(i&1&&no(o,PF,7,Ut),i&2){let s;Kn(s=Zn())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,r){i&2&&(lt("aria-live",r.ariaLive),Qe("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[We],ngContentSelectors:bD,decls:5,vars:1,consts:()=>{let n;return n=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[1,"toast-header"],[1,"toast-body"],[1,"me-auto"],[3,"ngTemplateOutlet"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(i,r){i&1&&(pp(),to(0,sF,2,1,"ng-template",null,0,bw)(2,cF,3,1,"div",1),En(3,"div",2),gp(4),Yn()),i&2&&(gs(2),fp(r.contentHeaderTpl||r.header?2:-1))},dependencies:[Cl],styles:[`ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}
`],encapsulation:2})}}return e})(),UD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var HD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var t9=new E("live announcer delay",{providedIn:"root",factory:()=>100});var $D=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})();var GD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({})}}return e})(),xF=[DD,CD,ID,TD,MD,ND,AD,PD,GD,xD,FD,LD,VD,BD,jD,UD,HD,$D],n9=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Z({type:e})}static{this.\u0275inj=K({imports:[xF,DD,CD,ID,TD,MD,ND,AD,PD,GD,xD,FD,LD,VD,BD,jD,UD,HD,$D]})}}return e})();var WD=()=>{};var Ig={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(e,t){if(!e)throw Qi(t)},Qi=function(e){return new Error("Firebase Database ("+Ig.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var qD=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},FF=function(e){let t=[],n=0,i=0;for(;n<e.length;){let r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=e[n++],s=e[n++],a=e[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},bo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){let o=e[r],s=r+1<e.length,a=s?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),i.push(n[u],n[d],n[f],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qD(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){let o=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;let l=r<e.length?n[e.charAt(r)]:64;++r;let d=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||a==null||l==null||d==null)throw new Tg;let f=o<<2|a>>4;if(i.push(f),l!==64){let h=a<<4&240|l>>2;if(i.push(h),d!==64){let g=l<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Tg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Mg=function(e){let t=qD(e);return bo.encodeByteArray(t,!0)},Xs=function(e){return Mg(e).replace(/\./g,"")},vo=function(e){try{return bo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function YD(e){return KD(void 0,e)}function KD(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!LF(n)||(e[n]=KD(e[n],t[n]));return e}function LF(e){return e!=="__proto__"}function ZD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var VF=()=>ZD().__FIREBASE_DEFAULTS__,BF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},jF=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&vo(e[1]);return t&&JSON.parse(t)},Ng=()=>{try{return WD()||VF()||BF()||jF()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ag=e=>{var t,n;return(n=(t=Ng())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},QD=e=>{let t=Ag(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Rg=()=>{var e;return(e=Ng())===null||e===void 0?void 0:e.config},Og=e=>{var t;return(t=Ng())===null||t===void 0?void 0:t[`_${e}`]};var Xt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}};function JD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xs(JSON.stringify(n)),Xs(JSON.stringify(s)),""].join(".")}function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ea(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function XD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eC(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Cu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tC(){let e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function en(){return Ig.NODE_CLIENT===!0||Ig.NODE_ADMIN===!0}function Iu(){try{return typeof indexedDB=="object"}catch{return!1}}function nC(){return new Promise((e,t)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function a9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var UF="FirebaseError",St=class e extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=UF,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}},Mt=class{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){let i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?HF(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new St(r,a,i)}};function HF(e,t){return e.replace($F,(n,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var $F=/\{\$([^}]+)}/g;function yo(e){return JSON.parse(e)}function Ce(e){return JSON.stringify(e)}var iC=function(e){let t={},n={},i={},r="";try{let o=e.split(".");t=yo(vo(o[0])||""),n=yo(vo(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}};var rC=function(e){let t=iC(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oC=function(e){let t=iC(e).claims;return typeof t=="object"&&t.admin===!0};function tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ji(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ta(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function na(e,t,n){let i={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function nn(e,t){if(e===t)return!0;let n=Object.keys(e),i=Object.keys(t);for(let r of n){if(!i.includes(r))return!1;let o=e[r],s=t[r];if(zD(o)&&zD(s)){if(!nn(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function zD(e){return e!==null&&typeof e=="object"}function Xi(e){let t=[];for(let[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function wo(e){let t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Eo(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Du=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let i=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)i[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(r<<5|r>>>27)+l+c+u+i[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let i=n-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<n;){if(s===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(o[s]=t.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<n;)if(o[s]=t[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t}};function sC(e,t){let n=new Sg(e,t);return n.subscribe.bind(n)}var Sg=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");GF(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Cg),r.error===void 0&&(r.error=Cg),r.complete===void 0&&(r.complete=Cg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function GF(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Cg(){}function aC(e,t){return`${e} failed: ${t} argument `}var cC=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,v(i<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},ia=function(e){let t=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};var WF=1e3,zF=2,qF=4*60*60*1e3,YF=.5;function KF(e,t=WF,n=zF){let i=t*Math.pow(n,e),r=Math.round(YF*i*(Math.random()-.5)*2);return Math.min(qF,i+r)}function et(e){return e&&e._delegate?e._delegate:e}var Be=class{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var er="[DEFAULT]";var Tu=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let i=new Xt;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let i=this.normalizeInstanceIdentifier(t?.identifier),r=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QF(t))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=er){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return p(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=er){return this.instances.has(t)}getOptions(t=er){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(t,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZF(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=er){return this.component?this.component.multipleInstances?t:er:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZF(e){return e===er?void 0:e}function QF(e){return e.instantiationMode==="EAGER"}var ra=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Tu(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var JF=[],X=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(X||{}),XF={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},eL=X.INFO,tL={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},nL=(e,t,...n)=>{if(t<e.logLevel)return;let i=new Date().toISOString(),r=tL[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},rn=class{constructor(t){this.name=t,this._logLevel=eL,this._logHandler=nL,this._userLogHandler=null,JF.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in X))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...t),this._logHandler(this,X.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...t),this._logHandler(this,X.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,X.INFO,...t),this._logHandler(this,X.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,X.WARN,...t),this._logHandler(this,X.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...t),this._logHandler(this,X.ERROR,...t)}};var iL=(e,t)=>t.some(n=>e instanceof n),lC,uC;function rL(){return lC||(lC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oL(){return uC||(uC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var dC=new WeakMap,Pg=new WeakMap,hC=new WeakMap,kg=new WeakMap,Fg=new WeakMap;function sL(e){let t=new Promise((n,i)=>{let r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Nt(e.result)),r()},s=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&dC.set(n,e)}).catch(()=>{}),Fg.set(t,e),t}function aL(e){if(Pg.has(e))return;let t=new Promise((n,i)=>{let r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Pg.set(e,t)}var xg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Pg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||hC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fC(e){xg=e(xg)}function cL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let i=e.call(Su(this),t,...n);return hC.set(i,t.sort?t.sort():[t]),Nt(i)}:oL().includes(e)?function(...t){return e.apply(Su(this),t),Nt(dC.get(this))}:function(...t){return Nt(e.apply(Su(this),t))}}function lL(e){return typeof e=="function"?cL(e):(e instanceof IDBTransaction&&aL(e),iL(e,rL())?new Proxy(e,xg):e)}function Nt(e){if(e instanceof IDBRequest)return sL(e);if(kg.has(e))return kg.get(e);let t=lL(e);return t!==e&&(kg.set(e,t),Fg.set(t,e)),t}var Su=e=>Fg.get(e);function gC(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(e,t),a=Nt(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Nt(s.result),c.oldVersion,c.newVersion,Nt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function g9(e,{blocked:t}={}){let n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),Nt(n).then(()=>{})}var uL=["get","getKey","getAll","getAllKeys","count"],dL=["put","add","delete","clear"],Lg=new Map;function pC(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Lg.get(t))return Lg.get(t);let n=t.replace(/FromIndex$/,""),i=t!==n,r=dL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||uL.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Lg.set(t,o),o}fC(e=>x(_({},e),{get:(t,n,i)=>pC(t,n)||e.get(t,n,i),has:(t,n)=>!!pC(t,n)||e.has(t,n)}));var Bg=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hL(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function hL(e){let t=e.getComponent();return t?.type==="VERSION"}var jg="@firebase/app",mC="0.11.4";var In=new rn("@firebase/app"),fL="@firebase/app-compat",pL="@firebase/analytics-compat",gL="@firebase/analytics",mL="@firebase/app-check-compat",_L="@firebase/app-check",vL="@firebase/auth",yL="@firebase/auth-compat",bL="@firebase/database",wL="@firebase/data-connect",EL="@firebase/database-compat",DL="@firebase/functions",CL="@firebase/functions-compat",IL="@firebase/installations",TL="@firebase/installations-compat",SL="@firebase/messaging",ML="@firebase/messaging-compat",NL="@firebase/performance",AL="@firebase/performance-compat",RL="@firebase/remote-config",OL="@firebase/remote-config-compat",kL="@firebase/storage",PL="@firebase/storage-compat",xL="@firebase/firestore",FL="@firebase/vertexai",LL="@firebase/firestore-compat",VL="firebase",BL="11.6.0";var Ug="[DEFAULT]",jL={[jg]:"fire-core",[fL]:"fire-core-compat",[gL]:"fire-analytics",[pL]:"fire-analytics-compat",[_L]:"fire-app-check",[mL]:"fire-app-check-compat",[vL]:"fire-auth",[yL]:"fire-auth-compat",[bL]:"fire-rtdb",[wL]:"fire-data-connect",[EL]:"fire-rtdb-compat",[DL]:"fire-fn",[CL]:"fire-fn-compat",[IL]:"fire-iid",[TL]:"fire-iid-compat",[SL]:"fire-fcm",[ML]:"fire-fcm-compat",[NL]:"fire-perf",[AL]:"fire-perf-compat",[RL]:"fire-rc",[OL]:"fire-rc-compat",[kL]:"fire-gcs",[PL]:"fire-gcs-compat",[xL]:"fire-fst",[LL]:"fire-fst-compat",[FL]:"fire-vertex","fire-js":"fire-js",[VL]:"fire-js-all"};var oa=new Map,UL=new Map,Hg=new Map;function _C(e,t){try{e.container.addComponent(t)}catch(n){In.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function At(e){let t=e.name;if(Hg.has(t))return In.debug(`There were multiple attempts to register component ${t}.`),!1;Hg.set(t,e);for(let n of oa.values())_C(n,e);for(let n of UL.values())_C(n,e);return!0}function Do(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qe(e){return e==null?!1:e.settings!==void 0}var HL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Mt("app","Firebase",HL);var $g=class{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Be("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}};var ai=BL;function zg(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let i=Object.assign({name:Ug,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw si.create("bad-app-name",{appName:String(r)});if(n||(n=Rg()),!n)throw si.create("no-options");let o=oa.get(r);if(o){if(nn(n,o.options)&&nn(i,o.config))return o;throw si.create("duplicate-app",{appName:r})}let s=new ra(r);for(let c of Hg.values())s.addComponent(c);let a=new $g(n,i,s);return oa.set(r,a),a}function tr(e=Ug){let t=oa.get(e);if(!t&&e===Ug&&Rg())return zg();if(!t)throw si.create("no-app",{appName:e});return t}function Mu(){return Array.from(oa.values())}function ge(e,t,n){var i;let r=(i=jL[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${t}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),In.warn(a.join(" "));return}At(new Be(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var $L="firebase-heartbeat-database",GL=1,sa="firebase-heartbeat-store",Vg=null;function wC(){return Vg||(Vg=gC($L,GL,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(e=>{throw si.create("idb-open",{originalErrorMessage:e.message})})),Vg}function WL(e){return p(this,null,function*(){try{let n=(yield wC()).transaction(sa),i=yield n.objectStore(sa).get(EC(e));return yield n.done,i}catch(t){if(t instanceof St)In.warn(t.message);else{let n=si.create("idb-get",{originalErrorMessage:t?.message});In.warn(n.message)}}})}function vC(e,t){return p(this,null,function*(){try{let i=(yield wC()).transaction(sa,"readwrite");yield i.objectStore(sa).put(t,EC(e)),yield i.done}catch(n){if(n instanceof St)In.warn(n.message);else{let i=si.create("idb-set",{originalErrorMessage:n?.message});In.warn(i.message)}}})}function EC(e){return`${e.name}!${e.options.appId}`}var zL=1024,qL=30,Gg=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Wg(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return p(this,null,function*(){var t,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yC();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>qL){let s=KL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){In.warn(i)}})}getHeartbeatsHeader(){return p(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=yC(),{heartbeatsToSend:i,unsentEntries:r}=YL(this._heartbeatsCache.heartbeats),o=Xs(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return In.warn(n),""}})}};function yC(){return new Date().toISOString().substring(0,10)}function YL(e,t=zL){let n=[],i=e.slice();for(let r of e){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),bC(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),bC(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var Wg=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Iu()?nC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield WL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return vC(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return vC(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function bC(e){return Xs(JSON.stringify({version:2,heartbeats:e})).length}function KL(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}function ZL(e){At(new Be("platform-logger",t=>new Bg(t),"PRIVATE")),At(new Be("heartbeat",t=>new Gg(t),"PRIVATE")),ge(jg,mC,e),ge(jg,mC,"esm2017"),ge("fire-js","")}ZL("");var QL="firebase",JL="11.6.0";ge(QL,JL,"app");var Io=new Un("ANGULARFIRE2_VERSION");function qg(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var Au=(e,t)=>{let n=t?[t]:Mu(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Co=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Co||{}),DC=yp()&&typeof Zone<"u"?Co.WARN:Co.SILENT;var Nu=class{zone;delegate;constructor(t,n=qd){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,i)}},To=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=m(H);this.outsideAngular=n.runOutsideAngular(()=>new Nu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Nu(typeof Zone>"u"?void 0:Zone.current,Qa))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),CC=!1;function XL(e,t){!CC&&(DC>Co.SILENT||yp())&&(CC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),DC>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function eV(e){let t=m(H,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function nr(e){let t=m(H,{optional:!0});return t?t.run(()=>e()):e()}var tV=(e,t,n)=>(...i)=>(t&&setTimeout(t,0),Ne(n,()=>nr(()=>e.apply(void 0,i)))),ci=(e,t,n)=>(n||=t?Co.WARN:Co.VERBOSE,function(){let i,r=arguments,o,s,a;try{o=m(To),s=m(ol),a=m(ye)}catch{return XL(e,n),e.apply(this,r)}for(let l=0;l<arguments.length;l++)typeof r[l]=="function"&&(t&&(i||=nr(()=>s.add())),r[l]=tV(r[l],i,a));let c=eV(()=>e.apply(this,r));return t?c instanceof M?c.pipe(Pn(o.outsideAngular),kn(o.insideAngular),vg(a)):c instanceof Promise?nr(()=>new Promise((l,u)=>{s.run(()=>c).then(d=>Ne(a,()=>nr(()=>l(d))),d=>Ne(a,()=>nr(()=>u(d))))})):typeof c=="function"&&i?function(){return setTimeout(i,0),c.apply(this,arguments)}:nr(()=>c):c instanceof M?c.pipe(Pn(o.outsideAngular),kn(o.insideAngular)):nr(()=>c)});var ir=class{constructor(t){return t}},aa=class{constructor(){return Mu()}};function nV(e){return e&&e.length===1?e[0]:new ir(tr())}var Yg=new E("angularfire2._apps"),iV={provide:ir,useFactory:nV,deps:[[new Hn,Yg]]},rV={provide:aa,deps:[[new Hn,Yg]]};function oV(e){return(t,n)=>{let i=n.get(vn);ge("angularfire",Io.full,"core"),ge("angularfire",Io.full,"app"),ge("angular",ww.full,i.toString());let r=t.runOutsideAngular(()=>e(n));return new ir(r)}}function K9(e,...t){return $n([iV,rV,{provide:Yg,useFactory:oV(e),multi:!0,deps:[H,ce,To,...t]}])}var Z9=ci(zg,!0);var sV=new Map,aV={activated:!1,tokenObservers:[]},cV={initialized:!1,enabled:!1};function Rt(e){return sV.get(e)||Object.assign({},aV)}function MC(){return cV}var lV="https://content-firebaseappcheck.googleapis.com/v1";var uV="exchangeDebugToken",IC={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},r7=24*60*60*1e3;var Qg=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return p(this,null,function*(){this.stop();try{this.pending=new Xt,this.pending.promise.catch(n=>{}),yield dV(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Xt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function dV(e){return new Promise(t=>{setTimeout(t,e)})}var hV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},li=new Mt("appCheck","AppCheck",hV);function NC(e){if(!Rt(e).activated)throw li.create("use-before-activation",{appName:e.name})}function AC(i,r){return p(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw li.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw li.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw li.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw li.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function RC(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${lV}/projects/${n}/apps/${i}:${uV}?key=${r}`,body:{debug_token:t}}}var fV="firebase-app-check-database",pV=1,Jg="firebase-app-check-store";var Ru=null;function gV(){return Ru||(Ru=new Promise((e,t)=>{try{let n=indexedDB.open(fV,pV);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(li.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Jg,{keyPath:"compositeKey"})}}}catch(n){t(li.create("storage-open",{originalErrorMessage:n?.message}))}}),Ru)}function mV(e,t){return _V(vV(e),t)}function _V(e,t){return p(this,null,function*(){let i=(yield gV()).transaction(Jg,"readwrite"),o=i.objectStore(Jg).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(li.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function vV(e){return`${e.options.appId}-${e.name}`}var ca=new rn("@firebase/app-check");function Kg(e,t){return Iu()?mV(e,t).catch(n=>{ca.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function OC(){return MC().enabled}function kC(){return p(this,null,function*(){let e=MC();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var yV={error:"UNKNOWN_ERROR"};function bV(e){return bo.encodeString(JSON.stringify(e),!1)}function Xg(e,t=!1,n=!1){return p(this,null,function*(){let i=e.app;NC(i);let r=Rt(i),o=r.token,s;if(o&&!la(o)&&(r.token=void 0,o=void 0),!o){let l=yield r.cachedTokenPromise;l&&(la(l)?o=l:yield Kg(i,void 0))}if(!t&&o&&la(o))return{token:o.token};let a=!1;if(OC())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=AC(RC(i,yield kC()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let l=yield r.exchangeTokenPromise;return yield Kg(i,l),r.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ca.warn(l.message):n&&ca.error(l),Zg(l)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=yield Rt(i).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ca.warn(l.message):n&&ca.error(l),s=l}let c;return o?s?la(o)?c={token:o.token,internalError:s}:c=Zg(s):(c={token:o.token},r.token=o,yield Kg(i,o)):c=Zg(s),a&&CV(i,c),c})}function wV(e){return p(this,null,function*(){let t=e.app;NC(t);let{provider:n}=Rt(t);if(OC()){let i=yield kC(),{token:r}=yield AC(RC(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function EV(e,t,n,i){let{app:r}=e,o=Rt(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&la(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),TC(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>TC(e))}function PC(e,t){let n=Rt(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function TC(e){let{app:t}=e,n=Rt(t),i=n.tokenRefresher;i||(i=DV(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function DV(e){let{app:t}=e;return new Qg(()=>p(this,null,function*(){let n=Rt(t),i;if(n.token?i=yield Xg(e,!0):i=yield Xg(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Rt(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},IC.RETRIAL_MIN_WAIT,IC.RETRIAL_MAX_WAIT)}function CV(e,t){let n=Rt(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function la(e){return e.expireTimeMillis-Date.now()>0}function Zg(e){return{token:bV(yV),error:e}}var em=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Rt(this.app);for(let n of t)PC(this.app,n.next);return Promise.resolve()}};function IV(e,t){return new em(e,t)}function TV(e){return{getToken:t=>Xg(e,t),getLimitedUseToken:()=>wV(e),addTokenListener:t=>EV(e,"INTERNAL",t),removeTokenListener:t=>PC(e.app,t)}}var SV="@firebase/app-check",MV="0.8.13";var NV="app-check",SC="app-check-internal";function AV(){At(new Be(NV,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return IV(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(SC).initialize()})),At(new Be(SC,e=>{let t=e.getProvider("app-check").getImmediate();return TV(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),ge(SV,MV)}AV();var RV="app-check";var Ou=class{constructor(){return Au(RV)}};var OV=["localhost","0.0.0.0","127.0.0.1"],_7=typeof window<"u"&&OV.includes(window.location.hostname);function ZC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var QC=ZC,JC=new Mt("auth","Firebase",ZC());var Vu=new rn("@firebase/auth");function kV(e,...t){Vu.logLevel<=X.WARN&&Vu.warn(`Auth (${ai}): ${e}`,...t)}function Pu(e,...t){Vu.logLevel<=X.ERROR&&Vu.error(`Auth (${ai}): ${e}`,...t)}function sn(e,...t){throw Im(e,...t)}function rr(e,...t){return Im(e,...t)}function XC(e,t,n){let i=Object.assign(Object.assign({},QC()),{[t]:n});return new Mt("auth","Firebase",i).create(t,{appName:e.name})}function Mn(e){return XC(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(e,...t){if(typeof e!="string"){let n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return JC.create(e,...t)}function S(e,t,...n){if(!e)throw Im(t,...n)}function Tn(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Pu(t),new Error(t)}function hi(e,t){e||Tn(t)}function rm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function PV(){return xC()==="http:"||xC()==="https:"}function xC(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function xV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PV()||eC()||"connection"in navigator)?navigator.onLine:!0}function FV(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var or=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,hi(n>t,"Short delay should be less than long delay!"),this.isMobile=ea()||Cu()}get(){return xV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Tm(e,t){hi(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var Bu=class{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var VV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BV=new or(3e4,6e4);function fi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function pi(o,s,a,c){return p(this,arguments,function*(e,t,n,i,r={}){return eI(e,r,()=>p(this,null,function*(){let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});let d=Xi(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return XD()||(h.referrerPolicy="no-referrer"),Bu.fetch()(yield tI(e,e.config.apiHost,n,d),h)}))})}function eI(e,t,n){return p(this,null,function*(){e._canInitEmulator=!1;let i=Object.assign(Object.assign({},LV),t);try{let r=new om(e),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ku(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw ku(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw ku(e,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw XC(e,u,l);sn(e,u)}}catch(r){if(r instanceof St)throw r;sn(e,"network-request-failed",{message:String(r)})}})}function va(o,s,a,c){return p(this,arguments,function*(e,t,n,i,r={}){let l=yield pi(e,t,n,i,r);return"mfaPendingCredential"in l&&sn(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function tI(e,t,n,i){return p(this,null,function*(){let r=`${t}${n}?${i}`,o=e,s=o.config.emulator?Tm(e.config,r):`${e.config.apiScheme}://${r}`;return VV.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function jV(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var om=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(rr(this.auth,"network-request-failed")),BV.get())})}};function ku(e,t,n){let i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=rr(e,t,i);return r.customData._tokenResponse=n,r}function FC(e){return e!==void 0&&e.enterprise!==void 0}var sm=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return jV(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function UV(e,t){return p(this,null,function*(){return pi(e,"GET","/v2/recaptchaConfig",fi(e,t))})}function HV(e,t){return p(this,null,function*(){return pi(e,"POST","/v1/accounts:delete",t)})}function ju(e,t){return p(this,null,function*(){return pi(e,"POST","/v1/accounts:lookup",t)})}function da(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Sm(e,t=!1){return p(this,null,function*(){let n=et(e),i=yield n.getIdToken(t),r=Mm(i);S(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:da(tm(r.auth_time)),issuedAtTime:da(tm(r.iat)),expirationTime:da(tm(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function tm(e){return Number(e)*1e3}function Mm(e){let[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{let r=vo(n);return r?JSON.parse(r):(Pu("Failed to decode base64 JWT payload"),null)}catch(r){return Pu("Caught error parsing JWT payload as JSON",r?.toString()),null}}function LC(e){let t=Mm(e);return S(t,"internal-error"),S(typeof t.exp<"u","internal-error"),S(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function fa(e,t,n=!1){return p(this,null,function*(){if(n)return t;try{return yield t}catch(i){throw i instanceof St&&$V(i)&&e.auth.currentUser===e&&(yield e.auth.signOut()),i}})}function $V({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var am=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var pa=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Uu(e){return p(this,null,function*(){var t;let n=e.auth,i=yield e.getIdToken(),r=yield fa(e,ju(n,{idToken:i}));S(r?.users.length,n,"internal-error");let o=r.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?nI(o.providerUserInfo):[],a=GV(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pa(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function Nm(e){return p(this,null,function*(){let t=et(e);yield Uu(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function GV(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function nI(e){return e.map(t=>{var{providerId:n}=t,i=Yd(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function WV(e,t){return p(this,null,function*(){let n=yield eI(e,{},()=>p(this,null,function*(){let i=Xi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=yield tI(e,r,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bu.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function zV(e,t){return p(this,null,function*(){return pi(e,"POST","/v2/accounts:revokeToken",fi(e,t))})}var ha=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){S(t.idToken,"internal-error"),S(typeof t.idToken<"u","internal-error"),S(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):LC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){S(t.length!==0,"internal-error");let n=LC(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(S(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return p(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield WV(t,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new e;return i&&(S(typeof i=="string","internal-error",{appName:t}),s.refreshToken=i),r&&(S(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(S(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Tn("not implemented")}};function ui(e,t){S(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var di=class e{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,o=Yd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new am(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return p(this,null,function*(){let n=yield fa(this,this.stsTokenManager.getToken(this.auth,t));return S(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return Sm(this,t)}reload(){return Nm(this)}_assign(t){this!==t&&(S(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return p(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield Uu(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(qe(this.auth.app))return Promise.reject(Mn(this.auth));let t=yield this.getIdToken();return yield fa(this,HV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,o,s,a,c,l,u;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Pe=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:nt,emailVerified:La,isAnonymous:X_,providerData:md,stsTokenManager:ev}=n;S(nt&&ev,t,"internal-error");let gS=ha.fromJSON(this.name,ev);S(typeof nt=="string",t,"internal-error"),ui(d,t.name),ui(f,t.name),S(typeof La=="boolean",t,"internal-error"),S(typeof X_=="boolean",t,"internal-error"),ui(h,t.name),ui(g,t.name),ui(y,t.name),ui(I,t.name),ui(L,t.name),ui(Pe,t.name);let _d=new e({uid:nt,auth:t,email:f,emailVerified:La,displayName:d,isAnonymous:X_,photoURL:g,phoneNumber:h,tenantId:y,stsTokenManager:gS,createdAt:L,lastLoginAt:Pe});return md&&Array.isArray(md)&&(_d.providerData=md.map(mS=>Object.assign({},mS))),I&&(_d._redirectEventId=I),_d}static _fromIdTokenResponse(t,n,i=!1){return p(this,null,function*(){let r=new ha;r.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Uu(o),o})}static _fromGetAccountInfoResponse(t,n,i){return p(this,null,function*(){let r=n.users[0];S(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?nI(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new ha;a.updateFromIdToken(i);let c=new e({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new pa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var VC=new Map;function Sn(e){hi(e instanceof Function,"Expected a class definition");let t=VC.get(e);return t?(hi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,VC.set(e,t),t)}var qV=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,i){return p(this,null,function*(){this.storage[n]=i})}_get(n){return p(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return e.type="NONE",e})(),cm=qV;function xu(e,t,n){return`firebase:${e}:${t}:${n}`}var Hu=class e{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=xu(this.userKey,r.apiKey,o),this.fullPersistenceKey=xu("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return p(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield ju(this.auth,{idToken:t}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,t):null}return di._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return p(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,i="authUser"){return p(this,null,function*(){if(!n.length)return new e(Sn(cm),t,i);let r=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Sn(cm),s=xu(i,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield ju(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield di._fromGetAccountInfoResponse(t,f,u)}else d=di._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,i))})}};function BC(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cI(t))return"Blackberry";if(lI(t))return"Webos";if(rI(t))return"Safari";if((t.includes("chrome/")||oI(t))&&!t.includes("edge/"))return"Chrome";if(aI(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function iI(e=Ae()){return/firefox\//i.test(e)}function rI(e=Ae()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oI(e=Ae()){return/crios\//i.test(e)}function sI(e=Ae()){return/iemobile/i.test(e)}function aI(e=Ae()){return/android/i.test(e)}function cI(e=Ae()){return/blackberry/i.test(e)}function lI(e=Ae()){return/webos/i.test(e)}function Am(e=Ae()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function YV(e=Ae()){var t;return Am(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function KV(){return tC()&&document.documentMode===10}function uI(e=Ae()){return Am(e)||aI(e)||lI(e)||cI(e)||/windows phone/i.test(e)||sI(e)}function dI(e,t=[]){let n;switch(e){case"Browser":n=BC(Ae());break;case"Worker":n=`${BC(Ae())}-${e}`;break;default:n=e}let i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ai}/${i}`}var lm=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let i=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return p(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let i of this.queue)yield i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function ZV(n){return p(this,arguments,function*(e,t={}){return pi(e,"GET","/v2/passwordPolicy",fi(e,t))})}var QV=6,um=class{constructor(t){var n,i,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:QV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var dm=class{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $u(this),this.idTokenSubscription=new $u(this),this.beforeStateQueue=new lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Sn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield Hu.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return p(this,null,function*(){try{let n=yield ju(this,{idToken:t}),i=yield di._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return p(this,null,function*(){var n;if(qe(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return p(this,null,function*(){try{yield Uu(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=FV()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return p(this,null,function*(){if(qe(this.app))return Promise.reject(Mn(this));let n=t?et(t):null;return n&&S(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return p(this,null,function*(){if(!this._deleted)return t&&S(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return qe(this.app)?Promise.reject(Mn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return qe(this.app)?Promise.reject(Mn(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Sn(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let t=yield ZV(this),n=new um(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Mt("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},n)}})}revokeAccessToken(t){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield zV(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return p(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Sn(t)||this._popupRedirectResolver;S(n,this,"argument-error"),this.redirectPersistenceManager=yield Hu.create(this,[Sn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return p(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return p(this,null,function*(){if(t===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,i,r);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return p(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return p(this,null,function*(){var t;if(qe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&kV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ar(e){return et(e)}var $u=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=sC(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Zu={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JV(e){Zu=e}function hI(e){return Zu.loadJS(e)}function XV(){return Zu.recaptchaEnterpriseScript}function e2(){return Zu.gapiScript}function fI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var hm=class{constructor(){this.enterprise=new fm}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}},fm=class{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}};var t2="recaptcha-enterprise",pI="NO_RECAPTCHA",pm=class{constructor(t){this.type=t2,this.auth=ar(t)}verify(t="verify",n=!1){return p(this,null,function*(){function i(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(this,null,function*(){UV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new sm(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(o,s,a){let c=window.grecaptcha;FC(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(l=>{s(l)}).catch(()=>{s(pI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hm().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{i(this.auth).then(a=>{if(!n&&FC(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=XV();c.length!==0&&(c+=a),hI(c).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function ua(e,t,n,i=!1,r=!1){return p(this,null,function*(){let o=new pm(e),s;if(r)s=pI;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function gm(e,t,n,i,r){return p(this,null,function*(){var o,s;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield ua(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(a=>p(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield ua(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield ua(e,t,n);return i(e,a).catch(c=>p(this,null,function*(){var l;if(((l=e._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield ua(e,t,n,!1,!0);return i(e,u)}return Promise.reject(c)}))}else{let a=yield ua(e,t,n,!1,!0);return i(e,a)}else return Promise.reject(r+" provider is not supported.")})}function Rm(e,t){let n=Do(e,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(nn(o,t??{}))return r;sn(r,"already-initialized")}return n.initialize({options:t})}function n2(e,t){let n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Sn);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function Om(e,t,n){let i=ar(e);S(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=gI(t),{host:s,port:a}=i2(t),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){S(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),S(nn(l,i.config.emulator)&&nn(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=l,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,r||r2()}function gI(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function i2(e){let t=gI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:jC(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:jC(s)}}}function jC(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function r2(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var ga=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Tn("not implemented")}_getIdTokenResponse(t){return Tn("not implemented")}_linkToIdToken(t,n){return Tn("not implemented")}_getReauthenticationResolver(t){return Tn("not implemented")}};function o2(e,t){return p(this,null,function*(){return pi(e,"POST","/v1/accounts:signUp",t)})}function s2(e,t){return p(this,null,function*(){return va(e,"POST","/v1/accounts:signInWithPassword",fi(e,t))})}function a2(e,t){return p(this,null,function*(){return va(e,"POST","/v1/accounts:signInWithEmailLink",fi(e,t))})}function c2(e,t){return p(this,null,function*(){return va(e,"POST","/v1/accounts:signInWithEmailLink",fi(e,t))})}var ma=class e extends ga{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new e(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(t,n,"signInWithPassword",s2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return a2(t,{email:this._email,oobCode:this._password});default:sn(t,"internal-error")}})}_linkToIdToken(t,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(t,i,"signUpPassword",o2,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return c2(t,{idToken:n,email:this._email,oobCode:this._password});default:sn(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function nm(e,t){return p(this,null,function*(){return va(e,"POST","/v1/accounts:signInWithIdp",fi(e,t))})}function l2(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u2(e){let t=wo(Eo(e)).link,n=t?wo(Eo(t)).deep_link_id:null,i=wo(Eo(e)).deep_link_id;return(i?wo(Eo(i)).link:null)||i||n||t||e}var Gu=class e{constructor(t){var n,i,r,o,s,a;let c=wo(Eo(t)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(i=c.oobCode)!==null&&i!==void 0?i:null,d=l2((r=c.mode)!==null&&r!==void 0?r:null);S(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let n=u2(t);try{return new e(n)}catch{return null}}};var mI=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,i){return ma._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Gu.parseLink(i);return S(r,"argument-error"),ma._fromEmailAndCode(n,r.code,r.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),Wu=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var mm=class extends Wu{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};function d2(e,t){return p(this,null,function*(){return va(e,"POST","/v1/accounts:signUp",fi(e,t))})}var So=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,i,r=!1){return p(this,null,function*(){let o=yield di._fromIdTokenResponse(t,i,r),s=UC(i);return new e({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(t,n,i){return p(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=UC(i);return new e({user:t,providerId:r,_tokenResponse:i,operationType:n})})}};function UC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var _m=class e extends St{constructor(t,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new e(t,n,i,r)}};function _I(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(e,o,t,i):o})}function h2(e,t,n=!1){return p(this,null,function*(){let i=yield fa(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return So._forOperation(e,"link",i)})}function f2(e,t,n=!1){return p(this,null,function*(){let{auth:i}=e;if(qe(i.app))return Promise.reject(Mn(i));let r="reauthenticate";try{let o=yield fa(e,_I(i,r,t,e),n);S(o.idToken,i,"internal-error");let s=Mm(o.idToken);S(s,i,"internal-error");let{sub:a}=s;return S(e.uid===a,i,"user-mismatch"),So._forOperation(e,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&sn(i,"user-mismatch"),o}})}function vI(e,t,n=!1){return p(this,null,function*(){if(qe(e.app))return Promise.reject(Mn(e));let i="signIn",r=yield _I(e,i,t),o=yield So._fromIdTokenResponse(e,i,r);return n||(yield e._updateCurrentUser(o.user)),o})}function km(e,t){return p(this,null,function*(){return vI(ar(e),t)})}function yI(e){return p(this,null,function*(){let t=ar(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Pm(e,t,n){return p(this,null,function*(){if(qe(e.app))return Promise.reject(Mn(e));let i=ar(e),s=yield gm(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d2,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&yI(e),c}),a=yield So._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function xm(e,t,n){return qe(e.app)?Promise.reject(Mn(e)):km(et(e),mI.credential(t,n)).catch(i=>p(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&yI(e),i}))}function Fm(e,t,n,i){return et(e).onIdTokenChanged(t,n,i)}function Lm(e,t,n){return et(e).beforeAuthStateChanged(t,n)}function Vm(e){return et(e).signOut()}var zu="__sak";var qu=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zu,"1"),this.storage.removeItem(zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var p2=1e3,g2=10,m2=(()=>{class e extends qu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uI(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=n.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);KV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,g2):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},p2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return p(this,null,function*(){yield _i(e.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return p(this,null,function*(){let i=yield _i(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return p(this,null,function*(){yield _i(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),bI=m2;var _2=(()=>{class e extends qu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return e.type="SESSION",e})(),Bm=_2;function v2(e){return Promise.all(e.map(t=>p(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var y2=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new e(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let i=n,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(i.origin,s)})),l=yield v2(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function wI(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}var vm=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,i=50){return p(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=wI("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function on(){return window}function b2(e){on().location.href=e}function EI(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}function w2(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function E2(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function D2(){return EI()?self:null}var DI="firebaseLocalStorageDb",C2=1,Yu="firebaseLocalStorage",CI="fbase_key",sr=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Qu(e,t){return e.transaction([Yu],t?"readwrite":"readonly").objectStore(Yu)}function I2(){let e=indexedDB.deleteDatabase(DI);return new sr(e).toPromise()}function ym(){let e=indexedDB.open(DI,C2);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let i=e.result;try{i.createObjectStore(Yu,{keyPath:CI})}catch(r){n(r)}}),e.addEventListener("success",()=>p(this,null,function*(){let i=e.result;i.objectStoreNames.contains(Yu)?t(i):(i.close(),yield I2(),t(yield ym()))}))})}function HC(e,t,n){return p(this,null,function*(){let i=Qu(e,!0).put({[CI]:t,value:n});return new sr(i).toPromise()})}function T2(e,t){return p(this,null,function*(){let n=Qu(e,!1).get(t),i=yield new sr(n).toPromise();return i===void 0?null:i.value})}function $C(e,t){let n=Qu(e,!0).delete(t);return new sr(n).toPromise()}var S2=800,M2=3,N2=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield ym(),this.db)})}_withRetries(n){return p(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>M2)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return EI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=y2._getInstance(D2()),this.receiver._subscribe("keyChanged",(n,i)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,i;if(this.activeServiceWorker=yield w2(),!this.activeServiceWorker)return;this.sender=new vm(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||E2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ym();return yield HC(n,zu,"1"),yield $C(n,zu),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>HC(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let i=yield this._withRetries(r=>T2(r,n));return this.localCache[n]=i,i})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>$C(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=Qu(o,!1).getAll();return new sr(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),II=N2;var I7=fI("rcb"),T7=new or(3e4,6e4);function A2(e,t){return t?Sn(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var _a=class extends ga{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nm(t,this._buildIdpRequest())}_linkToIdToken(t,n){return nm(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return nm(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function R2(e){return vI(e.auth,new _a(e),e.bypassAuthState)}function O2(e){let{auth:t,user:n}=e;return S(n,t,"internal-error"),f2(n,new _a(e),e.bypassAuthState)}function k2(e){return p(this,null,function*(){let{auth:t,user:n}=e;return S(n,t,"internal-error"),h2(n,new _a(e),e.bypassAuthState)})}var bm=class{constructor(t,n,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>p(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return p(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:sn(this.auth,"internal-error")}}resolve(t){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var S7=new or(2e3,1e4);var P2="pendingRedirect",Fu=new Map,wm=class e extends bm{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return p(this,null,function*(){let t=Fu.get(this.auth._key());if(!t){try{let i=(yield x2(this.resolver,this.auth))?yield _i(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Fu.set(this.auth._key(),t)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return p(this,null,function*(){if(t.type==="signInViaRedirect")return _i(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,_i(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function x2(e,t){return p(this,null,function*(){let n=V2(t),i=L2(e);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function F2(e,t){Fu.set(e._key(),t)}function L2(e){return Sn(e._redirectPersistence)}function V2(e){return xu(P2,e.config.apiKey,e.name)}function B2(e,t,n=!1){return p(this,null,function*(){if(qe(e.app))return Promise.reject(Mn(e));let i=ar(e),r=A2(i,t),s=yield new wm(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,t)),s})}var j2=10*60*1e3,Em=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!U2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!TI(t)){let r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(rr(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(GC(t))}saveEventToCache(t){this.cachedEventUids.add(GC(t)),this.lastProcessedEventTime=Date.now()}};function GC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function TI({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function U2(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TI(e);default:return!1}}function H2(n){return p(this,arguments,function*(e,t={}){return pi(e,"GET","/v1/projects",t)})}var $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G2=/^https?/;function W2(e){return p(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield H2(e);for(let n of t)try{if(z2(n))return}catch{}sn(e,"unauthorized-domain")})}function z2(e){let t=rm(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!G2.test(n))return!1;if($2.test(e))return i===e;let r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var q2=new or(3e4,6e4);function WC(){let e=on().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Y2(e){return new Promise((t,n)=>{var i,r,o;function s(){WC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{WC(),n(rr(e,"network-request-failed"))},timeout:q2.get()})}if(!((r=(i=on().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=on().gapi)===null||o===void 0)&&o.load)s();else{let a=fI("iframefcb");return on()[a]=()=>{gapi.load?s():n(rr(e,"network-request-failed"))},hI(`${e2()}?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw Lu=null,t})}var Lu=null;function K2(e){return Lu=Lu||Y2(e),Lu}var Z2=new or(5e3,15e3),Q2="__/auth/iframe",J2="emulator/auth/iframe",X2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tB(e){let t=e.config;S(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?Tm(t,J2):`https://${e.config.authDomain}/${Q2}`,i={apiKey:t.apiKey,appName:e.name,v:ai},r=eB.get(e.config.apiHost);r&&(i.eid=r);let o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Xi(i).slice(1)}`}function nB(e){return p(this,null,function*(){let t=yield K2(e),n=on().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:tB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X2,dontclear:!0},i=>new Promise((r,o)=>p(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=rr(e,"network-request-failed"),a=on().setTimeout(()=>{o(s)},Z2.get());function c(){on().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var iB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rB=500,oB=600,sB="_blank",aB="http://localhost",Ku=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cB(e,t,n,i=rB,r=oB){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},iB),{width:i.toString(),height:r.toString(),top:o,left:s}),l=Ae().toLowerCase();n&&(a=oI(l)?sB:n),iI(l)&&(t=t||aB,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(YV(l)&&a!=="_self")return lB(t||"",a),new Ku(null);let d=window.open(t||"",a,u);S(d,e,"popup-blocked");try{d.focus()}catch{}return new Ku(d)}function lB(e,t){let n=document.createElement("a");n.href=e,n.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var uB="__/auth/handler",dB="emulator/auth/handler",hB=encodeURIComponent("fac");function zC(e,t,n,i,r,o){return p(this,null,function*(){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:ai,eventId:r};if(t instanceof Wu){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",ta(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof mm){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield e._getAppCheckToken(),l=c?`#${hB}=${encodeURIComponent(c)}`:"";return`${fB(e)}?${Xi(a).slice(1)}${l}`})}function fB({config:e}){return e.emulator?Tm(e,dB):`https://${e.authDomain}/${uB}`}var im="webStorageSupport",Dm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bm,this._completeRedirectFn=B2,this._overrideRedirectResult=F2}_openPopup(t,n,i,r){return p(this,null,function*(){var o;hi((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield zC(t,n,i,rm(),r);return cB(t,s,wI())})}_openRedirect(t,n,i,r){return p(this,null,function*(){yield this._originValidation(t);let o=yield zC(t,n,i,rm(),r);return b2(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(hi(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(t){return p(this,null,function*(){let n=yield nB(t),i=new Em(t);return n.register("authEvent",r=>(S(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(im,{type:im},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[im];s!==void 0&&n(!!s),sn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return uI()||rI()||Am()}},SI=Dm;var qC="@firebase/auth",YC="1.10.0";var Cm=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pB(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gB(e){At(new Be("auth",(t,{options:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;S(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dI(e)},l=new dm(i,r,o,c);return n2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),At(new Be("auth-internal",t=>{let n=ar(t.getProvider("auth").getImmediate());return(i=>new Cm(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ge(qC,YC,pB(e)),ge(qC,YC,"esm2017")}var mB=5*60,_B=Og("authIdTokenMaxAge")||mB,KC=null,vB=e=>t=>p(void 0,null,function*(){let n=t&&(yield t.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>_B)return;let r=n?.token;KC!==r&&(KC=r,yield fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function jm(e=tr()){let t=Do(e,"auth");if(t.isInitialized())return t.getImmediate();let n=Rm(e,{popupRedirectResolver:SI,persistence:[II,bI,Bm]}),i=Og("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=vB(o.toString());Lm(n,s,()=>s(n.currentUser)),Fm(n,a=>s(a))}}let r=Ag("auth");return r&&Om(n,`http://${r}`),n}function yB(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}JV({loadJS(e){return new Promise((t,n)=>{let i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{let o=rr("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",yB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gB("Browser");var MI="auth",ya=class{constructor(t){return t}},Um=class{constructor(){return Au(MI)}};var Hm=new E("angularfire2.auth-instances");function cj(e,t){let n=qg(MI,e,t);return n&&new ya(n)}function lj(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new ya(i)}}var uj={provide:Um,deps:[[new Hn,Hm]]},dj={provide:ya,useFactory:cj,deps:[[new Hn,Hm],ir]};function fZ(e,...t){return ge("angularfire",Io.full,"auth"),$n([dj,uj,{provide:Hm,useFactory:lj(e),multi:!0,deps:[H,ce,To,aa,[new Hn,Ou],...t]}])}var pZ=ci(Pm,!0,2);var gZ=ci(jm,!0);var mZ=ci(xm,!0,2);var _Z=ci(Vm,!0,2);var NI="@firebase/database",AI="1.0.14";var j_="";function hj(e){j_=e}var Zm=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ce(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:yo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Qm=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return tn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var cT=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Zm(t)}}catch{}return new Qm},lr=cT("localStorage"),Jm=cT("sessionStorage");var Ro=new rn("@firebase/database"),fj=function(){let e=1;return function(){return e++}}(),lT=function(e){let t=cC(e),n=new Du;n.update(t);let i=n.digest();return bo.encodeByteArray(i)},Oa=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Oa.apply(null,i):typeof i=="object"?t+=Ce(i):t+=i,t+=" "}return t},ur=null,RI=!0,pj=function(e,t){v(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ro.logLevel=X.VERBOSE,ur=Ro.log.bind(Ro),t&&Jm.set("logging_enabled",!0)):typeof e=="function"?ur=e:(ur=null,Jm.remove("logging_enabled"))},Re=function(...e){if(RI===!0&&(RI=!1,ur===null&&Jm.get("logging_enabled")===!0&&pj(!0)),ur){let t=Oa.apply(null,e);ur(t)}},ka=function(e){return function(...t){Re(e,...t)}},Xm=function(...e){let t="FIREBASE INTERNAL ERROR: "+Oa(...e);Ro.error(t)},An=function(...e){let t=`FIREBASE FATAL ERROR: ${Oa(...e)}`;throw Ro.error(t),new Error(t)},tt=function(...e){let t="FIREBASE WARNING: "+Oa(...e);Ro.warn(t)},gj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uT=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},mj=function(e){if(en()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ko="[MIN_NAME]",dr="[MAX_NAME]",jo=function(e,t){if(e===t)return 0;if(e===ko||t===dr)return-1;if(t===ko||e===dr)return 1;{let n=OI(e),i=OI(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},_j=function(e,t){return e===t?0:e<t?-1:1},ba=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ce(t))},U_=function(e){if(typeof e!="object"||e===null)return Ce(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Ce(t[i]),n+=":",n+=U_(e[t[i]]);return n+="}",n},dT=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function pt(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var hT=function(e){v(!uT(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,c;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},vj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var bj=new RegExp("^-?(0*)\\d{1,10}$"),wj=-2147483648,Ej=2147483647,OI=function(e){if(bj.test(e)){let t=Number(e);if(t>=wj&&t<=Ej)return t}return null},Pa=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw tt("Exception was thrown by user callback.",n),t},Math.floor(0))}},Dj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var e_=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,qe(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var t_=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tt(t)}},Ta=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Xu="5",fT="v",pT="s",gT="r",mT="f",_T=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vT="ls",yT="p",n_="ac",bT="websocket",wT="long_polling";var ed=class{constructor(t,n,i,r,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&lr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function Cj(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ET(e,t,n){v(typeof t=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let i;if(t===bT)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===wT)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Cj(e)&&(n.ns=e.namespace);let r=[];return pt(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var i_=class{constructor(){this.counters_={}}incrementCounter(t,n=1){tn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return YD(this.counters_)}};var $m={},Gm={};function H_(e){let t=e.toString();return $m[t]||($m[t]=new i_),$m[t]}function Ij(e,t){let n=e.toString();return Gm[n]||(Gm[n]=t()),Gm[n]}var r_=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Pa(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var kI="start",Tj="close",Sj="pLPCommand",Mj="pRTLPCB",DT="id",CT="pw",IT="ser",Nj="cb",Aj="seg",Rj="ts",Oj="d",kj="dframe",TT=1870,ST=30,Pj=TT-ST,xj=25e3,Fj=3e4,o_=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ka(t),this.stats_=H_(n),this.urlFn=c=>(this.appCheckToken&&(c[n_]=this.appCheckToken),ET(n,wT,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new r_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Fj)),mj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new s_((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===kI)this.id=a,this.password=c;else if(s===Tj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[kI]="t",i[IT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Nj]=this.scriptTagHolder.uniqueCallbackIdentifier),i[fT]=Xu,this.transportSessionId&&(i[pT]=this.transportSessionId),this.lastSessionId&&(i[vT]=this.lastSessionId),this.applicationId&&(i[yT]=this.applicationId),this.appCheckToken&&(i[n_]=this.appCheckToken),typeof location<"u"&&location.hostname&&_T.test(location.hostname)&&(i[gT]=mT);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return en()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vj()&&!yj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Ce(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=Mg(n),r=dT(i,Pj);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(en())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[kj]="t",i[DT]=t,i[CT]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Ce(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},s_=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,en())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=fj(),window[Sj+this.uniqueCallbackIdentifier]=t,window[Mj+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Re("frame writing exception"),a.stack&&Re(a.stack),Re(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Re("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[DT]=this.myID,t[CT]=this.myPW,t[IT]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ST+i.length<=TT;){let s=this.pendingSegs.shift();i=i+"&"+Aj+r+"="+s.seg+"&"+Rj+r+"="+s.ts+"&"+Oj+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(xj)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){en()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Re("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var Lj=16384,Vj=45e3,td=null;typeof MozWebSocket<"u"?td=MozWebSocket:typeof WebSocket<"u"&&(td=WebSocket);var wa=(()=>{class e{constructor(n,i,r,o,s,a,c){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ka(this.connId),this.stats_=H_(i),this.connURL=e.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[fT]=Xu,!en()&&typeof location<"u"&&location.hostname&&_T.test(location.hostname)&&(a[gT]=mT),i&&(a[pT]=i),r&&(a[vT]=r),o&&(a[n_]=o),s&&(a[yT]=s),ET(n,bT,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lr.set("previous_websocket_failure",!0);try{let r;if(en()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Xu}/${j_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new td(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&td!==null&&!e.forceDisallow_}static previouslyFailed(){return lr.isInMemoryStorage||lr.get("previous_websocket_failure")===!0}markConnectionHealthy(){lr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=yo(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=Ce(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=dT(i,Lj);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Vj))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),Bj=(()=>{class e{static get ALL_TRANSPORTS(){return[o_,wa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let i=wa&&wa.isAvailable(),r=i&&!wa.previouslyFailed();if(n.webSocketOnly&&(i||tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wa];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),jj=6e4,Uj=5e3,Hj=10*1024,$j=100*1024,Wm="t",PI="d",Gj="s",xI="r",Wj="e",FI="o",LI="a",VI="n",BI="p",zj="h",a_=class{constructor(t,n,i,r,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ka("c:"+this.id+":"),this.transportManager_=new Bj(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$j?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Hj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Wm in t){let n=t[Wm];n===LI?this.upgradeIfSecondaryHealthy_():n===xI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===FI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=ba("t",t),i=ba("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:BI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:LI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:VI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=ba("t",t),i=ba("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=ba(Wm,t);if(PI in t){let i=t[PI];if(n===zj){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===VI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Gj?this.onConnectionShutdown_(i):n===xI?this.onReset_(i):n===Wj?Xm("Server Error: "+i):n===FI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xm("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Xu!==i&&tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jj))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Uj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:BI,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var nd=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var id=class{constructor(t){this.allowedEvents_=t,this.listeners_={},v(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){v(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var rd=class e extends id{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ea()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return v(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var jI=32,UI=768,ie=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function te(){return new ie("")}function G(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function mi(e){return e.pieces_.length-e.pieceNum_}function re(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ie(e.pieces_,t)}function MT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function qj(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function NT(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function AT(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ie(t,0)}function Ie(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ie)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ie(n,0)}function $(e){return e.pieceNum_>=e.pieces_.length}function ht(e,t){let n=G(e),i=G(t);if(n===null)return t;if(n===i)return ht(re(e),re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function RT(e,t){if(mi(e)!==mi(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function kt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(mi(e)>mi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var c_=class{constructor(t,n){this.errorPrefix_=n,this.parts_=NT(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ia(this.parts_[i]);OT(this)}};function Yj(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ia(t),OT(e)}function Kj(e){let t=e.parts_.pop();e.byteLength_-=ia(t),e.parts_.length>0&&(e.byteLength_-=1)}function OT(e){if(e.byteLength_>UI)throw new Error(e.errorPrefix_+"has a key path longer than "+UI+" bytes ("+e.byteLength_+").");if(e.parts_.length>jI)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jI+") or object contains a cycle "+cr(e))}function cr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var l_=class e extends id{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return v(t==="visible","Unknown event type: "+t),[this.visible_]}};var Ea=1e3,Zj=60*5*1e3,HI=30*1e3,Qj=1.3,Jj=3e4,Xj="server_kill",$I=3,$_=(()=>{class e extends nd{constructor(n,i,r,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=ka("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ea,this.maxReconnectDelay_=Zj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!en())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");l_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&rd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(Ce(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Xt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&tn(n,"w")){let r=Ji(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||oC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=HI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=rC(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ce(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Xm("Unrecognized action received from server: "+Ce(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Jj&&(this.reconnectDelay_=Ea),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Qj)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,r())},u=function(f){v(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new a_(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,g=>{tt(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Xj)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&tt(f),l())}}})}interrupt(n){Re("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Re("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ta(this.interruptReasons_)&&(this.reconnectDelay_=Ea,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>U_(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new ie(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Re("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$I&&(this.reconnectDelay_=HI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Re("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$I&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";en()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+j_.replace(/\./g,"-")]=1,ea()?n["framework.cordova"]=1:Cu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=rd.getInstance().currentlyOnline();return ta(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),W=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Po=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new W(ko,t),r=new W(ko,n);return this.compare(i,r)!==0}minPost(){return W.MIN}};var Ju,od=class extends Po{static get __EMPTY_NODE(){return Ju}static set __EMPTY_NODE(t){Ju=t}compare(t,n){return jo(t.name,n.name)}isDefinedOn(t){throw Qi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return W.MIN}maxPost(){return new W(dr,Ju)}makePost(t,n){return v(typeof t=="string","KeyIndex indexValue must always be a string."),new W(t,Ju)}toString(){return".key"}},Oo=new od;var No=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Ot=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??ft.EMPTY_NODE,this.right=s??ft.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ft.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return ft.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),u_=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new Ot(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ft=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ot.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new No(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new No(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new No(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new No(this.root_,null,this.comparator_,!0,t)}};ft.EMPTY_NODE=new u_;function eU(e,t){return jo(e.name,t.name)}function G_(e,t){return jo(e,t)}var d_;function tU(e){d_=e}var kT=function(e){return typeof e=="number"?"number:"+hT(e):"string:"+e},PT=function(e){if(e.isLeafNode()){let t=e.val();v(typeof t=="string"||typeof t=="number"||typeof t=="object"&&tn(t,".sv"),"Priority must be a string or number.")}else v(e===d_||e.isEmpty(),"priority of unexpected type.");v(e===d_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var GI,xo=(()=>{class e{static set __childrenNodeConstructor(n){GI=n}static get __childrenNodeConstructor(){return GI}constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return $(n)?this:G(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=G(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||mi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+kT(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=hT(this.value_):n+=this.value_,this.lazyHash_=lT(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),xT,FT;function nU(e){xT=e}function iU(e){FT=e}var h_=class extends Po{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?jo(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(dr,new xo("[PRIORITY-POST]",FT))}makePost(t,n){let i=xT(t);return new W(n,new xo("[PRIORITY-POST]",i))}toString(){return".priority"}},ke=new h_;var rU=Math.log(2),f_=class{constructor(t){let n=o=>parseInt(Math.log(o)/rU,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},sd=function(e,t,n,i){e.sort(t);let r=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new Ot(f,d.node,Ot.BLACK,null,null);{let h=parseInt(u/2,10)+c,g=r(c,h),y=r(h+1,l);return d=e[h],f=n?n(d):d,new Ot(f,d.node,Ot.BLACK,g,y)}},o=function(c){let l=null,u=null,d=e.length,f=function(g,y){let I=d-g,L=d;d-=g;let Pe=r(I+1,L),nt=e[I],La=n?n(nt):nt;h(new Ot(La,nt.node,y,null,Pe))},h=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let y=c.nextBitIsOne(),I=Math.pow(2,c.count-(g+1));y?f(I,Ot.BLACK):(f(I,Ot.BLACK),f(I,Ot.RED))}return u},s=new f_(e.length),a=o(s);return new ft(i||t,a)};var zm,Mo={},Fo=class e{static get Default(){return v(Mo&&ke,"ChildrenNode.ts has not been loaded"),zm=zm||new e({".priority":Mo},{".priority":ke}),zm}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Ji(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ft?n:null}hasIndex(t){return tn(this.indexSet_,t.toString())}addIndex(t,n){v(t!==Oo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(W.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=sd(i,t.getCompare()):a=Mo;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let i=na(this.indexes_,(r,o)=>{let s=Ji(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===Mo)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(W.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),sd(a,s.getCompare())}else return Mo;else{let a=n.get(t.name),c=r;return a&&(c=c.remove(new W(t.name,a))),c.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=na(this.indexes_,r=>{if(r===Mo)return r;{let o=n.get(t.name);return o?r.remove(new W(t.name,o)):r}});return new e(i,this.indexSet_)}};var Da,le=(()=>{class e{static get EMPTY_NODE(){return Da||(Da=new e(new ft(G_),null,Fo.Default))}constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PT(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Da}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Da:i}}getChild(n){let i=G(n);return i===null?this:this.getImmediateChild(i).getChild(re(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(v(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new W(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Da:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=G(n);if(r===null)return i;{v(G(n)!==".priority"||mi(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(re(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(ke,(a,c)=>{i[a]=c.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let c in i)a[c]=i[c];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+kT(this.getPriority().val())+":"),this.forEachChild(ke,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":lT(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new W(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new W(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new W(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===xa?-1:0}withIndex(n){if(n===Oo||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Oo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(ke),o=i.getIterator(ke),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Oo?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),p_=class extends le{constructor(){super(new ft(G_),le.EMPTY_NODE,Fo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return le.EMPTY_NODE}isEmpty(){return!1}},xa=new p_;Object.defineProperties(W,{MIN:{value:new W(ko,le.EMPTY_NODE)},MAX:{value:new W(dr,xa)}});od.__EMPTY_NODE=le.EMPTY_NODE;xo.__childrenNodeConstructor=le;tU(xa);iU(xa);var oU=!0;function Oe(e,t=null){if(e===null)return le.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),v(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new xo(n,Oe(t))}if(!(e instanceof Array)&&oU){let n=[],i=!1;if(pt(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=Oe(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),n.push(new W(s,c)))}}),n.length===0)return le.EMPTY_NODE;let o=sd(n,eU,s=>s.name,G_);if(i){let s=sd(n,ke.getCompare());return new le(o,Oe(t),new Fo({".priority":s},{".priority":ke}))}else return new le(o,Oe(t),Fo.Default)}else{let n=le.EMPTY_NODE;return pt(e,(i,r)=>{if(tn(e,i)&&i.substring(0,1)!=="."){let o=Oe(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Oe(t))}}nU(Oe);var g_=class extends Po{constructor(t){super(),this.indexPath_=t,v(!$(t)&&G(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?jo(t.name,n.name):o}makePost(t,n){let i=Oe(t),r=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new W(n,r)}maxPost(){let t=le.EMPTY_NODE.updateChild(this.indexPath_,xa);return new W(dr,t)}toString(){return NT(this.indexPath_,0).join("/")}};var m_=class extends Po{compare(t,n){let i=t.node.compareTo(n.node);return i===0?jo(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(t,n){let i=Oe(t);return new W(n,i)}toString(){return".value"}},sU=new m_;function aU(e){return{type:"value",snapshotNode:e}}function cU(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function lU(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function WI(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function uU(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var __=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ko}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function zI(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ke?n="$priority":e.index_===sU?n="$value":e.index_===Oo?n="$key":(v(e.index_ instanceof g_,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ce(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=Ce(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+Ce(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=Ce(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+Ce(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function qI(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ke&&(t.i=e.index_.toString()),t}var v_=class e extends nd{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(v(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ka("p:rest:"),this.listens_={}}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let c=zI(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,i),Ji(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",r(f,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=zI(t._queryParams),i=t._path.toString(),r=new Xt;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Xi(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=yo(a.responseText)}catch{tt("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&tt("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var y_=class{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function ad(){return{value:null,children:new Map}}function LT(e,t,n){if($(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=G(t);e.children.has(i)||e.children.set(i,ad());let r=e.children.get(i);t=re(t),LT(r,t,n)}}function b_(e,t,n){e.value!==null?n(t,e.value):dU(e,(i,r)=>{let o=new ie(t.toString()+"/"+i);b_(r,o,n)})}function dU(e,t){e.children.forEach((n,i)=>{t(i,n)})}var w_=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&pt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var YI=10*1e3,hU=30*1e3,fU=5*60*1e3,E_=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new w_(t);let i=YI+(hU-YI)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;pt(t,(r,o)=>{o>0&&tn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*fU))}};var Nn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Nn||{});function VT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function BT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var D_=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Nn.ACK_USER_WRITE,this.source=VT()}operationForChild(t){if($(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(t));return new e(te(),n,this.revert)}}else return v(G(this.path)===t,"operationForChild called for unrelated child."),new e(re(this.path),this.affectedTree,this.revert)}};var Lo=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Nn.OVERWRITE}operationForChild(t){return $(this.path)?new e(this.source,te(),this.snap.getImmediateChild(t)):new e(this.source,re(this.path),this.snap)}};var cd=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Nn.MERGE}operationForChild(t){if($(this.path)){let n=this.children.subtree(new ie(t));return n.isEmpty()?null:n.value?new Lo(this.source,te(),n.value):new e(this.source,te(),n)}else return v(G(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Na=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if($(t))return this.isFullyInitialized()&&!this.filtered_;let n=G(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};function pU(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(uU(s.childName,s.snapshotNode))}),Ca(e,r,"child_removed",t,i,n),Ca(e,r,"child_added",t,i,n),Ca(e,r,"child_moved",o,i,n),Ca(e,r,"child_changed",t,i,n),Ca(e,r,"value",t,i,n),r}function Ca(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,c)=>mU(e,a,c)),s.forEach(a=>{let c=gU(e,a,o);r.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function gU(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function mU(e,t,n){if(t.childName==null||n.childName==null)throw Qi("Should only compare child_ events.");let i=new W(t.childName,t.snapshotNode),r=new W(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function UT(e,t){return{eventCache:e,serverCache:t}}function Sa(e,t,n,i){return UT(new Na(t,n,i),e.serverCache)}function HT(e,t,n,i){return UT(e.eventCache,new Na(t,n,i))}function C_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function hr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var qm,_U=()=>(qm||(qm=new ft(_j)),qm),Ye=class e{static fromObject(t){let n=new e(null);return pt(t,(i,r)=>{n=n.set(new ie(i),r)}),n}constructor(t,n=_U()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:te(),value:this.value};if($(t))return null;{let i=G(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(re(t),n);return o!=null?{path:Ie(new ie(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if($(t))return this;{let n=G(t),i=this.children.get(n);return i!==null?i.subtree(re(t)):new e(null)}}set(t,n){if($(t))return new e(n,this.children);{let i=G(t),o=(this.children.get(i)||new e(null)).set(re(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if($(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=G(t),i=this.children.get(n);if(i){let r=i.remove(re(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if($(t))return this.value;{let n=G(t),i=this.children.get(n);return i?i.get(re(t)):null}}setTree(t,n){if($(t))return n;{let i=G(t),o=(this.children.get(i)||new e(null)).setTree(re(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(te(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ie(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,te(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if($(t))return null;{let o=G(t),s=this.children.get(o);return s?s.findOnPath_(re(t),Ie(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,te(),n)}foreachOnPath_(t,n,i){if($(t))return this;{this.value&&i(n,this.value);let r=G(t),o=this.children.get(r);return o?o.foreachOnPath_(re(t),Ie(n,r),i):new e(null)}}foreach(t){this.foreach_(te(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ie(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var Pt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ye(null))}};function Ma(e,t,n){if($(t))return new Pt(new Ye(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=ht(r,t);return o=o.updateChild(s,n),new Pt(e.writeTree_.set(r,o))}else{let r=new Ye(n),o=e.writeTree_.setTree(t,r);return new Pt(o)}}}function KI(e,t,n){let i=e;return pt(n,(r,o)=>{i=Ma(i,Ie(t,r),o)}),i}function ZI(e,t){if($(t))return Pt.empty();{let n=e.writeTree_.setTree(t,new Ye(null));return new Pt(n)}}function I_(e,t){return fr(e,t)!=null}function fr(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ht(n.path,t)):null}function QI(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(i,r)=>{t.push(new W(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new W(i,r.value))}),t}function gi(e,t){if($(t))return e;{let n=fr(e,t);return n!=null?new Pt(new Ye(n)):new Pt(e.writeTree_.subtree(t))}}function T_(e){return e.writeTree_.isEmpty()}function Vo(e,t){return $T(te(),e.writeTree_,t)}function $T(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=$T(Ie(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(Ie(e,".priority"),i)),n}}function GT(e,t){return KT(t,e)}function vU(e,t,n,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Ma(e.visibleWrites,t,n)),e.lastWriteId=i}function yU(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function bU(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);v(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&wU(a,i.path)?r=!1:kt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return EU(e),!0;if(i.snap)e.visibleWrites=ZI(e.visibleWrites,i.path);else{let a=i.children;pt(a,c=>{e.visibleWrites=ZI(e.visibleWrites,Ie(i.path,c))})}return!0}else return!1}function wU(e,t){if(e.snap)return kt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&kt(Ie(e.path,n),t))return!0;return!1}function EU(e){e.visibleWrites=WT(e.allWrites,DU,te()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function DU(e){return e.visible}function WT(e,t,n){let i=Pt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)kt(n,s)?(a=ht(n,s),i=Ma(i,a,o.snap)):kt(s,n)&&(a=ht(s,n),i=Ma(i,te(),o.snap.getChild(a)));else if(o.children){if(kt(n,s))a=ht(n,s),i=KI(i,a,o.children);else if(kt(s,n))if(a=ht(s,n),$(a))i=KI(i,te(),o.children);else{let c=Ji(o.children,G(a));if(c){let l=c.getChild(re(a));i=Ma(i,te(),l)}}}else throw Qi("WriteRecord should have .snap or .children")}}return i}function zT(e,t,n,i,r){if(!i&&!r){let o=fr(e.visibleWrites,t);if(o!=null)return o;{let s=gi(e.visibleWrites,t);if(T_(s))return n;if(n==null&&!I_(s,te()))return null;{let a=n||le.EMPTY_NODE;return Vo(s,a)}}}else{let o=gi(e.visibleWrites,t);if(!r&&T_(o))return n;if(!r&&n==null&&!I_(o,te()))return null;{let s=function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(kt(l.path,t)||kt(t,l.path))},a=WT(e.allWrites,s,t),c=n||le.EMPTY_NODE;return Vo(a,c)}}}function CU(e,t,n){let i=le.EMPTY_NODE,r=fr(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ke,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=gi(e.visibleWrites,t);return n.forEachChild(ke,(s,a)=>{let c=Vo(gi(o,new ie(s)),a);i=i.updateImmediateChild(s,c)}),QI(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=gi(e.visibleWrites,t);return QI(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function IU(e,t,n,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=Ie(t,n);if(I_(e.visibleWrites,o))return null;{let s=gi(e.visibleWrites,o);return T_(s)?r.getChild(n):Vo(s,r.getChild(n))}}function TU(e,t,n,i){let r=Ie(t,n),o=fr(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=gi(e.visibleWrites,r);return Vo(s,i.getNode().getImmediateChild(n))}else return null}function SU(e,t){return fr(e.visibleWrites,t)}function MU(e,t,n,i,r,o,s){let a,c=gi(e.visibleWrites,t),l=fr(c,te());if(l!=null)a=l;else if(n!=null)a=Vo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),h=f.getNext();for(;h&&u.length<r;)d(h,i)!==0&&u.push(h),h=f.getNext();return u}else return[]}function NU(){return{visibleWrites:Pt.empty(),allWrites:[],lastWriteId:-1}}function S_(e,t,n,i){return zT(e.writeTree,e.treePath,t,n,i)}function qT(e,t){return CU(e.writeTree,e.treePath,t)}function JI(e,t,n,i){return IU(e.writeTree,e.treePath,t,n,i)}function ld(e,t){return SU(e.writeTree,Ie(e.treePath,t))}function AU(e,t,n,i,r,o){return MU(e.writeTree,e.treePath,t,n,i,r,o)}function W_(e,t,n){return TU(e.writeTree,e.treePath,t,n)}function YT(e,t){return KT(Ie(e.treePath,t),e.writeTree)}function KT(e,t){return{treePath:e,writeTree:t}}var M_=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,WI(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,lU(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,cU(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,WI(i,t.snapshotNode,r.oldSnap));else throw Qi("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var N_=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},ZT=new N_,Aa=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new Na(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W_(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hr(this.viewCache_),o=AU(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function RU(e,t){v(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function OU(e,t,n,i,r){let o=new M_,s,a;if(n.type===Nn.OVERWRITE){let l=n;l.source.fromUser?s=A_(e,t,l.path,l.snap,i,r,o):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!$(l.path),s=ud(e,t,l.path,l.snap,i,r,a,o))}else if(n.type===Nn.MERGE){let l=n;l.source.fromUser?s=PU(e,t,l.path,l.children,i,r,o):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=R_(e,t,l.path,l.children,i,r,a,o))}else if(n.type===Nn.ACK_USER_WRITE){let l=n;l.revert?s=LU(e,t,l.path,i,r,o):s=xU(e,t,l.path,l.affectedTree,i,r,o)}else if(n.type===Nn.LISTEN_COMPLETE)s=FU(e,t,n.path,i,o);else throw Qi("Unknown operation type: "+n.type);let c=o.getChanges();return kU(t,s,c),{viewCache:s,changes:c}}function kU(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=C_(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(aU(C_(t)))}}function QT(e,t,n,i,r,o){let s=t.eventCache;if(ld(i,n)!=null)return t;{let a,c;if($(n))if(v(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=hr(t),u=l instanceof le?l:le.EMPTY_NODE,d=qT(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=S_(i,hr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=G(n);if(l===".priority"){v(mi(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=JI(i,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=re(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=JI(i,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=W_(i,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,r,o):a=s.getNode()}}return Sa(t,a,s.isFullyInitialized()||$(n),e.filter.filtersNodes())}}function ud(e,t,n,i,r,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if($(n))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,i);l=u.updateFullNode(c.getNode(),h,null)}else{let h=G(n);if(!c.isCompleteForPath(n)&&mi(n)>1)return t;let g=re(n),I=c.getNode().getImmediateChild(h).updateChild(g,i);h===".priority"?l=u.updatePriority(c.getNode(),I):l=u.updateChild(c.getNode(),h,I,g,ZT,null)}let d=HT(t,l,c.isFullyInitialized()||$(n),u.filtersNodes()),f=new Aa(r,d,o);return QT(e,d,n,r,f,a)}function A_(e,t,n,i,r,o,s){let a=t.eventCache,c,l,u=new Aa(r,t,o);if($(n))l=e.filter.updateFullNode(t.eventCache.getNode(),i,s),c=Sa(t,l,!0,e.filter.filtersNodes());else{let d=G(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),i),c=Sa(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=re(n),h=a.getNode().getImmediateChild(d),g;if($(f))g=i;else{let y=u.getCompleteChild(d);y!=null?MT(f)===".priority"&&y.getChild(AT(f)).isEmpty()?g=y:g=y.updateChild(f,i):g=le.EMPTY_NODE}if(h.equals(g))c=t;else{let y=e.filter.updateChild(a.getNode(),d,g,f,u,s);c=Sa(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function XI(e,t){return e.eventCache.isCompleteForChild(t)}function PU(e,t,n,i,r,o,s){let a=t;return i.foreach((c,l)=>{let u=Ie(n,c);XI(t,G(u))&&(a=A_(e,a,u,l,r,o,s))}),i.foreach((c,l)=>{let u=Ie(n,c);XI(t,G(u))||(a=A_(e,a,u,l,r,o,s))}),a}function eT(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function R_(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;$(n)?l=i:l=new Ye(null).setTree(n,i);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),g=eT(e,h,f);c=ud(e,c,new ie(d),g,r,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=t.serverCache.getNode().getImmediateChild(d),y=eT(e,g,f);c=ud(e,c,new ie(d),y,r,o,s,a)}}),c}function xU(e,t,n,i,r,o,s){if(ld(r,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(i.value!=null){if($(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ud(e,t,n,c.getNode().getChild(n),r,o,a,s);if($(n)){let l=new Ye(null);return c.getNode().forEachChild(Oo,(u,d)=>{l=l.set(new ie(u),d)}),R_(e,t,n,l,r,o,a,s)}else return t}else{let l=new Ye(null);return i.foreach((u,d)=>{let f=Ie(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),R_(e,t,n,l,r,o,a,s)}}function FU(e,t,n,i,r){let o=t.serverCache,s=HT(t,o.getNode(),o.isFullyInitialized()||$(n),o.isFiltered());return QT(e,s,n,i,ZT,r)}function LU(e,t,n,i,r,o){let s;if(ld(i,n)!=null)return t;{let a=new Aa(i,t,r),c=t.eventCache.getNode(),l;if($(n)||G(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=S_(i,hr(t));else{let d=t.serverCache.getNode();v(d instanceof le,"serverChildren would be complete if leaf node"),u=qT(i,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=G(n),d=W_(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,re(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,le.EMPTY_NODE,re(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=S_(i,hr(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||ld(i,te())!=null,Sa(t,l,s,e.filter.filtersNodes())}}function VU(e,t){let n=hr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!$(t)&&!n.getImmediateChild(G(t)).isEmpty())?n.getChild(t):null}function tT(e,t,n,i){t.type===Nn.MERGE&&t.source.queryId!==null&&(v(hr(e.viewCache_),"We should always have a full cache before handling merges"),v(C_(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=OU(e.processor_,r,t,n,i);return RU(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,BU(e,o.changes,o.viewCache.eventCache.getNode(),null)}function BU(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return pU(e.eventGenerator_,t,n,r)}var nT;function jU(e){v(!nT,"__referenceConstructor has already been defined"),nT=e}function z_(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),tT(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(tT(s,t,n,i));return o}}function q_(e,t){let n=null;for(let i of e.views.values())n=n||VU(i,t);return n}var iT;function UU(e){v(!iT,"__referenceConstructor has already been defined"),iT=e}var dd=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ye(null),this.pendingWriteTree_=NU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function HU(e,t,n,i,r){return vU(e.pendingWriteTree_,t,n,i,r),r?fd(e,new Lo(VT(),t,n)):[]}function Ao(e,t,n=!1){let i=yU(e.pendingWriteTree_,t);if(bU(e.pendingWriteTree_,t)){let o=new Ye(null);return i.snap!=null?o=o.set(te(),!0):pt(i.children,s=>{o=o.set(new ie(s),!0)}),fd(e,new D_(i.path,o,n))}else return[]}function hd(e,t,n){return fd(e,new Lo(BT(),t,n))}function $U(e,t,n){let i=Ye.fromObject(n);return fd(e,new cd(BT(),t,i))}function GU(e,t,n,i){let r=tS(e,i);if(r!=null){let o=nS(r),s=o.path,a=o.queryId,c=ht(s,t),l=new Lo(jT(a),c,n);return iS(e,s,l)}else return[]}function WU(e,t,n,i){let r=tS(e,i);if(r){let o=nS(r),s=o.path,a=o.queryId,c=ht(s,t),l=Ye.fromObject(n),u=new cd(jT(a),c,l);return iS(e,s,u)}else return[]}function JT(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=ht(s,t),l=q_(a,c);if(l)return l});return zT(r,t,o,n,!0)}function fd(e,t){return XT(t,e.syncPointTree_,null,GT(e.pendingWriteTree_,te()))}function XT(e,t,n,i){if($(e.path))return eS(e,t,n,i);{let r=t.get(te());n==null&&r!=null&&(n=q_(r,te()));let o=[],s=G(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=YT(i,s);o=o.concat(XT(a,c,l,u))}return r&&(o=o.concat(z_(r,e,i,n))),o}}function eS(e,t,n,i){let r=t.get(te());n==null&&r!=null&&(n=q_(r,te()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=YT(i,s),u=e.operationForChild(s);u&&(o=o.concat(eS(u,a,c,l)))}),r&&(o=o.concat(z_(r,e,i,n))),o}function tS(e,t){return e.tagToQueryMap.get(t)}function nS(e){let t=e.indexOf("$");return v(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ie(e.substr(0,t))}}function iS(e,t,n){let i=e.syncPointTree_.get(t);v(i,"Missing sync point for query tag that we're tracking");let r=GT(e.pendingWriteTree_,t);return z_(i,n,r,null)}var O_=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},k_=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=Ie(this.path_,t);return new e(this.syncTree_,n)}node(){return JT(this.syncTree_,this.path_)}},zU=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},rT=function(e,t,n){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return qU(e[".sv"],t,n);if(typeof e[".sv"]=="object")return YU(e[".sv"],t);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},qU=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+e)}},YU=function(e,t,n){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=t.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},KU=function(e,t,n,i){return Y_(t,new k_(n,e),i)},ZU=function(e,t,n){return Y_(e,new O_(t),n)};function Y_(e,t,n){let i=e.getPriority().val(),r=rT(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=rT(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new xo(a,Oe(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new xo(r))),s.forEachChild(ke,(a,c)=>{let l=Y_(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ra=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function K_(e,t){let n=t instanceof ie?t:new ie(t),i=e,r=G(n);for(;r!==null;){let o=Ji(i.node.children,r)||{children:{},childCount:0};i=new Ra(r,i,o),n=re(n),r=G(n)}return i}function Uo(e){return e.node.value}function rS(e,t){e.node.value=t,P_(e)}function oS(e){return e.node.childCount>0}function QU(e){return Uo(e)===void 0&&!oS(e)}function pd(e,t){pt(e.node.children,(n,i)=>{t(new Ra(n,e,i))})}function sS(e,t,n,i){n&&!i&&t(e),pd(e,r=>{sS(r,t,!0,i)}),n&&i&&t(e)}function JU(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Fa(e){return new ie(e.parent===null?e.name:Fa(e.parent)+"/"+e.name)}function P_(e){e.parent!==null&&XU(e.parent,e.name,e)}function XU(e,t,n){let i=QU(n),r=tn(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,P_(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,P_(e))}var eH=/[\[\].#$\/\u0000-\u001F\u007F]/,tH=/[\[\].#$\u0000-\u001F\u007F]/,Ym=10*1024*1024,aS=function(e){return typeof e=="string"&&e.length!==0&&!eH.test(e)},nH=function(e){return typeof e=="string"&&e.length!==0&&!tH.test(e)},iH=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nH(e)};var cS=function(e,t,n){let i=n instanceof ie?new c_(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+cr(i));if(typeof t=="function")throw new Error(e+"contains a function "+cr(i)+" with contents = "+t.toString());if(uT(t))throw new Error(e+"contains "+t.toString()+" "+cr(i));if(typeof t=="string"&&t.length>Ym/3&&ia(t)>Ym)throw new Error(e+"contains a string greater than "+Ym+" utf8 bytes "+cr(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(pt(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!aS(s)))throw new Error(e+" contains an invalid key ("+s+") "+cr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Yj(i,s),cS(e,a,i),Kj(i)}),r&&o)throw new Error(e+' contains ".value" child '+cr(i)+" in addition to actual children.")}};var rH=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!aS(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iH(n))throw new Error(aC(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var x_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function oH(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!RT(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function pr(e,t,n){oH(e,n),sH(e,i=>kt(i,t)||kt(t,i))}function sH(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(aH(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function aH(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();ur&&Re("event: "+n.toString()),Pa(i)}}}var cH="repo_interrupt",lH=25,F_=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new x_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ad(),this.transactionQueueTree_=new Ra,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function uH(e,t,n){if(e.stats_=H_(e.repoInfo_),e.forceRestClient_||Dj())e.server_=new v_(e.repoInfo_,(i,r,o,s)=>{oT(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sT(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ce(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new $_(e.repoInfo_,t,(i,r,o,s)=>{oT(e,i,r,o,s)},i=>{sT(e,i)},i=>{hH(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=Ij(e.repoInfo_,()=>new E_(e.stats_,e.server_)),e.infoData_=new y_,e.infoSyncTree_=new dd({startListening:(i,r,o,s)=>{let a=[],c=e.infoData_.getNode(i._path);return c.isEmpty()||(a=hd(e.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Z_(e,"connected",!1),e.serverSyncTree_=new dd({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,c)=>{let l=s(a,c);pr(e.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function dH(e){let n=e.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function lS(e){return zU({timestamp:dH(e)})}function oT(e,t,n,i,r){e.dataUpdateCount++;let o=new ie(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let c=na(n,l=>Oe(l));s=WU(e.serverSyncTree_,o,c,r)}else{let c=Oe(n);s=GU(e.serverSyncTree_,o,c,r)}else if(i){let c=na(n,l=>Oe(l));s=$U(e.serverSyncTree_,o,c)}else{let c=Oe(n);s=hd(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=J_(e,o)),pr(e.eventQueue_,a,s)}function sT(e,t){Z_(e,"connected",t),t===!1&&pH(e)}function hH(e,t){pt(t,(n,i)=>{Z_(e,n,i)})}function Z_(e,t,n){let i=new ie("/.info/"+t),r=Oe(n);e.infoData_.updateSnapshot(i,r);let o=hd(e.infoSyncTree_,i,r);pr(e.eventQueue_,i,o)}function fH(e){return e.nextWriteId_++}function pH(e){uS(e,"onDisconnectEvents");let t=lS(e),n=ad();b_(e.onDisconnect_,te(),(r,o)=>{let s=KU(r,o,e.serverSyncTree_,t);LT(n,r,s)});let i=[];b_(n,te(),(r,o)=>{i=i.concat(hd(e.serverSyncTree_,r,o));let s=vH(e,r);J_(e,s)}),e.onDisconnect_=ad(),pr(e.eventQueue_,te(),i)}function gH(e){e.persistentConnection_&&e.persistentConnection_.interrupt(cH)}function uS(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Re(n,...t)}function dS(e,t,n){return JT(e.serverSyncTree_,t,n)||le.EMPTY_NODE}function Q_(e,t=e.transactionQueueTree_){if(t||gd(e,t),Uo(t)){let n=fS(e,t);v(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&mH(e,Fa(t),n)}else oS(t)&&pd(t,n=>{Q_(e,n)})}function mH(e,t,n){let i=n.map(l=>l.currentWriteId),r=dS(e,t,i),o=r,s=r.hash();for(let l=0;l<n.length;l++){let u=n[l];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=ht(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{uS(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ao(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();gd(e,K_(e.transactionQueueTree_,t)),Q_(e,e.transactionQueueTree_),pr(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Pa(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{tt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}J_(e,t)}},s)}function J_(e,t){let n=hS(e,t),i=Fa(n),r=fS(e,n);return _H(e,r,i),i}function _H(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=ht(n,c.path),u=!1,d;if(v(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,r=r.concat(Ao(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=lH)u=!0,d="maxretry",r=r.concat(Ao(e.serverSyncTree_,c.currentWriteId,!0));else{let f=dS(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){cS("transaction failed: Data returned ",h,c.path);let g=Oe(h);typeof h=="object"&&h!=null&&tn(h,".priority")||(g=g.updatePriority(f.getPriority()));let I=c.currentWriteId,L=lS(e),Pe=ZU(g,f,L);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=Pe,c.currentWriteId=fH(e),s.splice(s.indexOf(I),1),r=r.concat(HU(e.serverSyncTree_,c.path,Pe,c.currentWriteId,c.applyLocally)),r=r.concat(Ao(e.serverSyncTree_,I,!0))}else u=!0,d="nodata",r=r.concat(Ao(e.serverSyncTree_,c.currentWriteId,!0))}pr(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}gd(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Pa(i[a]);Q_(e,e.transactionQueueTree_)}function hS(e,t){let n,i=e.transactionQueueTree_;for(n=G(t);n!==null&&Uo(i)===void 0;)i=K_(i,n),t=re(t),n=G(t);return i}function fS(e,t){let n=[];return pS(e,t,n),n.sort((i,r)=>i.order-r.order),n}function pS(e,t,n){let i=Uo(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);pd(t,r=>{pS(e,r,n)})}function gd(e,t){let n=Uo(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,rS(t,n.length>0?n:void 0)}pd(t,i=>{gd(e,i)})}function vH(e,t){let n=Fa(hS(e,t)),i=K_(e.transactionQueueTree_,t);return JU(i,r=>{Km(e,r)}),Km(e,i),sS(i,r=>{Km(e,r)}),n}function Km(e,t){let n=Uo(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(v(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(Ao(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?rS(t,void 0):n.length=o+1,pr(e.eventQueue_,Fa(t),r);for(let s=0;s<i.length;s++)Pa(i[s])}}function yH(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function bH(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):tt(`Invalid query segment '${n}' in query '${e}'`)}return t}var aT=function(e,t){let n=wH(e),i=n.namespace;n.domain==="firebase.com"&&An(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&An("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gj();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ed(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ie(n.pathString)}},wH=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=yH(e.substring(u,d)));let f=bH(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=i}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var L_=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return $(this._path)?null:MT(this._path)}get ref(){return new Bo(this._repo,this._path)}get _queryIdentifier(){let t=qI(this._queryParams),n=U_(t);return n==="{}"?"default":n}get _queryObject(){return qI(this._queryParams)}isEqual(t){if(t=et(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=RT(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+qj(this._path)}};var Bo=class e extends L_{constructor(t,n){super(t,n,new __,!1)}get parent(){let t=AT(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}};jU(Bo);UU(Bo);var EH="FIREBASE_DATABASE_EMULATOR_HOST",V_={},DH=!1;function CH(e,t,n,i){e.repoInfo_=new ed(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function IH(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||An("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=aT(o,r),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[EH]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=aT(o,r),a=s.repoInfo):c=!s.repoInfo.secure;let u=r&&c?new Ta(Ta.OWNER):new t_(e.name,e.options,t);rH("Invalid Firebase Database URL",s),$(s.path)||An("Database URL must point to the root of a Firebase Database (not including a child path).");let d=SH(a,e,u,new e_(e,n));return new B_(d,e)}function TH(e,t){let n=V_[t];(!n||n[e.key]!==e)&&An(`Database ${t}(${e.repoInfo_}) has already been deleted.`),gH(e),delete n[e.key]}function SH(e,t,n,i){let r=V_[t.name];r||(r={},V_[t.name]=r);let o=r[e.toURLString()];return o&&An("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new F_(e,DH,n,i),r[e.toURLString()]=o,o}var B_=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uH(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bo(this._repo,te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&An("Cannot call "+t+" on a deleted database.")}};function CZ(e=tr(),t){let n=Do(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let i=QD("database");i&&MH(n,...i)}return n}function MH(e,t,n,i={}){e=et(e),e._checkNotDeleted("useEmulator");let r=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(r===e._repoInternal.repoInfo_.host&&nn(i,o.repoInfo_.emulatorOptions))return;An("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&An('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ta(Ta.OWNER);else if(i.mockUserToken){let a=typeof i.mockUserToken=="string"?i.mockUserToken:JD(i.mockUserToken,e.app.options.projectId);s=new Ta(a)}CH(o,r,i,s)}function NH(e){hj(ai),At(new Be("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return IH(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),ge(NI,AI,e),ge(NI,AI,"esm2017")}$_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};$_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};NH();export{p as a,b,K as c,E as d,m as e,Hn as f,$n as g,We as h,r0 as i,o0 as j,Qq as k,Jq as l,ce as m,H as n,pe as o,vn as p,Xq as q,gs as r,qn as s,P as t,Vi as u,Z as v,Q as w,to as x,lt as y,ys as z,fp as A,En as B,Yn as C,ml as D,fw as E,bs as F,bt as G,ji as H,pp as I,gp as J,gw as K,mw as L,vp as M,NO as N,l4 as O,AO as P,xO as Q,nk as R,ik as S,Aw as T,Il as U,Tk as V,kk as W,Xp as X,NE as Y,ux as Z,dx as _,QE as $,HE as aa,zY as ba,qY as ca,hu as da,$x as ea,mD as fa,zx as ga,KY as ha,Yx as ia,Zx as ja,Xx as ka,ZY as la,QY as ma,MF as na,QK as oa,OD as pa,Dg as qa,kD as ra,JK as sa,XK as ta,e9 as ua,UD as va,n9 as wa,QD as xa,JD as ya,Iu as za,nC as Aa,a9 as Ba,St as Ca,Mt as Da,nn as Ea,KF as Fa,et as Ga,Be as Ha,X as Ia,rn as Ja,gC as Ka,g9 as La,At as Ma,Do as Na,qe as Oa,ai as Pa,tr as Qa,ge as Ra,Io as Sa,qg as Ta,Au as Ua,To as Va,ci as Wa,ir as Xa,aa as Ya,K9 as Za,Z9 as _a,Ou as $a,ya as ab,Um as bb,fZ as cb,pZ as db,gZ as eb,mZ as fb,_Z as gb,CZ as hb};
