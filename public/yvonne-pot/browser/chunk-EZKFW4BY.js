var U1=Object.defineProperty,H1=Object.defineProperties;var $1=Object.getOwnPropertyDescriptors;var cy=Object.getOwnPropertySymbols,G1=Object.getPrototypeOf,W1=Object.prototype.hasOwnProperty,z1=Object.prototype.propertyIsEnumerable,q1=Reflect.get;var ly=(e,t,n)=>t in e?U1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||={})W1.call(t,n)&&ly(e,n,t[n]);if(cy)for(var n of cy(t))z1.call(t,n)&&ly(e,n,t[n]);return e},L=(e,t)=>H1(e,$1(t));var Mi=(e,t,n)=>q1(G1(e),n,t);var p=(e,t,n)=>new Promise((i,r)=>{var o=c=>{try{a(n.next(c))}catch(l){r(l)}},s=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});function th(e,t){return Object.is(e,t)}var ye=null,sc=!1,nh=1,dt=Symbol("SIGNAL");function V(e){let t=ye;return ye=e,t}function ih(){return ye}var is={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rs(e){if(sc)throw new Error("");if(ye===null)return;ye.consumerOnSignalRead(e);let t=ye.nextProducerIndex++;if(uc(ye),t<ye.producerNode.length&&ye.producerNode[t]!==e&&ns(ye)){let n=ye.producerNode[t];lc(n,ye.producerIndexOfThis[t])}ye.producerNode[t]!==e&&(ye.producerNode[t]=e,ye.producerIndexOfThis[t]=ns(ye)?dy(e,ye,t):0),ye.producerLastReadVersion[t]=e.version}function uy(){nh++}function rh(e){if(!(ns(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===nh)){if(!e.producerMustRecompute(e)&&!ch(e)){eh(e);return}e.producerRecomputeValue(e),eh(e)}}function oh(e){if(e.liveConsumerNode===void 0)return;let t=sc;sc=!0;try{for(let n of e.liveConsumerNode)n.dirty||Y1(n)}finally{sc=t}}function sh(){return ye?.consumerAllowSignalWrites!==!1}function Y1(e){e.dirty=!0,oh(e),e.consumerMarkedDirty?.(e)}function eh(e){e.dirty=!1,e.lastCleanEpoch=nh}function cc(e){return e&&(e.nextProducerIndex=0),V(e)}function ah(e,t){if(V(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ns(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)lc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ch(e){uc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(rh(n),i!==n.version))return!0}return!1}function lh(e){if(uc(e),ns(e))for(let t=0;t<e.producerNode.length;t++)lc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function dy(e,t,n){if(hy(e),e.liveConsumerNode.length===0&&fy(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=dy(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function lc(e,t){if(hy(e),e.liveConsumerNode.length===1&&fy(e))for(let i=0;i<e.producerNode.length;i++)lc(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];uc(r),r.producerIndexOfThis[i]=t}}function ns(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function uc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function hy(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function fy(e){return e.producerNode!==void 0}function uh(e,t){let n=Object.create(K1);n.computation=e,t!==void 0&&(n.equal=t);let i=()=>{if(rh(n),rs(n),n.value===ac)throw n.error;return n.value};return i[dt]=n,i}var Jd=Symbol("UNSET"),Xd=Symbol("COMPUTING"),ac=Symbol("ERRORED"),K1=L(v({},is),{value:Jd,dirty:!0,error:null,equal:th,kind:"computed",producerMustRecompute(e){return e.value===Jd||e.value===Xd},producerRecomputeValue(e){if(e.value===Xd)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Xd;let n=cc(e),i,r=!1;try{i=e.computation(),V(null),r=t!==Jd&&t!==ac&&i!==ac&&e.equal(t,i)}catch(o){i=ac,e.error=o}finally{ah(e,n)}if(r){e.value=t;return}e.value=i,e.version++}});function Z1(){throw new Error}var py=Z1;function gy(e){py(e)}function dh(e){py=e}var Q1=null;function hh(e,t){let n=Object.create(dc);n.value=e,t!==void 0&&(n.equal=t);let i=()=>(rs(n),n.value);return i[dt]=n,i}function os(e,t){sh()||gy(e),e.equal(e.value,t)||(e.value=t,J1(e))}function fh(e,t){sh()||gy(e),os(e,t(e.value))}var dc=L(v({},is),{equal:th,value:void 0,kind:"signal"});function J1(e){e.version++,uy(),oh(e),Q1?.()}function ph(e){let t=V(null);try{return e()}finally{V(t)}}var gh;function ss(){return gh}function _n(e){let t=gh;return gh=e,t}var hc=Symbol("NotFound");function I(e){return typeof e=="function"}function Sr(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var fc=Sr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ni(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ue=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(I(i))try{i()}catch(o){t=o instanceof fc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{my(o)}catch(s){t=t??[],s instanceof fc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new fc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)my(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ni(n,t)}remove(t){let{_finalizers:n}=this;n&&Ni(n,t),t instanceof e&&t._removeParent(this)}};ue.EMPTY=(()=>{let e=new ue;return e.closed=!0,e})();var mh=ue.EMPTY;function pc(e){return e instanceof ue||e&&"closed"in e&&I(e.remove)&&I(e.add)&&I(e.unsubscribe)}function my(e){I(e)?e():e.unsubscribe()}var Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mr={setTimeout(e,t,...n){let{delegate:i}=Mr;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Mr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function gc(e){Mr.setTimeout(()=>{let{onUnhandledError:t}=Dt;if(t)t(e);else throw e})}function Ai(){}var _y=_h("C",void 0,void 0);function vy(e){return _h("E",void 0,e)}function yy(e){return _h("N",e,void 0)}function _h(e,t,n){return{kind:e,value:t,error:n}}var Ri=null;function Nr(e){if(Dt.useDeprecatedSynchronousErrorHandling){let t=!Ri;if(t&&(Ri={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=Ri;if(Ri=null,n)throw i}}else e()}function by(e){Dt.useDeprecatedSynchronousErrorHandling&&Ri&&(Ri.errorThrown=!0,Ri.error=e)}var Oi=class extends ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,pc(t)&&t.add(this)):this.destination=rM}static create(t,n,i){return new Ar(t,n,i)}next(t){this.isStopped?yh(yy(t),this):this._next(t)}error(t){this.isStopped?yh(vy(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?yh(_y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nM=Function.prototype.bind;function vh(e,t){return nM.call(e,t)}var bh=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){mc(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){mc(i)}else mc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){mc(n)}}},Ar=class extends Oi{constructor(t,n,i){super();let r;if(I(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Dt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&vh(t.next,o),error:t.error&&vh(t.error,o),complete:t.complete&&vh(t.complete,o)}):r=t}this.destination=new bh(r)}};function mc(e){Dt.useDeprecatedSynchronousErrorHandling?by(e):gc(e)}function iM(e){throw e}function yh(e,t){let{onStoppedNotification:n}=Dt;n&&Mr.setTimeout(()=>n(e,t))}var rM={closed:!0,next:Ai,error:iM,complete:Ai};var Rr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ne(e){return e}function wh(...e){return Eh(e)}function Eh(e){return e.length===0?Ne:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var M=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=sM(n)?n:new Ar(n,i,r);return Nr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=wy(i),new i((r,o)=>{let s=new Ar({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Rr](){return this}pipe(...n){return Eh(n)(this)}toPromise(n){return n=wy(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function wy(e){var t;return(t=e??Dt.Promise)!==null&&t!==void 0?t:Promise}function oM(e){return e&&I(e.next)&&I(e.error)&&I(e.complete)}function sM(e){return e&&e instanceof Oi||oM(e)&&pc(e)}function Dh(e){return I(e?.lift)}function U(e){return t=>{if(Dh(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function N(e,t,n,i,r){return new Ch(e,t,n,i,r)}var Ch=class extends Oi{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Or(){return U((e,t)=>{let n=null;e._refCount++;let i=N(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var kr=class extends M{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dh(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ue;let n=this.getSubject();t.add(this.source.subscribe(N(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ue.EMPTY)}return t}refCount(){return Or()(this)}};var Ey=Sr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=(()=>{class e extends M{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new _c(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Ey}next(n){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Nr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?mh:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,Ni(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new M;return n.source=this,n}}return e.create=(t,n)=>new _c(t,n),e})(),_c=class extends q{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:mh}};var Ie=class extends q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var Ih={now(){return(Ih.delegate||Date).now()},delegate:void 0};var vc=class extends ue{constructor(t,n){super()}schedule(t,n=0){return this}};var as={setInterval(e,t,...n){let{delegate:i}=as;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=as;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Pr=class extends vc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return as.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&as.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ni(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var xr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};xr.now=Ih.now;var Fr=class extends xr{constructor(t,n=xr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var yc=new Fr(Pr),Th=yc;var bc=class extends Pr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var wc=class extends Fr{};var Sh=new wc(bc);var Te=new M(e=>e.complete());function Ec(e){return e&&I(e.schedule)}function Dy(e){return e[e.length-1]}function Un(e){return I(Dy(e))?e.pop():void 0}function Hn(e){return Ec(Dy(e))?e.pop():void 0}function Mh(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function Iy(e,t,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(i.next(u))}catch(d){s(d)}}function c(u){try{l(i.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):r(u.value).then(a,c)}l((i=i.apply(e,t||[])).next())})}function Cy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ki(e){return this instanceof ki?(this.v=e,this):new ki(e)}function Ty(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){i[f]&&(r[f]=function(y){return new Promise(function(D,O){o.push([f,y,D,O])>1||c(f,y)})},g&&(r[f]=g(r[f])))}function c(f,g){try{l(i[f](g))}catch(y){h(o[0][3],y)}}function l(f){f.value instanceof ki?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Sy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Cy=="function"?Cy(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Lr=e=>e&&typeof e.length=="number"&&typeof e!="function";function Dc(e){return I(e?.then)}function Cc(e){return I(e[Rr])}function Ic(e){return Symbol.asyncIterator&&I(e?.[Symbol.asyncIterator])}function Tc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sc=aM();function Mc(e){return I(e?.[Sc])}function Nc(e){return Ty(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield ki(n.read());if(r)return yield ki(void 0);yield yield ki(i)}}finally{n.releaseLock()}})}function Ac(e){return I(e?.getReader)}function te(e){if(e instanceof M)return e;if(e!=null){if(Cc(e))return cM(e);if(Lr(e))return lM(e);if(Dc(e))return uM(e);if(Ic(e))return My(e);if(Mc(e))return dM(e);if(Ac(e))return hM(e)}throw Tc(e)}function cM(e){return new M(t=>{let n=e[Rr]();if(I(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lM(e){return new M(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function uM(e){return new M(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,gc)})}function dM(e){return new M(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function My(e){return new M(t=>{fM(e,t).catch(n=>t.error(n))})}function hM(e){return My(Nc(e))}function fM(e,t){var n,i,r,o;return Iy(this,void 0,void 0,function*(){try{for(n=Sy(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function We(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function $n(e,t=0){return U((n,i)=>{n.subscribe(N(i,r=>We(i,e,()=>i.next(r),t),()=>We(i,e,()=>i.complete(),t),r=>We(i,e,()=>i.error(r),t)))})}function Gn(e,t=0){return U((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Ny(e,t){return te(e).pipe(Gn(t),$n(t))}function Ay(e,t){return te(e).pipe(Gn(t),$n(t))}function Ry(e,t){return new M(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function Oy(e,t){return new M(n=>{let i;return We(n,t,()=>{i=e[Sc](),We(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>I(i?.return)&&i.return()})}function Rc(e,t){if(!e)throw new Error("Iterable cannot be null");return new M(n=>{We(n,t,()=>{let i=e[Symbol.asyncIterator]();We(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function ky(e,t){return Rc(Nc(e),t)}function Py(e,t){if(e!=null){if(Cc(e))return Ny(e,t);if(Lr(e))return Ry(e,t);if(Dc(e))return Ay(e,t);if(Ic(e))return Rc(e,t);if(Mc(e))return Oy(e,t);if(Ac(e))return ky(e,t)}throw Tc(e)}function ae(e,t){return t?Py(e,t):te(e)}function C(...e){let t=Hn(e);return ae(e,t)}function Vr(e,t){let n=I(e)?e:()=>e,i=r=>r.error(n());return new M(t?r=>t.schedule(i,0,r):i)}function Nh(e){return!!e&&(e instanceof M||I(e.lift)&&I(e.subscribe))}var vn=Sr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function xy(e){return e instanceof Date&&!isNaN(e)}function H(e,t){return U((n,i)=>{let r=0;n.subscribe(N(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:pM}=Array;function gM(e,t){return pM(t)?e(...t):e(t)}function Br(e){return H(t=>gM(e,t))}var{isArray:mM}=Array,{getPrototypeOf:_M,prototype:vM,keys:yM}=Object;function Oc(e){if(e.length===1){let t=e[0];if(mM(t))return{args:t,keys:null};if(bM(t)){let n=yM(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function bM(e){return e&&typeof e=="object"&&_M(e)===vM}function kc(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function jr(...e){let t=Hn(e),n=Un(e),{args:i,keys:r}=Oc(e);if(i.length===0)return ae([],t);let o=new M(wM(i,t,r?s=>kc(r,s):Ne));return n?o.pipe(Br(n)):o}function wM(e,t,n=Ne){return i=>{Fy(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)Fy(t,()=>{let l=ae(e[c],t),u=!1;l.subscribe(N(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Fy(e,t,n){e?We(n,e,t):t()}function Ly(e,t,n,i,r,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},f=y=>l<i?g(y):c.push(y),g=y=>{o&&t.next(y),l++;let D=!1;te(n(y,u++)).subscribe(N(t,O=>{r?.(O),o?f(O):t.next(O)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<i;){let O=c.shift();s?We(t,s,()=>g(O)):g(O)}h()}catch(O){t.error(O)}}))};return e.subscribe(N(t,f,()=>{d=!0,h()})),()=>{a?.()}}function ce(e,t,n=1/0){return I(t)?ce((i,r)=>H((o,s)=>t(i,o,r,s))(te(e(i,r))),n):(typeof t=="number"&&(n=t),U((i,r)=>Ly(i,r,e,n)))}function Ur(e=1/0){return ce(Ne,e)}function Vy(){return Ur(1)}function Wn(...e){return Vy()(ae(e,Hn(e)))}function Pc(e){return new M(t=>{te(e()).subscribe(t)})}function Ah(...e){let t=Un(e),{args:n,keys:i}=Oc(e),r=new M(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;te(n[u]).subscribe(N(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?kc(i,a):a),o.complete())}))}});return t?r.pipe(Br(t)):r}var EM=["addListener","removeListener"],DM=["addEventListener","removeEventListener"],CM=["on","off"];function ht(e,t,n,i){if(I(n)&&(i=n,n=void 0),i)return ht(e,t,n).pipe(Br(i));let[r,o]=SM(e)?DM.map(s=>a=>e[s](t,a,n)):IM(e)?EM.map(By(e,t)):TM(e)?CM.map(By(e,t)):[];if(!r&&Lr(e))return ce(s=>ht(s,t,n))(te(e));if(!r)throw new TypeError("Invalid event target");return new M(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function By(e,t){return n=>i=>e[n](t,i)}function IM(e){return I(e.addListener)&&I(e.removeListener)}function TM(e){return I(e.on)&&I(e.off)}function SM(e){return I(e.addEventListener)&&I(e.removeEventListener)}function Rh(e=0,t,n=Th){let i=-1;return t!=null&&(Ec(t)?n=t:i=t),new M(r=>{let o=xy(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}var{isArray:MM}=Array;function xc(e){return e.length===1&&MM(e[0])?e[0]:e}function ge(e,t){return U((n,i)=>{let r=0;n.subscribe(N(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Oh(...e){return e=xc(e),e.length===1?te(e[0]):new M(NM(e))}function NM(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(te(e[i]).subscribe(N(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function cs(...e){let t=Un(e),n=xc(e);return n.length?new M(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)te(n[s]).subscribe(N(i,a=>{if(r[s].push(a),r.every(c=>c.length)){let c=r.map(l=>l.shift());i.next(t?t(...c):c),r.some((l,u)=>!l.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Te}function yn(e){return U((t,n)=>{let i=null,r=!1,o;i=t.subscribe(N(n,void 0,void 0,s=>{o=te(e(s,yn(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function jy(e,t,n,i,r){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(N(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function zn(e,t){return I(t)?ce(e,t,1):ce(e,1)}function qn(e){return U((t,n)=>{let i=!1;t.subscribe(N(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Le(e){return e<=0?()=>Te:U((t,n)=>{let i=0;t.subscribe(N(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function kh(e,t=Ne){return e=e??AM,U((n,i)=>{let r,o=!0;n.subscribe(N(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function AM(e,t){return e===t}function Fc(e=RM){return U((t,n)=>{let i=!1;t.subscribe(N(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function RM(){return new vn}function Ph(...e){return t=>Wn(t,C(...e))}function Hr(e){return U((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function bn(e,t){let n=arguments.length>=2;return i=>i.pipe(e?ge((r,o)=>e(r,o,i)):Ne,Le(1),n?qn(t):Fc(()=>new vn))}function $r(e){return e<=0?()=>Te:U((t,n)=>{let i=[];t.subscribe(N(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function xh(e,t){let n=arguments.length>=2;return i=>i.pipe(e?ge((r,o)=>e(r,o,i)):Ne,$r(1),n?qn(t):Fc(()=>new vn))}function Fh(e,t){return U(jy(e,t,arguments.length>=2,!0))}function Lh(e){return ge((t,n)=>e<=n)}function ls(...e){let t=Hn(e);return U((n,i)=>{(t?Wn(e,n,t):Wn(e,n)).subscribe(i)})}function ze(e,t){return U((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(N(i,c=>{r?.unsubscribe();let l=0,u=o++;te(e(c,u)).subscribe(r=N(i,d=>i.next(t?t(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Se(e){return U((t,n)=>{te(e).subscribe(N(n,()=>n.complete(),Ai)),!n.closed&&t.subscribe(n)})}function be(e,t,n){let i=I(e)||t||n?{next:e,error:t,complete:n}:e;return i?U((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(N(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Ne}function Lc(...e){let t=Un(e);return U((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let c=0;c<r;c++)te(e[c]).subscribe(N(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Ne))&&(s=null))},Ai));n.subscribe(N(i,c=>{if(a){let l=[c,...o];i.next(t?t(...l):l)}}))})}var k0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",w=class extends Error{code;constructor(t,n){super(ap(t,n)),this.code=t}};function OM(e){return`NG0${Math.abs(e)}`}function ap(e,t){return`${OM(e)}${t?": "+t:""}`}var P0=Symbol("InputSignalNode#UNSET"),kM=L(v({},dc),{transformFn:void 0,applyValueToInputSignal(e,t){os(e,t)}});function x0(e,t){let n=Object.create(kM);n.value=e,n.transformFn=t?.transform;function i(){if(rs(n),n.value===P0){let r=null;throw new w(-950,r)}return n.value}return i[dt]=n,i}function ws(e){return{toString:e}.toString()}var Vc="__parameters__";function PM(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function F0(e,t,n){return ws(()=>{let i=PM(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Vc)?c[Vc]:Object.defineProperty(c,Vc,{value:[]})[Vc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Zr=globalThis;function re(e){for(let t in e)if(e[t]===re)return t;throw Error("Could not find renamed property on target object.")}function xM(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ye(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ye).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function Jh(e,t){return e?t?`${e} ${t}`:e:t||""}var FM=re({__forward_ref__:re});function Jt(e){return e.__forward_ref__=Jt,e.toString=function(){return Ye(this())},e}function Ve(e){return L0(e)?e():e}function L0(e){return typeof e=="function"&&e.hasOwnProperty(FM)&&e.__forward_ref__===Jt}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function J(e){return{providers:e.providers||[],imports:e.imports||[]}}function bl(e){return Uy(e,B0)||Uy(e,j0)}function V0(e){return bl(e)!==null}function Uy(e,t){return e.hasOwnProperty(t)?e[t]:null}function LM(e){let t=e&&(e[B0]||e[j0]);return t||null}function Hy(e){return e&&(e.hasOwnProperty($y)||e.hasOwnProperty(VM))?e[$y]:null}var B0=re({\u0275prov:re}),$y=re({\u0275inj:re}),j0=re({ngInjectableDef:re}),VM=re({ngInjectorDef:re}),E=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function U0(e){return e&&!!e.\u0275providers}var BM=re({\u0275cmp:re}),jM=re({\u0275dir:re}),UM=re({\u0275pipe:re}),HM=re({\u0275mod:re}),Kc=re({\u0275fac:re}),fs=re({__NG_ELEMENT_ID__:re}),Gy=re({__NG_ENV_ID__:re});function Es(e){return typeof e=="string"?e:e==null?"":String(e)}function $M(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Es(e)}function H0(e,t){throw new w(-200,e)}function cp(e,t){throw new w(-201,!1)}var j=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(j||{}),Xh;function $0(){return Xh}function ft(e){let t=Xh;return Xh=e,t}function G0(e,t,n){let i=bl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&j.Optional)return null;if(t!==void 0)return t;cp(e,"Injector")}var GM={},Pi=GM,ef="__NG_DI_FLAG__",Zc=class{injector;constructor(t){this.injector=t}retrieve(t,n){let i=n;return this.injector.get(t,i.optional?hc:Pi,i)}},Qc="ngTempTokenPath",WM="ngTokenPath",zM=/\n/gm,qM="\u0275",Wy="__source";function YM(e,t=j.Default){if(ss()===void 0)throw new w(-203,!1);if(ss()===null)return G0(e,void 0,t);{let n=ss(),i;return n instanceof Zc?i=n.injector:i=n,i.get(e,t&j.Optional?null:void 0,t)}}function T(e,t=j.Default){return($0()||YM)(Ve(e),t)}function m(e,t=j.Default){return T(e,wl(t))}function wl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function tf(e){let t=[];for(let n=0;n<e.length;n++){let i=Ve(e[n]);if(Array.isArray(i)){if(i.length===0)throw new w(900,!1);let r,o=j.Default;for(let s=0;s<i.length;s++){let a=i[s],c=KM(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}t.push(T(r,o))}else t.push(T(i))}return t}function W0(e,t){return e[ef]=t,e.prototype[ef]=t,e}function KM(e){return e[ef]}function ZM(e,t,n,i){let r=e[Qc];throw t[Wy]&&r.unshift(t[Wy]),e.message=QM(`
`+e.message,r,n,i),e[WM]=r,e[Qc]=null,e}function QM(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==qM?e.slice(2):e;let r=Ye(t);if(Array.isArray(t))r=t.map(Ye).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ye(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(zM,`
  `)}`}var Ke=W0(F0("Optional"),8);var JM=W0(F0("SkipSelf"),4);function Qr(e,t){let n=e.hasOwnProperty(Kc);return n?e[Kc]:null}function XM(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function eN(e){return e.flat(Number.POSITIVE_INFINITY)}function lp(e,t){e.forEach(n=>Array.isArray(n)?lp(n,t):t(n))}function z0(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function tN(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function nN(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function up(e,t,n){let i=Ds(e,t);return i>=0?e[i|1]=n:(i=~i,nN(e,i,t,n)),i}function Vh(e,t){let n=Ds(e,t);if(n>=0)return e[n|1]}function Ds(e,t){return iN(e,t,1)}function iN(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var Fi={},qe=[],Jr=new E(""),q0=new E("",-1),Y0=new E(""),Xc=class{get(t,n=Pi){if(n===Pi){let i=new Error(`NullInjectorError: No provider for ${Ye(t)}!`);throw i.name="NullInjectorError",i}return n}};function K0(e,t){let n=e[HM]||null;if(!n&&t===!0)throw new Error(`Type ${Ye(e)} does not have '\u0275mod' property.`);return n}function Zn(e){return e[BM]||null}function rN(e){return e[jM]||null}function oN(e){return e[UM]||null}function Xt(e){return{\u0275providers:e}}function sN(...e){return{\u0275providers:Z0(!0,e),\u0275fromNgModule:!0}}function Z0(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return lp(t,s=>{let a=s;nf(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Q0(r,o),n}function Q0(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];dp(r,o=>{t(o,i)})}}function nf(e,t,n,i){if(e=Ve(e),!e)return!1;let r=null,o=Hy(e),s=!o&&Zn(e);if(!o&&!s){let c=e.ngModule;if(o=Hy(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)nf(l,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{lp(o.imports,u=>{nf(u,t,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Q0(l,t)}if(!a){let l=Qr(r)||(()=>new r);t({provide:r,useFactory:l,deps:qe},r),t({provide:Y0,useValue:r,multi:!0},r),t({provide:Jr,useValue:()=>T(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=e;dp(c,u=>{t(u,l)})}}else return!1;return r!==e&&e.providers!==void 0}function dp(e,t){for(let n of e)U0(n)&&(n=n.\u0275providers),Array.isArray(n)?dp(n,t):t(n)}var aN=re({provide:String,useValue:re});function J0(e){return e!==null&&typeof e=="object"&&aN in e}function cN(e){return!!(e&&e.useExisting)}function lN(e){return!!(e&&e.useFactory)}function Xr(e){return typeof e=="function"}function uN(e){return!!e.useClass}var El=new E(""),$c={},zy={},Bh;function Dl(){return Bh===void 0&&(Bh=new Xc),Bh}var Ee=class{},ps=class extends Ee{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,of(t,s=>this.processProvider(s)),this.records.set(q0,Gr(void 0,this)),r.has("environment")&&this.records.set(Ee,Gr(void 0,this));let o=this.records.get(El);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Y0,qe,j.Self))}retrieve(t,n){let i=n;return this.get(t,i.optional?hc:Pi,i)}destroy(){ds(this),this._destroyed=!0;let t=V(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),V(t)}}onDestroy(t){return ds(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ds(this);let n=_n(this),i=ft(void 0),r;try{return t()}finally{_n(n),ft(i)}}get(t,n=Pi,i=j.Default){if(ds(this),t.hasOwnProperty(Gy))return t[Gy](this);i=wl(i);let r,o=_n(this),s=ft(void 0);try{if(!(i&j.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=gN(t)&&bl(t);l&&this.injectableDefInScope(l)?c=Gr(rf(t),$c):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=i&j.Self?Dl():this.parent;return n=i&j.Optional&&n===Pi?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Qc]=a[Qc]||[]).unshift(Ye(t)),o)throw a;return ZM(a,t,"R3InjectorError",this.source)}else throw a}finally{ft(s),_n(o)}}resolveInjectorInitializers(){let t=V(null),n=_n(this),i=ft(void 0),r;try{let o=this.get(Jr,qe,j.Self);for(let s of o)s()}finally{_n(n),ft(i),V(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Ye(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ve(t);let n=Xr(t)?t:Ve(t&&t.provide),i=hN(t);if(!Xr(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Gr(void 0,$c,!0),r.factory=()=>tf(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=V(null);try{return n.value===zy?H0(Ye(t)):n.value===$c&&(n.value=zy,n.value=n.factory()),typeof n.value=="object"&&n.value&&pN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{V(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ve(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rf(e){let t=bl(e),n=t!==null?t.factory:Qr(e);if(n!==null)return n;if(e instanceof E)throw new w(204,!1);if(e instanceof Function)return dN(e);throw new w(204,!1)}function dN(e){if(e.length>0)throw new w(204,!1);let n=LM(e);return n!==null?()=>n.factory(e):()=>new e}function hN(e){if(J0(e))return Gr(void 0,e.useValue);{let t=X0(e);return Gr(t,$c)}}function X0(e,t,n){let i;if(Xr(e)){let r=Ve(e);return Qr(r)||rf(r)}else if(J0(e))i=()=>Ve(e.useValue);else if(lN(e))i=()=>e.useFactory(...tf(e.deps||[]));else if(cN(e))i=()=>T(Ve(e.useExisting));else{let r=Ve(e&&(e.useClass||e.provide));if(fN(e))i=()=>new r(...tf(e.deps));else return Qr(r)||rf(r)}return i}function ds(e){if(e.destroyed)throw new w(205,!1)}function Gr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function fN(e){return!!e.deps}function pN(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function gN(e){return typeof e=="function"||typeof e=="object"&&e instanceof E}function of(e,t){for(let n of e)Array.isArray(n)?of(n,t):n&&U0(n)?of(n.\u0275providers,t):t(n)}function Pe(e,t){let n;e instanceof ps?(ds(e),n=e):n=new Zc(e);let i,r=_n(n),o=ft(void 0);try{return t()}finally{_n(r),ft(o)}}function eb(){return $0()!==void 0||ss()!=null}function Cl(e){if(!eb())throw new w(-203,!1)}function mN(e){return typeof e=="function"}var In=0,k=1,A=2,ke=3,Tt=4,Ze=5,eo=6,el=7,we=8,to=9,wn=10,de=11,gs=12,qy=13,lo=14,tt=15,Li=16,Wr=17,En=18,Il=19,tb=20,Yn=21,jh=22,tl=23,pt=24,Yr=25,Be=26,nb=1;var Vi=7,nl=8,no=9,Oe=10;function Kn(e){return Array.isArray(e)&&typeof e[nb]=="object"}function Tn(e){return Array.isArray(e)&&e[nb]===!0}function ib(e){return(e.flags&4)!==0}function uo(e){return e.componentOffset>-1}function hp(e){return(e.flags&1)===1}function zt(e){return!!e.template}function il(e){return(e[A]&512)!==0}function Cs(e){return(e[A]&256)===256}var sf=class{previousValue;currentValue;firstChange;constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function rb(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}var Qe=(()=>{let e=()=>ob;return e.ngInherit=!0,e})();function ob(e){return e.type.prototype.ngOnChanges&&(e.setInput=vN),_N}function _N(){let e=ab(this),t=e?.current;if(t){let n=e.previous;if(n===Fi)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function vN(e,t,n,i,r){let o=this.declaredInputs[i],s=ab(e)||yN(e,{previous:Fi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new sf(l&&l.currentValue,n,c===Fi),rb(e,t,r,n)}var sb="__ngSimpleChanges__";function ab(e){return e[sb]||null}function yN(e,t){return e[sb]=t}var Yy=null;var ie=function(e,t=null,n){Yy?.(e,t,n)},cb="svg",bN="math";function qt(e){for(;Array.isArray(e);)e=e[In];return e}function lb(e,t){return qt(t[e])}function en(e,t){return qt(t[e.index])}function fp(e,t){return e.data[t]}function wN(e,t){return e[t]}function Yt(e,t){let n=t[e];return Kn(n)?n:n[In]}function EN(e){return(e[A]&4)===4}function pp(e){return(e[A]&128)===128}function DN(e){return Tn(e[ke])}function io(e,t){return t==null?null:e[t]}function ub(e){e[Wr]=0}function db(e){e[A]&1024||(e[A]|=1024,pp(e)&&Is(e))}function CN(e,t){for(;e>0;)t=t[lo],e--;return t}function Tl(e){return!!(e[A]&9216||e[pt]?.dirty)}function af(e){e[wn].changeDetectionScheduler?.notify(8),e[A]&64&&(e[A]|=1024),Tl(e)&&Is(e)}function Is(e){e[wn].changeDetectionScheduler?.notify(0);let t=Bi(e);for(;t!==null&&!(t[A]&8192||(t[A]|=8192,!pp(t)));)t=Bi(t)}function hb(e,t){if(Cs(e))throw new w(911,!1);e[Yn]===null&&(e[Yn]=[]),e[Yn].push(t)}function IN(e,t){if(e[Yn]===null)return;let n=e[Yn].indexOf(t);n!==-1&&e[Yn].splice(n,1)}function Bi(e){let t=e[ke];return Tn(t)?t[ke]:t}function gp(e){return e[el]??=[]}function mp(e){return e.cleanup??=[]}function TN(e,t,n,i){let r=gp(t);r.push(n),e.firstCreatePass&&mp(e).push(i,r.length-1)}var F={lFrame:Ib(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var cf=!1;function SN(){return F.lFrame.elementDepthCount}function MN(){F.lFrame.elementDepthCount++}function NN(){F.lFrame.elementDepthCount--}function fb(){return F.bindingsEnabled}function pb(){return F.skipHydrationRootTNode!==null}function AN(e){return F.skipHydrationRootTNode===e}function RN(){F.skipHydrationRootTNode=null}function B(){return F.lFrame.lView}function me(){return F.lFrame.tView}function gb(e){return F.lFrame.contextLView=e,e[we]}function mb(e){return F.lFrame.contextLView=null,e}function je(){let e=_b();for(;e!==null&&e.type===64;)e=e.parent;return e}function _b(){return F.lFrame.currentTNode}function ON(){let e=F.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ts(e,t){let n=F.lFrame;n.currentTNode=e,n.isParent=t}function vb(){return F.lFrame.isParent}function yb(){F.lFrame.isParent=!1}function kN(){return F.lFrame.contextLView}function bb(){return cf}function Ky(e){let t=cf;return cf=e,t}function _p(){let e=F.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function PN(e){return F.lFrame.bindingIndex=e}function Wi(){return F.lFrame.bindingIndex++}function wb(e){let t=F.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function xN(){return F.lFrame.inI18n}function FN(e,t){let n=F.lFrame;n.bindingIndex=n.bindingRootIndex=e,lf(t)}function LN(){return F.lFrame.currentDirectiveIndex}function lf(e){F.lFrame.currentDirectiveIndex=e}function VN(e){let t=F.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Eb(){return F.lFrame.currentQueryIndex}function vp(e){F.lFrame.currentQueryIndex=e}function BN(e){let t=e[k];return t.type===2?t.declTNode:t.type===1?e[Ze]:null}function Db(e,t,n){if(n&j.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&j.Host);)if(r=BN(o),r===null||(o=o[lo],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=F.lFrame=Cb();return i.currentTNode=t,i.lView=e,!0}function yp(e){let t=Cb(),n=e[k];F.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Cb(){let e=F.lFrame,t=e===null?null:e.child;return t===null?Ib(e):t}function Ib(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Tb(){let e=F.lFrame;return F.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Sb=Tb;function bp(){let e=Tb();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jN(e){return(F.lFrame.contextLView=CN(e,F.lFrame.contextLView))[we]}function Jn(){return F.lFrame.selectedIndex}function ji(e){F.lFrame.selectedIndex=e}function Sl(){let e=F.lFrame;return fp(e.tView,e.selectedIndex)}function Mb(){F.lFrame.currentNamespace=cb}function q5(){UN()}function UN(){F.lFrame.currentNamespace=null}function HN(){return F.lFrame.currentNamespace}var Nb=!0;function wp(){return Nb}function Ep(e){Nb=e}function $N(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=ob(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Ab(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Gc(e,t,n){Rb(e,t,3,n)}function Wc(e,t,n,i){(e[A]&3)===n&&Rb(e,t,n,i)}function Uh(e,t){let n=e[A];(n&3)===t&&(n&=16383,n+=1,e[A]=n)}function Rb(e,t,n,i){let r=i!==void 0?e[Wr]&65535:0,o=i??-1,s=t.length-1,a=0;for(let c=r;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],i!=null&&a>=i)break}else t[c]<0&&(e[Wr]+=65536),(a<o||o==-1)&&(GN(e,n,t,c),e[Wr]=(e[Wr]&4294901760)+c+2),c++}function Zy(e,t){ie(4,e,t);let n=V(null);try{t.call(e)}finally{V(n),ie(5,e,t)}}function GN(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[A]>>14<e[Wr]>>16&&(e[A]&3)===t&&(e[A]+=16384,Zy(a,o)):Zy(a,o)}var Kr=-1,Ui=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,i){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=i}};function WN(e){return(e.flags&8)!==0}function zN(e){return(e.flags&16)!==0}function qN(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];YN(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function Ob(e){return e===3||e===4||e===6}function YN(e){return e.charCodeAt(0)===64}function ms(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?Qy(e,n,r,null,t[++i]):Qy(e,n,r,null,null))}}return e}function Qy(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r)}function kb(e){return e!==Kr}function rl(e){return e&32767}function KN(e){return e>>16}function ol(e,t){let n=KN(e),i=t;for(;n>0;)i=i[lo],n--;return i}var uf=!0;function Jy(e){let t=uf;return uf=e,t}var ZN=256,Pb=ZN-1,xb=5,QN=0,Wt={};function JN(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(fs)&&(i=n[fs]),i==null&&(i=n[fs]=QN++);let r=i&Pb,o=1<<r;t.data[e+(r>>xb)]|=o}function sl(e,t){let n=Fb(e,t);if(n!==-1)return n;let i=t[k];i.firstCreatePass&&(e.injectorIndex=t.length,Hh(i.data,e),Hh(t,null),Hh(i.blueprint,null));let r=Dp(e,t),o=e.injectorIndex;if(kb(r)){let s=rl(r),a=ol(r,t),c=a[k].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function Hh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fb(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Dp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=Ub(r),i===null)return Kr;if(n++,r=r[lo],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Kr}function df(e,t,n){JN(e,t,n)}function XN(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(Ob(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function Lb(e,t,n){if(n&j.Optional||e!==void 0)return e;cp(t,"NodeInjector")}function Vb(e,t,n,i){if(n&j.Optional&&i===void 0&&(i=null),(n&(j.Self|j.Host))===0){let r=e[to],o=ft(void 0);try{return r?r.get(t,i,n&j.Optional):G0(t,i,n&j.Optional)}finally{ft(o)}}return Lb(i,t,n)}function Bb(e,t,n,i=j.Default,r){if(e!==null){if(t[A]&2048&&!(i&j.Self)){let s=iA(e,t,n,i,Wt);if(s!==Wt)return s}let o=jb(e,t,n,i,Wt);if(o!==Wt)return o}return Vb(t,n,i,r)}function jb(e,t,n,i,r){let o=tA(n);if(typeof o=="function"){if(!Db(t,e,i))return i&j.Host?Lb(r,n,i):Vb(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&j.Optional))cp(n);else return s}finally{Sb()}}else if(typeof o=="number"){let s=null,a=Fb(e,t),c=Kr,l=i&j.Host?t[tt][Ze]:null;for((a===-1||i&j.SkipSelf)&&(c=a===-1?Dp(e,t):t[a+8],c===Kr||!e0(i,!1)?a=-1:(s=t[k],a=rl(c),t=ol(c,t)));a!==-1;){let u=t[k];if(Xy(o,a,u.data)){let d=eA(a,t,n,s,i,l);if(d!==Wt)return d}c=t[a+8],c!==Kr&&e0(i,t[k].data[a+8]===l)&&Xy(o,a,t)?(s=u,a=rl(c),t=ol(c,t)):a=-1}}return r}function eA(e,t,n,i,r,o){let s=t[k],a=s.data[e+8],c=i==null?uo(a)&&uf:i!=s&&(a.type&3)!==0,l=r&j.Host&&o===a,u=zc(a,s,n,c,l);return u!==null?_s(t,s,u,a):Wt}function zc(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(r){let f=s[c];if(f&&zt(f)&&f.type===n)return c}return null}function _s(e,t,n,i){let r=e[n],o=t.data;if(r instanceof Ui){let s=r;s.resolving&&H0($M(o[n]));let a=Jy(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ft(s.injectImpl):null,u=Db(e,i,j.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&$N(n,o[n],t)}finally{l!==null&&ft(l),Jy(a),s.resolving=!1,Sb()}}return r}function tA(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(fs)?e[fs]:void 0;return typeof t=="number"?t>=0?t&Pb:nA:t}function Xy(e,t,n){let i=1<<e;return!!(n[t+(e>>xb)]&i)}function e0(e,t){return!(e&j.Self)&&!(e&j.Host&&t)}var xi=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Bb(this._tNode,this._lView,t,wl(i),n)}};function nA(){return new xi(je(),B())}function Xn(e){return ws(()=>{let t=e.prototype.constructor,n=t[Kc]||hf(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Kc]||hf(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function hf(e){return L0(e)?()=>{let t=hf(Ve(e));return t&&t()}:Qr(e)}function iA(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[A]&2048&&!il(s);){let a=jb(o,s,n,i|j.Self,Wt);if(a!==Wt)return a;let c=o.parent;if(!c){let l=s[tb];if(l){let u=l.get(n,Wt,i);if(u!==Wt)return u}c=Ub(s),s=s[lo]}o=c}return r}function Ub(e){let t=e[k],n=t.type;return n===2?t.declTNode:n===1?e[Ze]:null}function ei(e){return XN(je(),e)}function t0(e,t=null,n=null,i){let r=Hb(e,t,n,i);return r.resolveInjectorInitializers(),r}function Hb(e,t=null,n=null,i,r=new Set){let o=[n||qe,sN(e)];return i=i||(typeof e=="object"?void 0:Ye(e)),new ps(o,t||Dl(),i||null,r)}var se=class e{static THROW_IF_NOT_FOUND=Pi;static NULL=new Xc;static create(t,n){if(Array.isArray(t))return t0({name:""},n,t,"");{let i=t.name??"";return t0({name:i},t.parent,t.providers,i)}}static \u0275prov=b({token:e,providedIn:"any",factory:()=>T(q0)});static __NG_ELEMENT_ID__=-1};var rA=new E("");rA.__NG_ELEMENT_ID__=e=>{let t=je();if(t===null)throw new w(204,!1);if(t.type&2)return t.value;if(e&j.Optional)return null;throw new w(204,!1)};var $b=!1,Sn=(()=>{class e{static __NG_ELEMENT_ID__=oA;static __NG_ENV_ID__=n=>n}return e})(),ff=class extends Sn{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return hb(this._lView,t),()=>IN(this._lView,t)}};function oA(){return new ff(B())}var Hi=class{},Cp=new E("",{providedIn:"root",factory:()=>!1});var Gb=new E(""),Wb=new E(""),zi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ie(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ml=(()=>{class e{internalPendingTasks=m(zi);scheduler=m(Hi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return p(this,null,function*(){let i=this.add();try{return yield n()}finally{i()}})}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),pf=class extends q{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,eb()&&(this.destroyRef=m(Sn,{optional:!0})??void 0,this.pendingTasks=m(zi,{optional:!0})??void 0)}emit(t){let n=V(null);try{super.next(t)}finally{V(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof ue&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},Y=pf;function al(...e){}function zb(e){let t,n;function i(){e=al;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function n0(e){return queueMicrotask(()=>e()),()=>{e=al}}var Ip="isAngularZone",cl=Ip+"_ID",sA=0,G=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Y(!1);onMicrotaskEmpty=new Y(!1);onStable=new Y(!1);onError=new Y(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=$b}=t;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,lA(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ip)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new w(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,aA,al,al);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},aA={};function Tp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cA(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){zb(()=>{e.callbackScheduled=!1,gf(e),e.isCheckStableRunning=!0,Tp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),gf(e)}function lA(e){let t=()=>{cA(e)},n=sA++;e._inner=e._inner.fork({name:"angular",properties:{[Ip]:!0,[cl]:n,[cl+n]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(uA(c))return i.invokeTask(o,s,a,c);try{return i0(e),i.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),r0(e)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return i0(e),i.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!dA(c)&&t(),r0(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,gf(e),Tp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function gf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function i0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function r0(e){e._nesting--,Tp(e)}var mf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Y;onMicrotaskEmpty=new Y;onStable=new Y;onError=new Y;run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function uA(e){return qb(e,"__ignore_ng_zone__")}function dA(e){return qb(e,"__scheduler_tick__")}function qb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Kt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},hA=new E("",{providedIn:"root",factory:()=>{let e=m(G),t=m(Kt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function o0(e,t){return x0(e,t)}function fA(e){return x0(P0,e)}var Yb=(o0.required=fA,o0);function pA(){return ho(je(),B())}function ho(e,t){return new _e(en(e,t))}var _e=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=pA}return e})();function gA(e){return e instanceof _e?e.nativeElement:e}function mA(e){return typeof e=="function"&&e[dt]!==void 0}function qi(e,t){let n=hh(e,t?.equal),i=n[dt];return n.set=r=>os(i,r),n.update=r=>fh(i,r),n.asReadonly=_A.bind(n),n}function _A(){let e=this[dt];if(e.readonlyFn===void 0){let t=()=>this();t[dt]=e,e.readonlyFn=t}return e.readonlyFn}function Kb(e){return mA(e)&&typeof e.set=="function"}function vA(){return this._results[Symbol.iterator]()}var _f=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new q}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=eN(t);(this._changesDetected=!XM(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=vA};function Zb(e){return(e.flags&128)===128}var Qb=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Qb||{}),Jb=new Map,yA=0;function bA(){return yA++}function wA(e){Jb.set(e[Il],e)}function vf(e){Jb.delete(e[Il])}var s0="__ngContext__";function Ss(e,t){Kn(t)?(e[s0]=t[Il],wA(t)):e[s0]=t}function Xb(e){return tw(e[gs])}function ew(e){return tw(e[Tt])}function tw(e){for(;e!==null&&!Tn(e);)e=e[Tt];return e}var yf;function nw(e){yf=e}function iw(){if(yf!==void 0)return yf;if(typeof document<"u")return document;throw new w(210,!1)}var Sp=new E("",{providedIn:"root",factory:()=>EA}),EA="ng",Mp=new E(""),Mn=new E("",{providedIn:"platform",factory:()=>"unknown"});var Np=new E("",{providedIn:"root",factory:()=>iw().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DA="h",CA="b";var rw=!1,IA=new E("",{providedIn:"root",factory:()=>rw});var Ap=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Ap||{}),fo=new E(""),a0=new Set;function Yi(e){a0.has(e)||(a0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var ow=(()=>{class e{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=TA}return e})();function TA(){return new ow(B(),je())}var zr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(zr||{}),sw=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),SA=[zr.EarlyRead,zr.Write,zr.MixedReadWrite,zr.Read],MA=(()=>{class e{ngZone=m(G);scheduler=m(Hi);errorHandler=m(Kt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(fo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ie(16),this.executing=!0;for(let i of SA)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ie(17)}register(n){let{view:i}=n;i!==void 0?((i[Yr]??=[]).push(n),Is(i),i[A]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(Ap.AFTER_NEXT_RENDER,n):n()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})(),bf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,i,r,o,s=null){this.impl=t,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Yr];t&&(this.view[Yr]=t.filter(n=>n!==this))}};function Rp(e,t){!t?.injector&&Cl(Rp);let n=t?.injector??m(se);return Yi("NgAfterNextRender"),AA(e,n,t,!0)}function NA(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function AA(e,t,n,i){let r=t.get(sw);r.impl??=t.get(MA);let o=t.get(fo,null,{optional:!0}),s=n?.phase??zr.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(Sn):null,c=t.get(ow,null,{optional:!0}),l=new bf(r.impl,NA(e,s),c?.view,i,a,o?.snapshot(null));return r.impl.register(l),l}var RA=()=>null;function aw(e,t,n=!1){return RA(e,t,n)}function cw(e,t){let n=e.contentQueries;if(n!==null){let i=V(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];vp(o),a.contentQueries(2,t[s],s)}}}finally{V(i)}}}function wf(e,t,n){vp(0);let i=V(null);try{t(e,n)}finally{V(i)}}function lw(e,t,n){if(ib(t)){let i=V(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{V(i)}}}var Zt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zt||{}),Bc;function OA(){if(Bc===void 0&&(Bc=null,Zr.trustedTypes))try{Bc=Zr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Bc}function Nl(e){return OA()?.createHTML(e)||e}var jc;function uw(){if(jc===void 0&&(jc=null,Zr.trustedTypes))try{jc=Zr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jc}function c0(e){return uw()?.createHTML(e)||e}function l0(e){return uw()?.createScriptURL(e)||e}var Dn=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${k0})`}},Ef=class extends Dn{getTypeName(){return"HTML"}},Df=class extends Dn{getTypeName(){return"Style"}},Cf=class extends Dn{getTypeName(){return"Script"}},If=class extends Dn{getTypeName(){return"URL"}},Tf=class extends Dn{getTypeName(){return"ResourceURL"}};function gt(e){return e instanceof Dn?e.changingThisBreaksApplicationSecurity:e}function Nn(e,t){let n=kA(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${k0})`)}return n===t}function kA(e){return e instanceof Dn&&e.getTypeName()||null}function dw(e){return new Ef(e)}function hw(e){return new Df(e)}function fw(e){return new Cf(e)}function pw(e){return new If(e)}function gw(e){return new Tf(e)}function PA(e){let t=new Mf(e);return xA()?new Sf(t):t}var Sf=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Nl(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},Mf=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Nl(t),n}};function xA(){try{return!!new window.DOMParser().parseFromString(Nl(""),"text/html")}catch{return!1}}var FA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Al(e){return e=String(e),e.match(FA)?e:"unsafe:"+e}function An(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Ms(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}var mw=An("area,br,col,hr,img,wbr"),_w=An("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),vw=An("rp,rt"),LA=Ms(vw,_w),VA=Ms(_w,An("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),BA=Ms(vw,An("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),u0=Ms(mw,VA,BA,LA),yw=An("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jA=An("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),UA=An("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),HA=Ms(yw,jA,UA),$A=An("script,style,template"),Nf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=zA(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=WA(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(t){let n=d0(t).toLowerCase();if(!u0.hasOwnProperty(n))return this.sanitizedSomething=!0,!$A.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!HA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;yw[a]&&(c=Al(c)),this.buf.push(" ",s,'="',h0(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=d0(t).toLowerCase();u0.hasOwnProperty(n)&&!mw.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(h0(t))}};function GA(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function WA(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw bw(t);return t}function zA(e){let t=e.firstChild;if(t&&GA(e,t))throw bw(t);return t}function d0(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function bw(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var qA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YA=/([^\#-~ |!])/g;function h0(e){return e.replace(/&/g,"&amp;").replace(qA,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(YA,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Uc;function Op(e,t){let n=null;try{Uc=Uc||PA(e);let i=t?String(t):"";n=Uc.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Uc.getInertBodyElement(i)}while(i!==o);let a=new Nf().sanitizeChildren(f0(n)||n);return Nl(a)}finally{if(n){let i=f0(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function f0(e){return"content"in e&&KA(e)?e.content:null}function KA(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Mt=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Mt||{});function Y5(e){let t=kp();return t?c0(t.sanitize(Mt.HTML,e)||""):Nn(e,"HTML")?c0(gt(e)):Op(iw(),Es(e))}function ZA(e){let t=kp();return t?t.sanitize(Mt.URL,e)||"":Nn(e,"URL")?gt(e):Al(Es(e))}function QA(e){let t=kp();if(t)return l0(t.sanitize(Mt.RESOURCE_URL,e)||"");if(Nn(e,"ResourceURL"))return l0(gt(e));throw new w(904,!1)}function JA(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?QA:ZA}function ww(e,t,n){return JA(t,n)(e)}function kp(){let e=B();return e&&e[wn].sanitizer}function Ew(e){return e instanceof Function?e():e}function XA(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}var Dw="ng-template";function eR(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&XA(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Pp(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Pp(e){return e.type===4&&e.value!==Dw}function tR(e,t,n){let i=e.type===4&&!n?Dw:e.value;return t===i}function nR(e,t,n){let i=4,r=e.attrs,o=r!==null?oR(r):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Ct(i)&&!Ct(c))return!1;if(s&&Ct(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!tR(e,c,n)||c===""&&t.length===1){if(Ct(i))return!1;s=!0}}else if(i&8){if(r===null||!eR(e,r,c,n)){if(Ct(i))return!1;s=!0}}else{let l=t[++a],u=iR(c,r,Pp(e),n);if(u===-1){if(Ct(i))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&l!==d){if(Ct(i))return!1;s=!0}}}}return Ct(i)||s}function Ct(e){return(e&1)===0}function iR(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return sR(t,e)}function Cw(e,t,n=!1){for(let i=0;i<t.length;i++)if(nR(e,t[i],n))return!0;return!1}function rR(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function oR(e){for(let t=0;t<e.length;t++){let n=e[t];if(Ob(n))return t}return e.length}function sR(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function aR(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function p0(e,t){return e?":not("+t.trim()+")":t}function cR(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Ct(s)&&(t+=p0(o,r),r=""),i=s,o=o||!Ct(i);n++}return r!==""&&(t+=p0(o,r)),t}function lR(e){return e.map(cR).join(",")}function uR(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Ct(r))break;r=o}i++}return n.length&&t.push(1,...n),t}var tn={};function dR(e,t){return e.createText(t)}function hR(e,t,n){e.setValue(t,n)}function Iw(e,t,n){return e.createElement(t,n)}function ll(e,t,n,i,r){e.insertBefore(t,n,i,r)}function Tw(e,t,n){e.appendChild(t,n)}function g0(e,t,n,i,r){i!==null?ll(e,t,n,i,r):Tw(e,t,n)}function fR(e,t,n){e.removeChild(null,t,n)}function pR(e,t,n){e.setAttribute(t,"style",n)}function gR(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Sw(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&qN(e,t,i),r!==null&&gR(e,t,r),o!==null&&pR(e,t,o)}function xp(e,t,n,i,r,o,s,a,c,l,u){let d=Be+i,h=d+r,f=mR(d,h),g=typeof l=="function"?l():l;return f[k]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function mR(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:tn);return n}function _R(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=xp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Fp(e,t,n,i,r,o,s,a,c,l,u){let d=t.blueprint.slice();return d[In]=r,d[A]=i|4|128|8|64|1024,(l!==null||e&&e[A]&2048)&&(d[A]|=2048),ub(d),d[ke]=d[lo]=e,d[we]=n,d[wn]=s||e&&e[wn],d[de]=a||e&&e[de],d[to]=c||e&&e[to]||null,d[Ze]=o,d[Il]=bA(),d[eo]=u,d[tb]=l,d[tt]=t.type==2?e[tt]:d,d}function vR(e,t,n){let i=en(t,e),r=_R(n),o=e[wn].rendererFactory,s=Lp(e,Fp(e,r,null,Mw(n),i,t,null,o.createRenderer(i,n),null,null,null));return e[t.index]=s}function Mw(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Nw(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Lp(e,t){return e[gs]?e[qy][Tt]=t:e[gs]=t,e[qy]=t,t}function Ns(e=1){Aw(me(),B(),Jn()+e,!1)}function Aw(e,t,n,i){if(!i)if((t[A]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Gc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Wc(t,o,0,n)}ji(n)}var Rl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Rl||{});function Af(e,t,n,i){let r=V(null);try{let[o,s,a]=e.inputs[n],c=null;(s&Rl.SignalBased)!==0&&(c=t[o][dt]),c!==null&&c.transformFn!==void 0?i=c.transformFn(i):a!==null&&(i=a.call(t,i)),e.setInput!==null?e.setInput(t,c,i,n,o):rb(t,c,o,i)}finally{V(r)}}function Rw(e,t,n,i,r){let o=Jn(),s=i&2;try{ji(-1),s&&t.length>Be&&Aw(e,t,Be,!1),ie(s?2:0,r),n(i,r)}finally{ji(o),ie(s?3:1,r)}}function Vp(e,t,n){CR(e,t,n),(n.flags&64)===64&&IR(e,t,n)}function Ow(e,t,n=en){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function yR(e,t,n,i){let o=i.get(IA,rw)||n===Zt.ShadowDom,s=e.selectRootElement(t,o);return bR(s),s}function bR(e){wR(e)}var wR=()=>null;function ER(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Bp(e,t,n,i,r,o,s,a){if(!a&&jp(t,e,n,i,r)){uo(t)&&DR(n,t.index);return}if(t.type&3){let c=en(t,n);i=ER(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(c,i,r)}else t.type&12}function DR(e,t){let n=Yt(t,e);n[A]&16||(n[A]|=64)}function CR(e,t,n){let i=n.directiveStart,r=n.directiveEnd;uo(n)&&vR(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||sl(n,t);let o=n.initialInputs;for(let s=i;s<r;s++){let a=e.data[s],c=_s(t,e,s,n);if(Ss(c,t),o!==null&&NR(t,s-i,c,a,n,o),zt(a)){let l=Yt(n.index,t);l[we]=_s(t,e,s,n)}}}function IR(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=LN();try{ji(o);for(let a=i;a<r;a++){let c=e.data[a],l=t[a];lf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&TR(c,l)}}finally{ji(-1),lf(s)}}function TR(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function kw(e,t){let n=e.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];Cw(t,o.selectors,!1)&&(i??=[],zt(o)?i.unshift(o):i.push(o))}return i}function SR(e,t,n,i,r,o){let s=en(e,t);MR(t[de],s,o,e.value,n,i,r)}function MR(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?Es(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function NR(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Af(i,n,c,l)}}function AR(e,t){let n=e[to],i=n?n.get(Kt,null):null;i&&i.handleError(t)}function jp(e,t,n,i,r){let o=e.inputs?.[i],s=e.hostDirectiveInputs?.[i],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Af(d,n[l],u,r),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Af(u,l,i,r),a=!0}return a}function RR(e,t){let n=Yt(t,e),i=n[k];OR(i,n);let r=n[In];r!==null&&n[eo]===null&&(n[eo]=aw(r,n[to])),ie(18),Up(i,n,n[we]),ie(19,n[we])}function OR(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Up(e,t,n){yp(t);try{let i=e.viewQuery;i!==null&&wf(1,i,n);let r=e.template;r!==null&&Rw(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[En]?.finishViewCreation(e),e.staticContentQueries&&cw(e,t),e.staticViewQueries&&wf(2,e.viewQuery,n);let o=e.components;o!==null&&kR(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[A]&=-5,bp()}}function kR(e,t){for(let n=0;n<t.length;n++)RR(e,t[n])}function As(e,t,n,i){let r=V(null);try{let o=t.tView,a=e[A]&4096?4096:16,c=Fp(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=e[t.index];c[Li]=l;let u=e[En];return u!==null&&(c[En]=u.createEmbeddedView(o)),Up(o,c,n),c}finally{V(r)}}function ro(e,t){return!t||t.firstChild===null||Zb(e)}var PR;function Hp(e,t){return PR(e,t)}var Cn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Cn||{});function $p(e){return(e.flags&32)===32}function qr(e,t,n,i,r){if(i!=null){let o,s=!1;Tn(i)?o=i:Kn(i)&&(s=!0,i=i[In]);let a=qt(i);e===0&&n!==null?r==null?Tw(t,n,a):ll(t,n,a,r||null,!0):e===1&&n!==null?ll(t,n,a,r||null,!0):e===2?fR(t,a,s):e===3&&t.destroyNode(a),o!=null&&GR(t,e,o,n,r)}}function xR(e,t){Pw(e,t),t[In]=null,t[Ze]=null}function FR(e,t,n,i,r,o){i[In]=r,i[Ze]=t,kl(e,i,n,1,r,o)}function Pw(e,t){t[wn].changeDetectionScheduler?.notify(9),kl(e,t,t[de],2,null,null)}function LR(e){let t=e[gs];if(!t)return $h(e[k],e);for(;t;){let n=null;if(Kn(t))n=t[gs];else{let i=t[Oe];i&&(n=i)}if(!n){for(;t&&!t[Tt]&&t!==e;)Kn(t)&&$h(t[k],t),t=t[ke];t===null&&(t=e),Kn(t)&&$h(t[k],t),n=t&&t[Tt]}t=n}}function Gp(e,t){let n=e[no],i=n.indexOf(t);n.splice(i,1)}function Ol(e,t){if(Cs(t))return;let n=t[de];n.destroyNode&&kl(e,t,n,3,null,null),LR(t)}function $h(e,t){if(Cs(t))return;let n=V(null);try{t[A]&=-129,t[A]|=256,t[pt]&&lh(t[pt]),BR(e,t),VR(e,t),t[k].type===1&&t[de].destroy();let i=t[Li];if(i!==null&&Tn(t[ke])){i!==t[ke]&&Gp(i,t);let r=t[En];r!==null&&r.detachView(e)}vf(t)}finally{V(n)}}function VR(e,t){let n=e.cleanup,i=t[el];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(t[el]=null);let r=t[Yn];if(r!==null){t[Yn]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=t[tl];if(o!==null){t[tl]=null;for(let s of o)s.destroy()}}function BR(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Ui)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];ie(4,a,c);try{c.call(a)}finally{ie(5,a,c)}}else{ie(4,r,o);try{o.call(r)}finally{ie(5,r,o)}}}}}function xw(e,t,n){return jR(e,t.parent,n)}function jR(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[In];if(uo(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===Zt.None||r===Zt.Emulated)return null}return en(i,n)}function Fw(e,t,n){return HR(e,t,n)}function UR(e,t,n){return e.type&40?en(e,n):null}var HR=UR,m0;function Wp(e,t,n,i){let r=xw(e,i,t),o=t[de],s=i.parent||t[Ze],a=Fw(s,i,t);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)g0(o,r,n[c],a,!1);else g0(o,r,n,a,!1);m0!==void 0&&m0(o,i,t,n,r)}function hs(e,t){if(t!==null){let n=t.type;if(n&3)return en(t,e);if(n&4)return Rf(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return hs(e,i);{let r=e[t.index];return Tn(r)?Rf(-1,r):qt(r)}}else{if(n&128)return hs(e,t.next);if(n&32)return Hp(t,e)()||qt(e[t.index]);{let i=Lw(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Bi(e[tt]);return hs(r,i)}else return hs(e,t.next)}}}return null}function Lw(e,t){if(t!==null){let i=e[tt][Ze],r=t.projection;return i.projection[r]}return null}function Rf(e,t){let n=Oe+e+1;if(n<t.length){let i=t[n],r=i[k].firstChild;if(r!==null)return hs(i,r)}return t[Vi]}function zp(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(s&&t===0&&(a&&Ss(qt(a),i),n.flags|=2),!$p(n))if(c&8)zp(e,t,n.child,i,r,o,!1),qr(t,e,r,a,o);else if(c&32){let l=Hp(n,i),u;for(;u=l();)qr(t,e,r,u,o);qr(t,e,r,a,o)}else c&16?Vw(e,t,i,n,r,o):qr(t,e,r,a,o);n=s?n.projectionNext:n.next}}function kl(e,t,n,i,r,o){zp(n,i,e.firstChild,t,r,o,!1)}function $R(e,t,n){let i=t[de],r=xw(e,n,t),o=n.parent||t[Ze],s=Fw(o,n,t);Vw(i,0,t,n,r,s)}function Vw(e,t,n,i,r,o){let s=n[tt],c=s[Ze].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];qr(t,e,r,u,o)}else{let l=c,u=s[ke];Zb(i)&&(l.flags|=128),zp(e,t,l,u,r,o,!0)}}function GR(e,t,n,i,r){let o=n[Vi],s=qt(n);o!==s&&qr(t,e,i,o,r);for(let a=Oe;a<n.length;a++){let c=n[a];kl(c[k],c,e,t,i,o)}}function WR(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Cn.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Cn.Important),e.setStyle(n,i,r,o))}}function ul(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(qt(o)),Tn(o)&&zR(o,i);let s=n.type;if(s&8)ul(e,t,n.child,i);else if(s&32){let a=Hp(n,t),c;for(;c=a();)i.push(c)}else if(s&16){let a=Lw(t,n);if(Array.isArray(a))i.push(...a);else{let c=Bi(t[tt]);ul(c[k],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function zR(e,t){for(let n=Oe;n<e.length;n++){let i=e[n],r=i[k].firstChild;r!==null&&ul(i[k],i,r,t)}e[Vi]!==e[In]&&t.push(e[Vi])}function Bw(e){if(e[Yr]!==null){for(let t of e[Yr])t.impl.addSequence(t);e[Yr].length=0}}var jw=[];function qR(e){return e[pt]??YR(e)}function YR(e){let t=jw.pop()??Object.create(ZR);return t.lView=e,t}function KR(e){e.lView[pt]!==e&&(e.lView=null,jw.push(e))}var ZR=L(v({},is),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Is(e.lView)},consumerOnSignalRead(){this.lView[pt]=this}});function QR(e){let t=e[pt]??Object.create(JR);return t.lView=e,t}var JR=L(v({},is),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Bi(e.lView);for(;t&&!Uw(t[k]);)t=Bi(t);t&&db(t)},consumerOnSignalRead(){this.lView[pt]=this}});function Uw(e){return e.type!==2}function Hw(e){if(e[tl]===null)return;let t=!0;for(;t;){let n=!1;for(let i of e[tl])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=n&&!!(e[A]&8192)}}var XR=100;function $w(e,t=!0,n=0){let r=e[wn].rendererFactory,o=!1;o||r.begin?.();try{eO(e,n)}catch(s){throw t&&AR(e,s),s}finally{o||r.end?.()}}function eO(e,t){let n=bb();try{Ky(!0),Of(e,t);let i=0;for(;Tl(e);){if(i===XR)throw new w(103,!1);i++,Of(e,1)}}finally{Ky(n)}}function tO(e,t,n,i){if(Cs(t))return;let r=t[A],o=!1,s=!1;yp(t);let a=!0,c=null,l=null;o||(Uw(e)?(l=qR(t),c=cc(l)):ih()===null?(a=!1,l=QR(t),c=cc(l)):t[pt]&&(lh(t[pt]),t[pt]=null));try{ub(t),PN(e.bindingStartIndex),n!==null&&Rw(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Gc(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Wc(t,f,0,null),Uh(t,0)}if(s||nO(t),Hw(t),Gw(t,0),e.contentQueries!==null&&cw(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&Gc(t,f)}else{let f=e.contentHooks;f!==null&&Wc(t,f,1),Uh(t,1)}rO(e,t);let d=e.components;d!==null&&zw(t,d,0);let h=e.viewQuery;if(h!==null&&wf(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&Gc(t,f)}else{let f=e.viewHooks;f!==null&&Wc(t,f,2),Uh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[jh]){for(let f of t[jh])f();t[jh]=null}o||(Bw(t),t[A]&=-73)}catch(u){throw o||Is(t),u}finally{l!==null&&(ah(l,c),a&&KR(l)),bp()}}function Gw(e,t){for(let n=Xb(e);n!==null;n=ew(n))for(let i=Oe;i<n.length;i++){let r=n[i];Ww(r,t)}}function nO(e){for(let t=Xb(e);t!==null;t=ew(t)){if(!(t[A]&2))continue;let n=t[no];for(let i=0;i<n.length;i++){let r=n[i];db(r)}}}function iO(e,t,n){ie(18);let i=Yt(t,e);Ww(i,n),ie(19,i[we])}function Ww(e,t){pp(e)&&Of(e,t)}function Of(e,t){let i=e[k],r=e[A],o=e[pt],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&ch(o)),s||=!1,o&&(o.dirty=!1),e[A]&=-9217,s)tO(i,e,i.template,e[we]);else if(r&8192){Hw(e),Gw(e,1);let a=i.components;a!==null&&zw(e,a,1),Bw(e)}}function zw(e,t,n){for(let i=0;i<t.length;i++)iO(e,t[i],n)}function rO(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ji(~r);else{let o=r,s=n[++i],a=n[++i];FN(s,o);let c=t[o];ie(24,c),a(2,c),ie(25,c)}}}finally{ji(-1)}}function qp(e,t){let n=bb()?64:1088;for(e[wn].changeDetectionScheduler?.notify(t);e;){e[A]|=n;let i=Bi(e);if(il(e)&&!i)return e;e=i}return null}function qw(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function Yw(e,t){let n=Oe+t;if(n<e.length)return e[n]}function Rs(e,t,n,i=!0){let r=t[k];if(oO(r,t,e,n),i){let s=Rf(n,e),a=t[de],c=a.parentNode(e[Vi]);c!==null&&FR(r,e[Ze],a,t,c,s)}let o=t[eo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kw(e,t){let n=vs(e,t);return n!==void 0&&Ol(n[k],n),n}function vs(e,t){if(e.length<=Oe)return;let n=Oe+t,i=e[n];if(i){let r=i[Li];r!==null&&r!==e&&Gp(r,i),t>0&&(e[n-1][Tt]=i[Tt]);let o=Jc(e,Oe+t);xR(i[k],i);let s=o[En];s!==null&&s.detachView(o[k]),i[ke]=null,i[Tt]=null,i[A]&=-129}return i}function oO(e,t,n,i){let r=Oe+i,o=n.length;i>0&&(n[r-1][Tt]=t),i<o-Oe?(t[Tt]=n[r],z0(n,Oe+i,t)):(n.push(t),t[Tt]=null),t[ke]=n;let s=t[Li];s!==null&&n!==s&&Zw(s,t);let a=t[En];a!==null&&a.insertView(e),af(t),t[A]|=128}function Zw(e,t){let n=e[no],i=t[ke];if(Kn(i))e[A]|=2;else{let r=i[ke][tt];t[tt]!==r&&(e[A]|=2)}n===null?e[no]=[t]:n.push(t)}var ys=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[k];return ul(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i}get context(){return this._lView[we]}set context(t){this._lView[we]=t}get destroyed(){return Cs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ke];if(Tn(t)){let n=t[nl],i=n?n.indexOf(this):-1;i>-1&&(vs(t,i),Jc(n,i))}this._attachedToViewContainer=!1}Ol(this._lView[k],this._lView)}onDestroy(t){hb(this._lView,t)}markForCheck(){qp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A]&=-129}reattach(){af(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,$w(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=il(this._lView),n=this._lView[Li];n!==null&&!t&&Gp(n,this._lView),Pw(this._lView[k],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t;let n=il(this._lView),i=this._lView[Li];i!==null&&!n&&Zw(i,this._lView),af(this._lView)}};var St=(()=>{class e{static __NG_ELEMENT_ID__=cO}return e})(),sO=St,aO=class extends sO{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=As(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new ys(r)}};function cO(){return Pl(je(),B())}function Pl(e,t){return e.type&4?new aO(t,e,ho(e,t)):null}function xl(e,t,n,i,r){let o=e.data[t];if(o===null)o=lO(e,t,n,i,r),xN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=ON();o.injectorIndex=s===null?-1:s.injectorIndex}return Ts(o,!0),o}function lO(e,t,n,i,r){let o=_b(),s=vb(),a=s?o:o&&o.parent,c=e.data[t]=dO(e,a,n,t,i,r);return uO(e,c,o,s),c}function uO(e,t,n,i){e.firstChild===null&&(e.firstChild=t),n!==null&&(i?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function dO(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return pb()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Q5=new RegExp(`^(\\d+)*(${CA}|${DA})*(.*)`);var hO=()=>null;function oo(e,t){return hO(e,t)}var fO=class{},Qw=class{},kf=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Ye(t)}.`)}},Fl=class{static NULL=new kf},so=class{},ti=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>pO()}return e})();function pO(){let e=B(),t=je(),n=Yt(t.index,e);return(Kn(n)?n:e)[de]}var gO=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>null})}return e})();var Gh={},Pf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=wl(i);let r=this.injector.get(t,Gh,i);return r!==Gh||n===Gh?r:this.parentInjector.get(t,n,i)}};function _0(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Jh(r,a);else if(o==2){let c=a,l=t[++s];i=Jh(i,c+": "+l+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function R(e,t=j.Default){let n=B();if(n===null)return T(e,t);let i=je();return Bb(i,n,Ve(e),t)}function Jw(){let e="invalid";throw new Error(e)}function Xw(e,t,n,i,r){let o=i===null?null:{"":-1},s=r(e,n);if(s!==null){let a,c=null,l=null,u=_O(s);u===null?a=s:[a,c,l]=u,bO(e,t,n,a,o,c,l)}o!==null&&i!==null&&mO(n,i,o)}function mO(e,t,n){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new w(-301,!1);i.push(t[r],o)}}function _O(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&zt(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let i=null,r=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,vO(s,i,o,r)),s===t&&(i??=[],i.push(s));return i!==null?(i.push(...t===null?e:e.slice(1)),[i,r,o]):null}function vO(e,t,n,i){let r=t.length;e.findHostDirectiveDefs(e,t,i),n.set(e,[r,t.length-1])}function yO(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function bO(e,t,n,i,r,o,s){let a=i.length,c=!1;for(let h=0;h<a;h++){let f=i[h];!c&&zt(f)&&(c=!0,yO(e,n,h)),df(sl(n,t),e,f.type)}TO(n,e.data.length,a);for(let h=0;h<a;h++){let f=i[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Nw(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=i[h];if(n.mergedAttrs=ms(n.mergedAttrs,f.hostAttrs),EO(e,n,t,d,f),IO(d,f,r),s!==null&&s.has(f)){let[y,D]=s.get(f);n.directiveToIndex.set(f.type,[d,y+n.directiveStart,D+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}wO(e,n,o)}function wO(e,t,n){for(let i=t.directiveStart;i<t.directiveEnd;i++){let r=e.data[i];if(n===null||!n.has(r))v0(0,t,r,i),v0(1,t,r,i),b0(t,i,!1);else{let o=n.get(r);y0(0,t,o,i),y0(1,t,o,i),b0(t,i,!0)}}}function v0(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(i),eE(t,o)}}function y0(e,t,n,i){let r=e===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),eE(t,s)}}function eE(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function b0(e,t,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!n&&r===null||n&&o===null||Pp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let c=i[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&r.hasOwnProperty(c)){let l=r[c];for(let u of l)if(u===t){s??=[],s.push(c,i[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],i[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function EO(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Qr(r.type,!0)),s=new Ui(o,zt(r),R);e.blueprint[i]=s,n[i]=s,DO(e,t,i,Nw(e,n,r.hostVars,tn),r)}function DO(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;CO(s)!=a&&s.push(a),s.push(n,i,o)}}function CO(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function IO(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;zt(t)&&(n[""]=e)}}function TO(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function tE(e,t,n,i,r,o,s,a){let c=t.consts,l=io(c,s),u=xl(t,e,2,i,l);return o&&Xw(t,n,u,io(c,a),r),u.mergedAttrs=ms(u.mergedAttrs,u.attrs),u.attrs!==null&&_0(u,u.attrs,!1),u.mergedAttrs!==null&&_0(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function nE(e,t){Ab(e,t),ib(t)&&e.queries.elementEnd(t)}var dl=class extends Fl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Zn(t);return new $i(n,this.ngModule)}};function SO(e){return Object.keys(e).map(t=>{let[n,i,r]=e[t],o={propName:n,templateName:t,isSignal:(i&Rl.SignalBased)!==0};return r&&(o.transform=r),o})}function MO(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function NO(e,t,n){let i=t instanceof Ee?t:t?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new Pf(n,i):n}function AO(e){let t=e.get(so,null);if(t===null)throw new w(407,!1);let n=e.get(gO,null),i=e.get(Hi,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:i}}function RO(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Iw(t,n,n==="svg"?cb:n==="math"?bN:null)}var $i=class extends Qw{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=SO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=MO(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=lR(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,i,r){ie(22);let o=V(null);try{let s=this.componentDef,a=i?["ng-version","19.2.6"]:uR(this.componentDef.selectors[0]),c=xp(0,null,null,1,0,null,null,null,null,[a],null),l=NO(s,r||this.ngModule,t),u=AO(l),d=u.rendererFactory.createRenderer(null,s),h=i?yR(d,i,s.encapsulation,l):RO(s,d),f=Fp(null,c,null,512|Mw(s),null,null,u,d,l,null,aw(h,l,!0));f[Be]=h,yp(f);let g=null;try{let y=tE(Be,c,f,"#host",()=>[this.componentDef],!0,0);h&&(Sw(d,h,y),Ss(h,f)),Vp(c,f,y),lw(c,y,f),nE(c,y),n!==void 0&&OO(y,this.ngContentSelectors,n),g=Yt(y.index,f),f[we]=g[we],Up(c,f,null)}catch(y){throw g!==null&&vf(g),vf(f),y}finally{ie(23),bp()}return new xf(this.componentType,f)}finally{V(o)}}},xf=class extends fO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=fp(n[k],Be),this.location=ho(this._tNode,n),this.instance=Yt(this._tNode.index,n)[we],this.hostView=this.changeDetectorRef=new ys(n,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let r=this._rootLView,o=jp(i,r[k],r,t,n);this.previousInputValues.set(t,n);let s=Yt(i.index,r);qp(s,1)}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function OO(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var nn=(()=>{class e{static __NG_ELEMENT_ID__=kO}return e})();function kO(){let e=je();return rE(e,B())}var PO=nn,iE=class extends PO{_lContainer;_hostTNode;_hostLView;constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return ho(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){let t=Dp(this._hostTNode,this._hostLView);if(kb(t)){let n=ol(t,this._hostLView),i=rl(t),r=n[k].data[i+8];return new xi(r,n)}else return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=w0(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=oo(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,ro(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!mN(t),a;if(s)a=n;else{let g=n||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?t:new $i(Zn(t)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let y=(s?l:this.parentInjector).get(Ee,null);y&&(o=y)}let u=Zn(c.componentType??{}),d=oo(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,r,h,o);return this.insertImpl(f.hostView,a,ro(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(DN(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=r[ke],l=new iE(c,c[Ze],c[ke]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Rs(s,r,o,i),t.attachToViewContainerRef(),z0(Wh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=w0(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=vs(this._lContainer,n);i&&(Jc(Wh(this._lContainer),n),Ol(i[k],i))}detach(t){let n=this._adjustIndex(t,-1),i=vs(this._lContainer,n);return i&&Jc(Wh(this._lContainer),n)!=null?new ys(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function w0(e){return e[nl]}function Wh(e){return e[nl]||(e[nl]=[])}function rE(e,t){let n,i=t[e.index];return Tn(i)?n=i:(n=qw(i,t,null,e),t[e.index]=n,Lp(t,n)),FO(n,t,e,i),new iE(n,e,t)}function xO(e,t){let n=e[de],i=n.createComment(""),r=en(t,e),o=n.parentNode(r);return ll(n,o,i,n.nextSibling(r),!1),i}var FO=BO,LO=()=>!1;function VO(e,t,n){return LO(e,t,n)}function BO(e,t,n,i){if(e[Vi])return;let r;n.type&8?r=qt(i):r=xO(t,n),e[Vi]=r}var Ff=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Lf=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Yp(t,n).matches!==null&&this.queries[n].setDirty()}},hl=class{flags;read;predicate;constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=qO(t):this.predicate=t}},Vf=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Bf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,jO(n,o)),this.matchTNodeWithReadOption(t,n,zc(n,t,o,!1,!1))}else i===St?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,zc(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===_e||r===nn||r===St&&n.type&4)this.addMatch(n.index,-2);else{let o=zc(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function jO(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function UO(e,t){return e.type&11?ho(e,t):e.type&4?Pl(e,t):null}function HO(e,t,n,i){return n===-1?UO(t,e):n===-2?$O(e,t,i):_s(e,e[k],n,t)}function $O(e,t,n){if(n===_e)return ho(t,e);if(n===St)return Pl(t,e);if(n===nn)return rE(t,e)}function oE(e,t,n,i){let r=t[En].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(HO(t,u,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function jf(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=oE(e,t,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=t[-c];for(let d=Oe;d<u.length;d++){let h=u[d];h[Li]===h[ke]&&jf(h[k],h,l,i)}if(u[no]!==null){let d=u[no];for(let h=0;h<d.length;h++){let f=d[h];jf(f[k],f,l,i)}}}}}return i}function GO(e,t){return e[En].queries[t].queryList}function sE(e,t,n){let i=new _f((n&4)===4);return TN(e,t,i,i.destroy),(t[En]??=new Lf).queries.push(new Ff(i))-1}function WO(e,t,n){let i=me();return i.firstCreatePass&&(aE(i,new hl(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),sE(i,B(),t)}function zO(e,t,n,i){let r=me();if(r.firstCreatePass){let o=je();aE(r,new hl(t,n,i),o.index),YO(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return sE(r,B(),n)}function qO(e){return e.split(",").map(t=>t.trim())}function aE(e,t,n){e.queries===null&&(e.queries=new Vf),e.queries.track(new Bf(t,n))}function YO(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function Yp(e,t){return e.queries.getByIndex(t)}function KO(e,t){let n=e[k],i=Yp(n,t);return i.crossesNgTemplate?jf(n,e,t,[]):oE(n,e,i,t)}var ao=class{},Kp=class{};var Uf=class extends ao{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new dl(this);constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n;let o=K0(t);this._bootstrapComponents=Ew(o.bootstrap),this._r3Injector=Hb(t,n,[{provide:ao,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver},...i],Ye(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Hf=class extends Kp{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Uf(this.moduleType,t,[])}};var fl=class extends ao{injector;componentFactoryResolver=new dl(this);instance=null;constructor(t){super();let n=new ps([...t.providers,{provide:ao,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],t.parent||Dl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Os(e,t,n=null){return new fl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var ZO=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Z0(!1,n.type),r=i.length>0?Os([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(T(Ee))})}return e})();function Nt(e){return ws(()=>{let t=cE(e),n=L(v({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Qb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?r=>r.get(ZO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zt.Emulated,styles:e.styles||qe,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Yi("NgStandalone"),lE(n);let i=e.dependencies;return n.directiveDefs=E0(i,!1),n.pipeDefs=E0(i,!0),n.id=tk(n),n})}function QO(e){return Zn(e)||rN(e)}function JO(e){return e!==null}function X(e){return ws(()=>({type:e.type,bootstrap:e.bootstrap||qe,declarations:e.declarations||qe,imports:e.imports||qe,exports:e.exports||qe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function XO(e,t){if(e==null)return Fi;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a,c;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,c=r[3]||null):(o=r,s=r,a=Rl.None,c=null),n[o]=[i,a,c],t[o]=s}return n}function ek(e){if(e==null)return Fi;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Z(e){return ws(()=>{let t=cE(e);return lE(t),t})}function cE(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Fi,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||qe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XO(e.inputs,t),outputs:ek(e.outputs),debugInfo:null}}function lE(e){e.features?.forEach(t=>t(e))}function E0(e,t){if(!e)return null;let n=t?oN:QO;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(JO)}function tk(e){let t=0,n=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function nk(e){return Object.getPrototypeOf(e.prototype).constructor}function it(e){let t=nk(e.type),n=!0,i=[e];for(;t;){let r;if(zt(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=zh(e.inputs),s.declaredInputs=zh(e.declaredInputs),s.outputs=zh(e.outputs);let a=r.hostBindings;a&&ak(e,a);let c=r.viewQuery,l=r.contentQueries;if(c&&ok(e,c),l&&sk(e,l),ik(e,r),xM(e.outputs,r.outputs),zt(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===it&&(n=!1)}}t=Object.getPrototypeOf(t)}rk(i)}function ik(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n])}}function rk(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ms(r.hostAttrs,n=ms(n,r.hostAttrs))}}function zh(e){return e===Fi?{}:e===qe?[]:e}function ok(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function sk(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function ak(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function uE(e){return lk(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function ck(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function lk(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Zp(e,t,n){return e[t]=n}function nt(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function dE(e,t,n,i){let r=nt(e,t,n);return nt(e,t+1,i)||r}function uk(e,t,n,i,r){let o=dE(e,t,n,i);return nt(e,t+2,r)||o}function dk(e,t,n,i,r,o,s,a,c){let l=t.consts,u=xl(t,e,4,s||null,a||null);fb()&&Xw(t,n,u,io(l,c),kw),u.mergedAttrs=ms(u.mergedAttrs,u.attrs),Ab(t,u);let d=u.tView=xp(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function pl(e,t,n,i,r,o,s,a,c,l){let u=n+Be,d=t.firstCreatePass?dk(u,t,e,i,r,o,s,a,c):t.data[u];Ts(d,!1);let h=hk(t,e,d,n);wp()&&Wp(t,e,h,d),Ss(h,e);let f=qw(h,e,h,d);return e[u]=f,Lp(e,f),VO(f,d,e),hp(d)&&Vp(t,e,d),c!=null&&Ow(e,d,l),d}function po(e,t,n,i,r,o,s,a){let c=B(),l=me(),u=io(l.consts,o);return pl(c,l,e,t,n,i,r,u,s,a),po}var hk=fk;function fk(e,t,n,i){return Ep(!0),t[de].createComment("")}var Qp=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var hE=new E("");var pk=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new $f})}return e})(),$f=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,i=this.queues.get(n);i.has(t)&&(i.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Ki(e){return!!e&&typeof e.then=="function"}function fE(e){return!!e&&typeof e.subscribe=="function"}var pE=new E("");function Jp(e){return Xt([{provide:pE,multi:!0,useValue:e}])}var gE=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=m(pE,{optional:!0})??[];injector=m(se);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=Pe(this.injector,r);if(Ki(o))n.push(o);else if(fE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ll=new E("");function gk(){dh(()=>{throw new w(600,!1)})}function mk(e){return e.isBoundToModule}var _k=10;var Qt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(hA);afterRenderManager=m(sw);zonelessEnabled=m(Cp);rootEffectScheduler=m(pk);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new q;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=m(zi).hasPendingTasks.pipe(H(n=>!n));constructor(){m(fo,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=m(Ee);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=se.NULL){ie(10);let o=n instanceof Qw;if(!this._injector.get(gE).done){let f="";throw new w(405,f)}let a;o?a=n:a=this._injector.get(Fl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=mk(a)?void 0:this._injector.get(ao),l=i||a.selector,u=a.create(r,[],l,c),d=u.location.nativeElement,h=u.injector.get(hE,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),qc(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),ie(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ap.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new w(101,!1);let n=V(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,V(n),this.afterTick.next(),ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(so,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<_k;)ie(14),this.synchronizeOnce(),ie(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)vk(i,r,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Tl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;qc(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ll,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function vk(e,t,n,i){if(!n&&!Tl(e))return;$w(e,t,n&&!i?0:1)}function mt(e,t,n,i){let r=B(),o=Wi();if(nt(r,o,t)){let s=me(),a=Sl();SR(a,r,e,t,n,i)}return mt}function yk(e,t,n,i){return nt(e,Wi(),n)?t+Es(n)+i:tn}function Hc(e,t){return e<<17|t<<2}function Gi(e){return e>>17&32767}function bk(e){return(e&2)==2}function wk(e,t){return e&131071|t<<17}function Gf(e){return e|2}function co(e){return(e&131068)>>2}function qh(e,t){return e&-131069|t<<2}function Ek(e){return(e&1)===1}function Wf(e){return e|1}function Dk(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Gi(s),c=co(s);e[i]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ds(d,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let h=Gi(e[a+1]);e[i+1]=Hc(h,a),h!==0&&(e[h+1]=qh(e[h+1],i)),e[a+1]=wk(e[a+1],i)}else e[i+1]=Hc(a,0),a!==0&&(e[a+1]=qh(e[a+1],i)),a=i;else e[i+1]=Hc(c,0),a===0?a=i:e[c+1]=qh(e[c+1],i),c=i;l&&(e[i+1]=Gf(e[i+1])),D0(e,u,i,!0),D0(e,u,i,!1),Ck(t,u,e,i,o),s=Hc(a,c),o?t.classBindings=s:t.styleBindings=s}function Ck(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ds(o,t)>=0&&(n[i+1]=Wf(n[i+1]))}function D0(e,t,n,i){let r=e[n+1],o=t===null,s=i?Gi(r):co(r),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];Ik(c,t)&&(a=!0,e[s+1]=i?Wf(l):Gf(l)),s=i?Gi(l):co(l)}a&&(e[n+1]=i?Gf(r):Wf(r))}function Ik(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ds(e,t)>=0:!1}var It={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Tk(e){return e.substring(It.key,It.keyEnd)}function Sk(e){return Mk(e),mE(e,_E(e,0,It.textEnd))}function mE(e,t){let n=It.textEnd;return n===t?-1:(t=It.keyEnd=Nk(e,It.key=t,n),_E(e,t,n))}function Mk(e){It.key=0,It.keyEnd=0,It.value=0,It.valueEnd=0,It.textEnd=e.length}function _E(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Nk(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function ks(e,t,n){let i=B(),r=Wi();if(nt(i,r,t)){let o=me(),s=Sl();Bp(o,s,i,e,t,i[de],n,!1)}return ks}function zf(e,t,n,i,r){jp(t,e,n,r?"class":"style",i)}function rt(e,t){return Rk(e,t,null,!0),rt}function Vl(e){Ok(Vk,Ak,e,!0)}function Ak(e,t){for(let n=Sk(t);n>=0;n=mE(t,n))up(e,Tk(t),!0)}function Rk(e,t,n,i){let r=B(),o=me(),s=wb(2);if(o.firstUpdatePass&&yE(o,e,s,i),t!==tn&&nt(r,s,t)){let a=o.data[Jn()];bE(o,a,r,r[de],e,r[s+1]=jk(t,n),i,s)}}function Ok(e,t,n,i){let r=me(),o=wb(2);r.firstUpdatePass&&yE(r,null,o,i);let s=B();if(n!==tn&&nt(s,o,n)){let a=r.data[Jn()];if(wE(a,i)&&!vE(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Jh(c,n||"")),zf(r,a,s,n,i)}else Bk(r,a,s,s[de],s[o+1],s[o+1]=Lk(e,t,n),i,o)}}function vE(e,t){return t>=e.expandoStartIndex}function yE(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[Jn()],s=vE(e,n);wE(o,i)&&t===null&&!s&&(t=!1),t=kk(r,o,t,i),Dk(r,o,t,n,s,i)}}function kk(e,t,n,i){let r=VN(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Yh(null,e,t,n,i),n=bs(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Yh(r,e,t,n,i),o===null){let c=Pk(e,t,i);c!==void 0&&Array.isArray(c)&&(c=Yh(null,e,t,c[1],i),c=bs(c,t.attrs,i),xk(e,t,i,c))}else o=Fk(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function Pk(e,t,n){let i=n?t.classBindings:t.styleBindings;if(co(i)!==0)return e[Gi(i)]}function xk(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Gi(r)]=i}function Fk(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=bs(i,s,n)}return bs(i,t.attrs,n)}function Yh(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=bs(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function bs(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),up(e,s,n?!0:t[++o]))}return e===void 0?null:e}function Lk(e,t,n){if(n==null||n==="")return qe;let i=[],r=gt(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function Vk(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&up(e,i,n)}function Bk(e,t,n,i,r,o,s,a){r===tn&&(r=qe);let c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0,g=null,y;u===d?(c+=2,l+=2,h!==f&&(g=d,y=f)):d===null||u!==null&&u<d?(c+=2,g=u):(l+=2,g=d,y=f),g!==null&&bE(e,t,n,i,g,y,s,a),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}function bE(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=Ek(l)?C0(c,t,n,r,co(l),s):void 0;if(!gl(u)){gl(o)||bk(l)&&(o=C0(c,null,n,r,a,s));let d=lb(Jn(),n);WR(i,s,d,r,o)}}function C0(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let c=e[r],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[r+1];h===tn&&(h=d?qe:void 0);let f=d?Vh(h,i):u===i?h:void 0;if(l&&!gl(f)&&(f=Vh(c,i)),gl(f)&&(a=f,s))return a;let g=e[r+1];r=s?Gi(g):co(g)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Vh(c,i))}return a}function gl(e){return e!==void 0}function jk(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ye(gt(e)))),e}function wE(e,t){return(e.flags&(t?8:16))!==0}var qf=class{destroy(t){}updateValue(t,n){}swap(t,n){let i=Math.min(t,n),r=Math.max(t,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(t,n){this.attach(n,this.detach(t))}};function Kh(e,t,n,i,r){return e===n&&Object.is(t,i)?1:Object.is(r(e,t),r(n,i))?-1:0}function Uk(e,t,n){let i,r,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=s&&o<=c;){let l=e.at(o),u=t[o],d=Kh(o,l,o,u,n);if(d!==0){d<0&&e.updateValue(o,u),o++;continue}let h=e.at(s),f=t[c],g=Kh(s,h,c,f,n);if(g!==0){g<0&&e.updateValue(s,f),s--,c--;continue}let y=n(o,l),D=n(s,h),O=n(o,u);if(Object.is(O,D)){let Fe=n(c,f);Object.is(Fe,y)?(e.swap(o,s),e.updateValue(s,f),c--,s--):e.move(s,o),e.updateValue(o,u),o++;continue}if(i??=new ml,r??=T0(e,o,s,n),Yf(e,i,o,O))e.updateValue(o,u),o++,s++;else if(r.has(O))i.set(y,e.detach(o)),s--;else{let Fe=e.create(o,t[o]);e.attach(o,Fe),o++,s++}}for(;o<=c;)I0(e,i,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=e.at(o),d=l.value,h=Kh(o,u,o,d,n);if(h!==0)h<0&&e.updateValue(o,d),o++,l=c.next();else{i??=new ml,r??=T0(e,o,s,n);let f=n(o,d);if(Yf(e,i,o,f))e.updateValue(o,d),o++,s++,l=c.next();else if(!r.has(f))e.attach(o,e.create(o,d)),o++,s++,l=c.next();else{let g=n(o,u);i.set(g,e.detach(o)),s--}}}for(;!l.done;)I0(e,i,n,e.length,l.value),l=c.next()}for(;o<=s;)e.destroy(e.detach(s--));i?.forEach(c=>{e.destroy(c)})}function Yf(e,t,n,i){return t!==void 0&&t.has(i)?(e.attach(n,t.get(i)),t.delete(i),!0):!1}function I0(e,t,n,i,r){if(Yf(e,t,i,n(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function T0(e,t,n,i){let r=new Set;for(let o=t;o<=n;o++)r.add(i(o,e.at(o)));return r}var ml=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,n)}}};function Xp(e,t){Yi("NgControlFlow");let n=B(),i=Wi(),r=n[i]!==tn?n[i]:-1,o=r!==-1?_l(n,Be+r):void 0,s=0;if(nt(n,i,e)){let a=V(null);try{if(o!==void 0&&Kw(o,s),e!==-1){let c=Be+e,l=_l(n,c),u=Jf(n[k],c),d=oo(l,u.tView.ssrId),h=As(n,u,t,{dehydratedView:d});Rs(l,h,s,ro(u,d))}}finally{V(a)}}else if(o!==void 0){let a=Yw(o,s);a!==void 0&&(a[we]=t)}}var Kf=class{lContainer;$implicit;$index;constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-Oe}};function EE(e,t){return t}var Zf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}};function DE(e,t,n,i,r,o,s,a,c,l,u,d,h){Yi("NgControlFlow");let f=B(),g=me(),y=c!==void 0,D=B(),O=a?s.bind(D[tt][we]):s,Fe=new Zf(y,O);D[Be+e]=Fe,pl(f,g,e+1,t,n,i,r,io(g.consts,o)),y&&pl(f,g,e+2,c,l,u,d,io(g.consts,h))}var Qf=class extends qf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-Oe}at(t){return this.getLView(t)[we].$implicit}attach(t,n){let i=n[eo];this.needsIndexUpdate||=t!==this.length,Rs(this.lContainer,n,t,ro(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,Hk(this.lContainer,t)}create(t,n){let i=oo(this.lContainer,this.templateTNode.tView.ssrId),r=As(this.hostLView,this.templateTNode,new Kf(this.lContainer,n,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){Ol(t[k],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[we].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[we].$index=t}getLView(t){return $k(this.lContainer,t)}};function CE(e){let t=V(null),n=Jn();try{let i=B(),r=i[k],o=i[n],s=n+1,a=_l(i,s);if(o.liveCollection===void 0){let l=Jf(r,s);o.liveCollection=new Qf(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(Uk(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Wi(),u=c.length===0;if(nt(i,l,u)){let d=n+2,h=_l(i,d);if(u){let f=Jf(r,d),g=oo(h,f.tView.ssrId),y=As(i,f,void 0,{dehydratedView:g});Rs(h,y,0,ro(f,g))}else Kw(h,0)}}}finally{V(t)}}function _l(e,t){return e[t]}function Hk(e,t){return vs(e,t)}function $k(e,t){return Yw(e,t)}function Jf(e,t){return fp(e,t)}function ot(e,t,n,i){let r=B(),o=me(),s=Be+e,a=r[de],c=o.firstCreatePass?tE(s,o,r,t,kw,fb(),n,i):o.data[s],l=Gk(o,r,c,a,t,e);r[s]=l;let u=hp(c);return Ts(c,!0),Sw(a,l,c),!$p(c)&&wp()&&Wp(o,r,l,c),(SN()===0||u)&&Ss(l,r),MN(),u&&(Vp(o,r,c),lw(o,c,r)),i!==null&&Ow(r,c),ot}function st(){let e=je();vb()?yb():(e=e.parent,Ts(e,!1));let t=e;AN(t)&&RN(),NN();let n=me();return n.firstCreatePass&&nE(n,t),t.classesWithoutHost!=null&&WN(t)&&zf(n,t,B(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&zN(t)&&zf(n,t,B(),t.stylesWithoutHost,!1),st}function Rn(e,t,n,i){return ot(e,t,n,i),st(),Rn}var Gk=(e,t,n,i,r,o)=>(Ep(!0),Iw(i,r,HN()));function IE(){return B()}function Ps(e,t,n){let i=B(),r=Wi();if(nt(i,r,t)){let o=me(),s=Sl();Bp(o,s,i,e,t,i[de],n,!0)}return Ps}var vl="en-US";var Wk=vl;function zk(e){typeof e=="string"&&(Wk=e.toLowerCase().replace(/_/g,"-"))}function S0(e,t,n){return function i(r){if(r===Function)return n;let o=uo(e)?Yt(e.index,t):t;qp(o,5);let s=t[we],a=M0(t,s,n,r),c=i.__ngNextListenerFn__;for(;c;)a=M0(t,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function M0(e,t,n,i){let r=V(null);try{return ie(6,t,n),n(i)!==!1}catch(o){return qk(e,o),!1}finally{ie(7,t,n),V(r)}}function qk(e,t){let n=e[to],i=n?n.get(Kt,null):null;i&&i.handleError(t)}function N0(e,t,n,i,r,o){let s=t[n],a=t[k],l=a.data[n].outputs[i],u=s[l],d=a.firstCreatePass?mp(a):null,h=gp(t),f=u.subscribe(o),g=h.length;h.push(o,f),d&&d.push(r,e.index,g,-(g+1))}var Yk=(e,t,n)=>{};function At(e,t,n,i){let r=B(),o=me(),s=je();return TE(o,r,r[de],s,e,t,i),At}function Kk(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[el],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function TE(e,t,n,i,r,o,s){let a=hp(i),l=e.firstCreatePass?mp(e):null,u=gp(t),d=!0;if(i.type&3||s){let h=en(i,t),f=s?s(h):h,g=u.length,y=s?O=>s(qt(O[i.index])):i.index,D=null;if(!s&&a&&(D=Kk(e,t,r,i.index)),D!==null){let O=D.__ngLastListenerFn__||D;O.__ngNextListenerFn__=o,D.__ngLastListenerFn__=o,d=!1}else{o=S0(i,t,o),Yk(f,r,o);let O=n.listen(f,r,o);u.push(o,O),l&&l.push(r,y,g,g+1)}}else o=S0(i,t,o);if(d){let h=i.outputs?.[r],f=i.hostDirectiveOutputs?.[r];if(f&&f.length)for(let g=0;g<f.length;g+=2){let y=f[g],D=f[g+1];N0(i,t,y,D,r,o)}if(h&&h.length)for(let g of h)N0(i,t,g,r,r,o)}}function Zi(e=1){return jN(e)}function Zk(e,t){let n=null,i=rR(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?Cw(e,o,!0):aR(i,o))return r}return n}function eg(e){let t=B()[tt][Ze];if(!t.projection){let n=e?e.length:1,i=t.projection=tN(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?Zk(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function tg(e,t=0,n,i,r,o){let s=B(),a=me(),c=i?e+1:null;c!==null&&pl(s,a,c,i,r,o,null,n);let l=xl(a,Be+e,16,null,n||null);l.projection===null&&(l.projection=t),yb();let d=!s[eo]||pb();s[tt][Ze].projection[l.projection]===null&&c!==null?Qk(s,a,c):d&&!$p(l)&&$R(a,s,l)}function Qk(e,t,n){let i=Be+n,r=t.data[i],o=e[i],s=oo(o,r.tView.ssrId),a=As(e,r,void 0,{dehydratedView:s});Rs(o,a,0,ro(r,s))}function go(e,t,n,i){zO(e,t,n,i)}function ng(e,t,n){WO(e,t,n)}function ni(e){let t=B(),n=me(),i=Eb();vp(i+1);let r=Yp(n,i);if(e.dirty&&EN(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=KO(t,i);e.reset(o,gA),e.notifyOnChanges()}return!0}return!1}function ii(){return GO(B(),Eb())}function SE(e){let t=kN();return wN(t,Be+e)}function Bl(e,t=""){let n=B(),i=me(),r=e+Be,o=i.firstCreatePass?xl(i,r,1,t,null):i.data[r],s=Jk(i,n,o,t,e);n[r]=s,wp()&&Wp(i,n,s,o),Ts(o,!1)}var Jk=(e,t,n,i,r)=>(Ep(!0),dR(t[de],i));function ig(e){return rg("",e,""),ig}function rg(e,t,n){let i=B(),r=yk(i,e,t,n);return r!==tn&&Xk(i,Jn(),r),rg}function Xk(e,t,n){let i=lb(t,e);hR(e[de],i,n)}function eP(e,t,n){Kb(t)&&(t=t());let i=B(),r=Wi();if(nt(i,r,t)){let o=me(),s=Sl();Bp(o,s,i,e,t,i[de],n,!1)}return eP}function r6(e,t){let n=Kb(e);return n&&e.set(t),n}function tP(e,t){let n=B(),i=me(),r=je();return TE(i,n,n[de],r,e,t),tP}function nP(e,t,n){let i=me();if(i.firstCreatePass){let r=zt(e);Xf(n,i.data,i.blueprint,r,!0),Xf(t,i.data,i.blueprint,r,!1)}}function Xf(e,t,n,i,r){if(e=Ve(e),Array.isArray(e))for(let o=0;o<e.length;o++)Xf(e[o],t,n,i,r);else{let o=me(),s=B(),a=je(),c=Xr(e)?e:Ve(e.provide),l=X0(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Xr(e)||!e.multi){let f=new Ui(l,r,R),g=Qh(c,t,r?u:u+h,d);g===-1?(df(sl(a,s),o,c),Zh(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Qh(c,t,u+h,d),g=Qh(c,t,u,u+h),y=f>=0&&n[f],D=g>=0&&n[g];if(r&&!D||!r&&!y){df(sl(a,s),o,c);let O=oP(r?rP:iP,n.length,r,i,l);!r&&D&&(n[g].providerFactory=O),Zh(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=ME(n[r?g:f],l,!r&&i);Zh(o,e,f>-1?f:g,O)}!r&&i&&D&&n[g].componentProviders++}}}function Zh(e,t,n,i){let r=Xr(t),o=uN(t);if(r||o){let c=(o?Ve(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function ME(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qh(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function iP(e,t,n,i){return ep(this.multi,[])}function rP(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=_s(n,n[k],this.providerFactory.index,i);o=a.slice(0,s),ep(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ep(r,o);return o}function ep(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function oP(e,t,n,i,r){let o=new Ui(e,n,R);return o.multi=[],o.index=t,o.componentProviders=0,ME(o,r,i&&!n),o}function ri(e,t=[]){return n=>{n.providersResolver=(i,r)=>nP(i,r?r(e):e,t)}}function NE(e,t,n,i){return cP(B(),_p(),e,t,n,i)}function sP(e,t,n,i,r){return lP(B(),_p(),e,t,n,i,r)}function aP(e,t,n,i,r,o){return uP(B(),_p(),e,t,n,i,r,o)}function og(e,t){let n=e[t];return n===tn?void 0:n}function cP(e,t,n,i,r,o){let s=t+n;return nt(e,s,r)?Zp(e,s+1,o?i.call(o,r):i(r)):og(e,s+1)}function lP(e,t,n,i,r,o,s){let a=t+n;return dE(e,a,r,o)?Zp(e,a+2,s?i.call(s,r,o):i(r,o)):og(e,a+2)}function uP(e,t,n,i,r,o,s,a){let c=t+n;return uk(e,c,r,o,s)?Zp(e,c+3,a?i.call(a,r,o,s):i(r,o,s)):og(e,c+3)}function AE(e,t){return Pl(e,t)}var Qn=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},RE=new Qn("19.2.6"),tp=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},jl=(()=>{class e{compileModuleSync(n){return new Hf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=K0(n),o=Ew(r.declarations).reduce((s,a)=>{let c=Zn(a);return c&&s.push(new $i(c)),s},[]);return new tp(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dP=(()=>{class e{zone=m(G);changeDetectionScheduler=m(Hi);applicationRef=m(Qt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hP({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new G(L(v({},fP()),{scheduleInRootZone:n})),[{provide:G,useFactory:e},{provide:Jr,multi:!0,useFactory:()=>{let i=m(dP,{optional:!0});return()=>i.initialize()}},{provide:Jr,multi:!0,useFactory:()=>{let i=m(pP);return()=>{i.initialize()}}},t===!0?{provide:Gb,useValue:!0}:[],{provide:Wb,useValue:n??$b}]}function fP(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var pP=(()=>{class e{subscription=new ue;initialized=!1;zone=m(G);pendingTasks=m(zi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{G.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{G.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var gP=(()=>{class e{appRef=m(Qt);taskService=m(zi);ngZone=m(G);zonelessEnabled=m(Cp);tracing=m(fo,{optional:!0});disableScheduling=m(Gb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(cl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Wb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?n0:zb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(cl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,n0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mP(){return typeof $localize<"u"&&$localize.locale||vl}var Ul=new E("",{providedIn:"root",factory:()=>m(Ul,j.Optional|j.SkipSelf)||mP()});var np=new E(""),_P=new E("");function us(e){return!e.moduleRef}function vP(e){let t=us(e)?e.r3Injector:e.moduleRef.injector,n=t.get(G);return n.run(()=>{us(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(Kt,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),us(e)){let o=()=>t.destroy(),s=e.platformInjector.get(np);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(np);s.add(o),e.moduleRef.onDestroy(()=>{qc(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return bP(i,n,()=>{let o=t.get(gE);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Ul,vl);if(zk(s||vl),!t.get(_P,!0))return us(e)?t.get(Qt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(us(e)){let c=t.get(Qt);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return yP(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function yP(e,t){let n=e.injector.get(Qt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new w(-403,!1);t.push(e)}function bP(e,t,n){try{let i=n();return Ki(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var Yc=null;function wP(e=[],t){return se.create({name:t,providers:[{provide:El,useValue:"platform"},{provide:np,useValue:new Set([()=>Yc=null])},...e]})}function EP(e=[]){if(Yc)return Yc;let t=wP(e);return Yc=t,gk(),DP(t),t}function DP(e){let t=e.get(Mp,null);Pe(e,()=>{t?.forEach(n=>n())})}function sg(){return!1}var Rt=(()=>{class e{static __NG_ELEMENT_ID__=CP}return e})();function CP(e){return IP(je(),B(),(e&16)===16)}function IP(e,t,n){if(uo(e)&&!n){let i=Yt(e.index,t);return new ys(i,i)}else if(e.type&175){let i=t[tt];return new ys(i,t)}return null}var ip=class{constructor(){}supports(t){return uE(t)}create(t){return new rp(t)}},TP=(e,t)=>t,rp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||TP}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<A0(i,r,o)?n:i,a=A0(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!uE(t))throw new w(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,ck(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new op(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new yl),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},op=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},sp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},yl=class{map=new Map;put(t){let n=t.trackById,i=this.map.get(n);i||(i=new sp,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function A0(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function R0(){return new ag([new ip])}var ag=(()=>{class e{factories;static \u0275prov=b({token:e,providedIn:"root",factory:R0});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||R0()),deps:[[e,new JM,new Ke]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new w(901,!1)}}return e})();function OE(e){ie(8);try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=EP(i),o=[hP({}),{provide:Hi,useExisting:gP},...n||[]],s=new fl({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return vP({r3Injector:s.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ie(9)}}function oi(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ot(e){return ph(e)}function Qi(e,t){return uh(e,t?.equal)}var O0=class{[dt];constructor(t){this[dt]=t}destroy(){this[dt].destroy()}};function Hl(e,t){let n=Zn(e),i=t.elementInjector||Dl();return new $i(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function kE(e){let t=Zn(e);if(!t)return null;let n=new $i(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var le=new E("");var FE=null;function _t(){return FE}function cg(e){FE??=e}var xs=class{},Fs=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(LE),providedIn:"platform"})}return e})(),lg=new E(""),LE=(()=>{class e extends Fs{_location;_history;_doc=m(le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _t().getBaseHref(this._doc)}onPopState(n){let i=_t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=_t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function $l(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function PE(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function kt(e){return e&&e[0]!=="?"?`?${e}`:e}var Pt=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(Wl),providedIn:"root"})}return e})(),Gl=new E(""),Wl=(()=>{class e extends Pt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??m(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return $l(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+kt(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+kt(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+kt(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(T(Fs),T(Gl,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),si=(()=>{class e{_subject=new q;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=NP(PE(xE(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+kt(i))}normalize(n){return e.stripTrailingSlash(MP(this._basePath,xE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kt(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=kt;static joinWithSlash=$l;static stripTrailingSlash=PE;static \u0275fac=function(i){return new(i||e)(T(Pt))};static \u0275prov=b({token:e,factory:()=>SP(),providedIn:"root"})}return e})();function SP(){return new si(T(Pt))}function MP(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function xE(e){return e.replace(/\/index.html$/,"")}function NP(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var dg=(()=>{class e extends Pt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=$l(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+kt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+kt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||e)(T(Fs),T(Gl,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();var ug=/\s+/,VE=[],AP=(()=>{class e{_ngEl;_renderer;initialClasses=VE;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(ug):VE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(ug):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(ug).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(R(_e),R(ti))};static \u0275dir=Z({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var zl=class{$implicit;ngForOf;index;count;constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},UE=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new zl(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),BE(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);BE(o,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(R(nn),R(St),R(ag))};static \u0275dir=Z({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function BE(e,t){e.context.$implicit=t.item}var RP=(()=>{class e{_viewContainer;_context=new ql;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){jE(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){jE(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||e)(R(nn),R(St))};static \u0275dir=Z({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),ql=class{$implicit=null;ngIf=null};function jE(e,t){if(e&&!e.createEmbeddedView)throw new w(2020,!1)}var Yl=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||e)(R(nn))};static \u0275dir=Z({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Qe]})}return e})();var HE=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=X({type:e});static \u0275inj=J({})}return e})();function hg(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var fg="browser",$E="server";function Kl(e){return e===$E}var Ls=class{};var GE=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new pg(m(le),window)})}return e})(),pg=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=BP(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function BP(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Jl=new E(""),vg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new w(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||e)(T(Jl),T(G))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Vs=class{_doc;constructor(t){this._doc=t}manager},Zl="ng-app-id";function WE(e){for(let t of e)t.remove()}function zE(e,t){let n=t.createElement("style");return n.textContent=e,n}function UP(e,t,n,i){let r=e.head?.querySelectorAll(`style[${Zl}="${t}"],link[${Zl}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Zl),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function mg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var yg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.isServer=Kl(o),UP(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,zE);i?.forEach(r=>this.addUsage(r,this.external,mg))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(WE(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])WE(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,zE(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,mg(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Zl,this.appId),n.appendChild(i)}static \u0275fac=function(i){return new(i||e)(T(le),T(Sp),T(Np,8),T(Mn))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),gg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bg=/%COMP%/g;var YE="%COMP%",HP=`_nghost-${YE}`,$P=`_ngcontent-${YE}`,GP=!0,WP=new E("",{providedIn:"root",factory:()=>GP});function zP(e){return $P.replace(bg,e)}function qP(e){return HP.replace(bg,e)}function KE(e,t){return t.map(n=>n.replace(bg,e))}var wg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Kl(a),this.defaultRenderer=new Bs(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zt.ShadowDom&&(i=L(v({},i),{encapsulation:Zt.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Ql?r.applyToHost(n):r instanceof js&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(i.encapsulation){case Zt.Emulated:o=new Ql(c,l,i,this.appId,u,s,a,d,h);break;case Zt.ShadowDom:return new _g(c,l,n,i,s,a,this.nonce,d,h);default:o=new js(c,l,i,u,s,a,d,h);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||e)(T(vg),T(yg),T(Sp),T(WP),T(le),T(Mn),T(G),T(Np),T(fo,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Bs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,i,r,o){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(gg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(qE(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(qE(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new w(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=gg[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=gg[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Cn.DashCase|Cn.Important)?t.style.setProperty(n,i,r&Cn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Cn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i,r){if(typeof t=="string"&&(t=_t().getGlobalEventTarget(this.doc,t),!t))throw new w(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,r)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function qE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var _g=class extends Bs{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,i,r,o,s,a,c,l){super(t,o,s,c,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=KE(r.id,u);for(let h of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=r.getExternalStyles?.();if(d)for(let h of d){let f=mg(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},js=class extends Bs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,i,r,o,s,a,c,l){super(t,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=l?KE(l,u):u,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ql=class extends js{contentAttr;hostAttr;constructor(t,n,i,r,o,s,a,c,l){let u=r+"-"+i.id;super(t,n,i,o,s,a,c,l,u),this.contentAttr=zP(u),this.hostAttr=qP(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}};var Xl=class e extends xs{supportsDOMEvents=!0;static makeCurrent(){cg(new e)}onAndCancel(t,n,i,r){return t.addEventListener(n,i,r),()=>{t.removeEventListener(n,i,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=YP();return n==null?null:KP(n)}resetBaseElement(){Us=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hg(document.cookie,t)}},Us=null;function YP(){return Us=Us||document.querySelector("base"),Us?Us.getAttribute("href"):null}function KP(e){return new URL(e,document.baseURI).pathname}var ZP=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),QE=(()=>{class e extends Vs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(T(le))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),ZE=["alt","control","meta","shift"],QP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},JE=(()=>{class e extends Vs{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_t().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),ZE.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(n,i){let r=QP[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),ZE.forEach(s=>{if(s!==r){let a=JP[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||e)(T(le))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function XP(e,t){return OE(v({rootComponent:e},ex(t)))}function ex(e){return{appProviders:[...ox,...e?.providers??[]],platformProviders:rx}}function tx(){Xl.makeCurrent()}function nx(){return new Kt}function ix(){return nw(document),document}var rx=[{provide:Mn,useValue:fg},{provide:Mp,useValue:tx,multi:!0},{provide:le,useFactory:ix}];var ox=[{provide:El,useValue:"root"},{provide:Kt,useFactory:nx},{provide:Jl,useClass:QE,multi:!0,deps:[le]},{provide:Jl,useClass:JE,multi:!0,deps:[le]},wg,yg,vg,{provide:so,useExisting:wg},{provide:Ls,useClass:ZP},[]];var XE=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||e)(T(le))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var sx=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=T(ax),r},providedIn:"root"})}return e})(),ax=(()=>{class e extends sx{_doc;constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case Mt.NONE:return i;case Mt.HTML:return Nn(i,"HTML")?gt(i):Op(this._doc,String(i)).toString();case Mt.STYLE:return Nn(i,"Style")?gt(i):i;case Mt.SCRIPT:if(Nn(i,"Script"))return gt(i);throw new w(5200,!1);case Mt.URL:return Nn(i,"URL")?gt(i):Al(String(i));case Mt.RESOURCE_URL:if(Nn(i,"ResourceURL"))return gt(i);throw new w(5201,!1);default:throw new w(5202,!1)}}bypassSecurityTrustHtml(n){return dw(n)}bypassSecurityTrustStyle(n){return hw(n)}bypassSecurityTrustScript(n){return fw(n)}bypassSecurityTrustUrl(n){return pw(n)}bypassSecurityTrustResourceUrl(n){return gw(n)}static \u0275fac=function(i){return new(i||e)(T(le))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var P="primary",ea=Symbol("RouteTitle"),Tg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function er(e){return new Tg(e)}function aD(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function lx(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!rn(e[n],t[n]))return!1;return!0}function rn(e,t){let n=e?Sg(e):void 0,i=t?Sg(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!cD(e[r],t[r]))return!1;return!0}function Sg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function cD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function lD(e){return e.length>0?e[e.length-1]:null}function di(e){return Nh(e)?e:Ki(e)?ae(Promise.resolve(e)):C(e)}var ux={exact:dD,subset:hD},uD={exact:dx,subset:hx,ignored:()=>!0};function eD(e,t,n){return ux[n.paths](e.root,t.root,n.matrixParams)&&uD[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function dx(e,t){return rn(e,t)}function dD(e,t,n){if(!Ji(e.segments,t.segments)||!nu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!dD(e.children[i],t.children[i],n))return!1;return!0}function hx(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>cD(e[n],t[n]))}function hD(e,t,n){return fD(e,t,t.segments,n)}function fD(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Ji(r,n)||t.hasChildren()||!nu(r,n,i))}else if(e.segments.length===n.length){if(!Ji(e.segments,n)||!nu(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!hD(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ji(e.segments,r)||!nu(e.segments,r,i)||!e.children[P]?!1:fD(e.children[P],t,o,i)}}function nu(e,t,n){return t.every((i,r)=>uD[n](e[r].parameters,i.parameters))}var sn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Q([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=er(this.queryParams),this._queryParamMap}toString(){return gx.serialize(this)}},Q=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iu(this)}},ai=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=er(this.parameters),this._parameterMap}toString(){return gD(this)}};function fx(e,t){return Ji(e,t)&&e.every((n,i)=>rn(n.parameters,t[i].parameters))}function Ji(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function px(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===P&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==P&&(n=n.concat(t(r,i)))}),n}var tr=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>new ci,providedIn:"root"})}return e})(),ci=class{parse(t){let n=new Ng(t);return new sn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Hs(t.root,!0)}`,i=vx(t.queryParams),r=typeof t.fragment=="string"?`#${mx(t.fragment)}`:"";return`${n}${i}${r}`}},gx=new ci;function iu(e){return e.segments.map(t=>gD(t)).join("/")}function Hs(e,t){if(!e.hasChildren())return iu(e);if(t){let n=e.children[P]?Hs(e.children[P],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==P&&i.push(`${r}:${Hs(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=px(e,(i,r)=>r===P?[Hs(e.children[P],!1)]:[`${r}:${Hs(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[P]!=null?`${iu(e)}/${n[0]}`:`${iu(e)}/(${n.join("//")})`}}function pD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(e){return pD(e).replace(/%3B/gi,";")}function mx(e){return encodeURI(e)}function Mg(e){return pD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ru(e){return decodeURIComponent(e)}function tD(e){return ru(e.replace(/\+/g,"%20"))}function gD(e){return`${Mg(e.path)}${_x(e.parameters)}`}function _x(e){return Object.entries(e).map(([t,n])=>`;${Mg(t)}=${Mg(n)}`).join("")}function vx(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${eu(n)}=${eu(r)}`).join("&"):`${eu(n)}=${eu(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var yx=/^[^\/()?;#]+/;function Eg(e){let t=e.match(yx);return t?t[0]:""}var bx=/^[^\/()?;=#]+/;function wx(e){let t=e.match(bx);return t?t[0]:""}var Ex=/^[^=?&#]+/;function Dx(e){let t=e.match(Ex);return t?t[0]:""}var Cx=/^[^&#]+/;function Ix(e){let t=e.match(Cx);return t?t[0]:""}var Ng=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[P]=new Q(t,n)),i}parseSegment(){let t=Eg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new ai(ru(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=wx(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Eg(this.remaining);r&&(i=r,this.capture(i))}t[ru(n)]=ru(i)}parseQueryParam(t){let n=Dx(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=Ix(this.remaining);s&&(i=s,this.capture(i))}let r=tD(n),o=tD(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Eg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new w(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=P);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[P]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}};function mD(e){return e.segments.length>0?new Q([],{[P]:e}):e}function _D(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=_D(r);if(i===P&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new Q(e.segments,t);return Tx(n)}function Tx(e){if(e.numberOfChildren===1&&e.children[P]){let t=e.children[P];return new Q(e.segments.concat(t.segments),t.children)}return e}function li(e){return e instanceof sn}function vD(e,t,n=null,i=null){let r=yD(e);return bD(r,t,n,i)}function yD(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=mD(i);return t??r}function bD(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return Dg(r,r,r,n,i);let o=Sx(t);if(o.toRoot())return Dg(r,r,new Q([],{}),n,i);let s=Mx(o,r,e),a=s.processChildren?Gs(s.segmentGroup,s.index,o.commands):ED(s.segmentGroup,s.index,o.commands);return Dg(r,s.segmentGroup,a,n,i)}function su(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function zs(e){return typeof e=="object"&&e!=null&&e.outlets}function Dg(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=wD(e,t,n);let a=mD(_D(s));return new sn(a,o,r)}function wD(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=wD(o,t,n)}),new Q(e.segments,i)}var au=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&su(i[0]))throw new w(4003,!1);let r=i.find(zs);if(r&&r!==lD(i))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Sx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new au(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new au(n,t,i)}var vo=class{segmentGroup;processChildren;index;constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function Mx(e,t,n){if(e.isAbsolute)return new vo(t,!0,0);if(!n)return new vo(t,!1,NaN);if(n.parent===null)return new vo(n,!0,0);let i=su(e.commands[0])?0:1,r=n.segments.length-1+i;return Nx(n,r,e.numberOfDoubleDots)}function Nx(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new w(4005,!1);r=i.segments.length}return new vo(i,!1,r-o)}function Ax(e){return zs(e[0])?e[0].outlets:{[P]:e}}function ED(e,t,n){if(e??=new Q([],{}),e.segments.length===0&&e.hasChildren())return Gs(e,t,n);let i=Rx(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new Q(e.segments.slice(0,i.pathIndex),{});return o.children[P]=new Q(e.segments.slice(i.pathIndex),e.children),Gs(o,0,r)}else return i.match&&r.length===0?new Q(e.segments,{}):i.match&&!e.hasChildren()?Ag(e,t,n):i.match?Gs(e,0,r):Ag(e,t,n)}function Gs(e,t,n){if(n.length===0)return new Q(e.segments,{});{let i=Ax(n),r={};if(Object.keys(i).some(o=>o!==P)&&e.children[P]&&e.numberOfChildren===1&&e.children[P].segments.length===0){let o=Gs(e.children[P],t,n);return new Q(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=ED(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Q(e.segments,r)}}function Rx(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(zs(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!iD(c,l,s))return o;i+=2}else{if(!iD(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Ag(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(zs(o)){let c=Ox(o.outlets);return new Q(i,c)}if(r===0&&su(n[0])){let c=e.segments[t];i.push(new ai(c.path,nD(n[0]))),r++;continue}let s=zs(o)?o.outlets[P]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&su(a)?(i.push(new ai(s,nD(a))),r+=2):(i.push(new ai(s,{})),r++)}return new Q(i,{})}function Ox(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=Ag(new Q([],{}),0,i))}),t}function nD(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function iD(e,t,n){return e==n.path&&rn(t,n.parameters)}var ou="imperative",De=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(De||{}),lt=class{id;url;constructor(t,n){this.id=t,this.url=n}},ui=class extends lt{type=De.NavigationStart;navigationTrigger;restoredState;constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vt=class extends lt{urlAfterRedirects;type=De.NavigationEnd;constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Je=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Je||{}),bo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(bo||{}),on=class extends lt{reason;code;type=De.NavigationCancel;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},an=class extends lt{reason;code;type=De.NavigationSkipped;constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r}},wo=class extends lt{error;target;type=De.NavigationError;constructor(t,n,i,r){super(t,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qs=class extends lt{urlAfterRedirects;state;type=De.RoutesRecognized;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cu=class extends lt{urlAfterRedirects;state;type=De.GuardsCheckStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lu=class extends lt{urlAfterRedirects;state;shouldActivate;type=De.GuardsCheckEnd;constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},uu=class extends lt{urlAfterRedirects;state;type=De.ResolveStart;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},du=class extends lt{urlAfterRedirects;state;type=De.ResolveEnd;constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hu=class{route;type=De.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fu=class{route;type=De.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pu=class{snapshot;type=De.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gu=class{snapshot;type=De.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mu=class{snapshot;type=De.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_u=class{snapshot;type=De.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eo=class{routerEvent;position;anchor;type=De.Scroll;constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ys=class{},Do=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function kx(e,t){return e.providers&&!e._injector&&(e._injector=Os(e.providers,t,`Route: ${e.path}`)),e._injector??t}function xt(e){return e.outlet||P}function Px(e,t){let n=e.filter(i=>xt(i)===t);return n.push(...e.filter(i=>xt(i)!==t)),n}function ta(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ta(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new nr(this.rootInjector)}},nr=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new vu(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||e)(T(Ee))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Rg(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=Rg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Og(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Og(t,this._root).map(n=>n.value)}};function Rg(e,t){if(e===t.value)return t;for(let n of t.children){let i=Rg(e,n);if(i)return i}return null}function Og(e,t){if(e===t.value)return[t];for(let n of t.children){let i=Og(e,n);if(i.length)return i.unshift(t),i}return[]}var ct=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function _o(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ks=class extends yu{snapshot;constructor(t,n){super(t),this.snapshot=n,jg(this,t)}toString(){return this.snapshot.toString()}};function DD(e){let t=xx(e),n=new Ie([new ai("",{})]),i=new Ie({}),r=new Ie({}),o=new Ie({}),s=new Ie(""),a=new cn(n,i,o,s,r,P,e,t.root);return a.snapshot=t.root,new Ks(new ct(a,[]),t)}function xx(e){let t={},n={},i={},r="",o=new Xi([],t,i,r,n,P,e,null,{});return new Zs("",new ct(o,[]))}var cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(l=>l[ea]))??C(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(t=>er(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(t=>er(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bu(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),r?.data),e._resolvedData)}:i={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},r&&ID(r)&&(i.resolve[ea]=r.title),i}var Xi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ea]}constructor(t,n,i,r,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=er(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=er(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Zs=class extends yu{url;constructor(t,n){super(n),this.url=t,jg(this,n)}toString(){return CD(this._root)}};function jg(e,t){t.value._routerState=e,t.children.forEach(n=>jg(e,n))}function CD(e){let t=e.children.length>0?` { ${e.children.map(CD).join(", ")} } `:"";return`${e.value}${t}`}function Cg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,rn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),rn(t.params,n.params)||e.paramsSubject.next(n.params),lx(t.url,n.url)||e.urlSubject.next(n.url),rn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function kg(e,t){let n=rn(e.params,t.params)&&fx(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||kg(e.parent,t.parent))}function ID(e){return typeof e.title=="string"||e.title===null}var TD=new E(""),Ug=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=P;activateEvents=new Y;deactivateEvents=new Y;attachEvents=new Y;detachEvents=new Y;routerOutletData=Yb(void 0);parentContexts=m(nr);location=m(nn);changeDetector=m(Rt);inputBinder=m(na,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Pg(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Z({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Qe]})}return e})(),Pg=class{route;childContexts;parent;outletData;constructor(t,n,i,r){this.route=t,this.childContexts=n,this.parent=i,this.outletData=r}get(t,n){return t===cn?this.route:t===nr?this.childContexts:t===TD?this.outletData:this.parent.get(t,n)}},na=new E(""),Hg=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=jr([i.queryParams,i.params,i.data]).pipe(ze(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?C(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=kE(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function Fx(e,t,n){let i=Qs(e,t._root,n?n._root:void 0);return new Ks(i,t)}function Qs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=Lx(e,t,n);return new ct(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Qs(e,a)),s}}let i=Vx(t.value),r=t.children.map(o=>Qs(e,o));return new ct(i,r)}}function Lx(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Qs(e,i,r);return Qs(e,i)})}function Vx(e){return new cn(new Ie(e.url),new Ie(e.params),new Ie(e.queryParams),new Ie(e.fragment),new Ie(e.data),e.outlet,e.component,e)}var Co=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},SD="ngNavigationCancelingError";function wu(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=li(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=MD(!1,Je.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function MD(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[SD]=!0,n.cancellationCode=t,n}function Bx(e){return ND(e)&&li(e.url)}function ND(e){return!!e&&e[SD]}var jx=(e,t,n,i)=>H(r=>(new xg(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),xg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Cg(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=_o(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=_o(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=_o(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=_o(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new _u(o.value.snapshot))}),t.children.length&&this.forwardEvent(new gu(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(Cg(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cg(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Eu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},yo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Ux(e,t,n){let i=e._root,r=t?t._root:null;return $s(i,r,n,[i.value])}function Hx(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function To(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!V0(e)?e:t.get(e):i}function $s(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=_o(t);return e.children.forEach(s=>{$x(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ws(a,n.getContext(s),r)),r}function $x(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Gx(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Eu(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$s(e,t,a?a.children:null,i,r):$s(e,t,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new yo(a.outlet.component,s))}else s&&Ws(t,a,r),r.canActivateChecks.push(new Eu(i)),o.component?$s(e,null,a?a.children:null,i,r):$s(e,null,n,i,r);return r}function Gx(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ji(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ji(e.url,t.url)||!rn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kg(e,t)||!rn(e.queryParams,t.queryParams);case"paramsChange":default:return!kg(e,t)}}function Ws(e,t,n){let i=_o(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?Ws(s,t.children.getContext(o),n):Ws(s,null,n):Ws(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new yo(t.outlet.component,r)):n.canDeactivateChecks.push(new yo(null,r)):n.canDeactivateChecks.push(new yo(null,r))}function ia(e){return typeof e=="function"}function Wx(e){return typeof e=="boolean"}function zx(e){return e&&ia(e.canLoad)}function qx(e){return e&&ia(e.canActivate)}function Yx(e){return e&&ia(e.canActivateChild)}function Kx(e){return e&&ia(e.canDeactivate)}function Zx(e){return e&&ia(e.canMatch)}function AD(e){return e instanceof vn||e?.name==="EmptyError"}var tu=Symbol("INITIAL_VALUE");function Io(){return ze(e=>jr(e.map(t=>t.pipe(Le(1),ls(tu)))).pipe(H(t=>{for(let n of t)if(n!==!0){if(n===tu)return tu;if(n===!1||Qx(n))return n}return!0}),ge(t=>t!==tu),Le(1)))}function Qx(e){return li(e)||e instanceof Co}function Jx(e,t){return ce(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?C(L(v({},n),{guardsResult:!0})):Xx(s,i,r,e).pipe(ce(a=>a&&Wx(a)?eF(i,o,e,t):C(a)),H(a=>L(v({},n),{guardsResult:a})))})}function Xx(e,t,n,i){return ae(e).pipe(ce(r=>oF(r.component,r.route,n,t,i)),bn(r=>r!==!0,!0))}function eF(e,t,n,i){return ae(t).pipe(zn(r=>Wn(nF(r.route.parent,i),tF(r.route,i),rF(e,r.path,n),iF(e,r.route,n))),bn(r=>r!==!0,!0))}function tF(e,t){return e!==null&&t&&t(new mu(e)),C(!0)}function nF(e,t){return e!==null&&t&&t(new pu(e)),C(!0)}function iF(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(o=>Pc(()=>{let s=ta(t)??n,a=To(o,s),c=qx(a)?a.canActivate(t,e):Pe(s,()=>a(t,e));return di(c).pipe(bn())}));return C(r).pipe(Io())}function rF(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Hx(s)).filter(s=>s!==null).map(s=>Pc(()=>{let a=s.guards.map(c=>{let l=ta(s.node)??n,u=To(c,l),d=Yx(u)?u.canActivateChild(i,e):Pe(l,()=>u(i,e));return di(d).pipe(bn())});return C(a).pipe(Io())}));return C(o).pipe(Io())}function oF(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return C(!0);let s=o.map(a=>{let c=ta(t)??r,l=To(a,c),u=Kx(l)?l.canDeactivate(e,t,n,i):Pe(c,()=>l(e,t,n,i));return di(u).pipe(bn())});return C(s).pipe(Io())}function sF(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return C(!0);let o=r.map(s=>{let a=To(s,e),c=zx(a)?a.canLoad(t,n):Pe(e,()=>a(t,n));return di(c)});return C(o).pipe(Io(),RD(i))}function RD(e){return wh(be(t=>{if(typeof t!="boolean")throw wu(e,t)}),H(t=>t===!0))}function aF(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return C(!0);let o=r.map(s=>{let a=To(s,e),c=Zx(a)?a.canMatch(t,n):Pe(e,()=>a(t,n));return di(c)});return C(o).pipe(Io(),RD(i))}var Js=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Xs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function mo(e){return Vr(new Js(e))}function cF(e){return Vr(new w(4e3,!1))}function lF(e){return Vr(MD(!1,Je.GuardRejected))}var Fg=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[P])return cF(`${t.redirectTo}`);r=r.children[P]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:g,title:y}=r,D=Pe(o,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:y}));if(D instanceof sn)throw new Xs(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new Xs(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new sn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new Q(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new w(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},Lg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uF(e,t,n,i,r){let o=OD(e,t,n);return o.matched?(i=kx(t,i),aF(i,t,n,r).pipe(H(s=>s===!0?o:v({},Lg)))):C(o)}function OD(e,t,n){if(t.path==="**")return dF(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},Lg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||aD)(n,e,t);if(!r)return v({},Lg);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?v(v({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function dF(e){return{matched:!0,parameters:e.length>0?lD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function rD(e,t,n,i){return n.length>0&&pF(e,n,i)?{segmentGroup:new Q(t,fF(i,new Q(n,e.children))),slicedSegments:[]}:n.length===0&&gF(e,n,i)?{segmentGroup:new Q(e.segments,hF(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new Q(e.segments,e.children),slicedSegments:n}}function hF(e,t,n,i){let r={};for(let o of n)if(Cu(e,t,o)&&!i[xt(o)]){let s=new Q([],{});r[xt(o)]=s}return v(v({},i),r)}function fF(e,t){let n={};n[P]=t;for(let i of e)if(i.path===""&&xt(i)!==P){let r=new Q([],{});n[xt(i)]=r}return n}function pF(e,t,n){return n.some(i=>Cu(e,t,i)&&xt(i)!==P)}function gF(e,t,n){return n.some(i=>Cu(e,t,i))}function Cu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mF(e,t,n){return t.length===0&&!e.children[n]}var Vg=class{};function _F(e,t,n,i,r,o,s="emptyOnly"){return new Bg(e,t,n,i,r,s,o).recognize()}var vF=31,Bg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Fg(this.urlSerializer,this.urlTree)}noMatchError(t){return new w(4002,`'${t.segmentGroup}'`)}recognize(){let t=rD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(H(({children:n,rootSnapshot:i})=>{let r=new ct(i,n),o=new Zs("",r),s=vD(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Xi([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),P,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,P,n).pipe(H(i=>({children:i,rootSnapshot:n})),yn(i=>{if(i instanceof Xs)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Js?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(H(s=>s instanceof ct?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ae(o).pipe(zn(s=>{let a=i.children[s],c=Px(n,s);return this.processSegmentGroup(t,c,a,s,r)}),Fh((s,a)=>(s.push(...a),s)),qn(null),xh(),ce(s=>{if(s===null)return mo(i);let a=kD(s);return yF(a),C(a)}))}processSegment(t,n,i,r,o,s,a){return ae(n).pipe(zn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,i,r,o,s,a).pipe(yn(l=>{if(l instanceof Js)return C(null);throw l}))),bn(c=>!!c),yn(c=>{if(AD(c))return mF(i,r,o)?C(new Vg):mo(i);throw c}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,c){return xt(i)!==s&&(s===P||!Cu(r,o,i))?mo(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,c):mo(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=OD(n,r,o);if(!c)return mo(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vF&&(this.allowRedirects=!1));let f=new Xi(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,oD(r),xt(r),r.component??r._loadedComponent??null,r,sD(r)),g=bu(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,y).pipe(ce(D=>this.processSegment(t,i,n,D.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=uF(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(ze(c=>c.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ze(({routes:l})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new Xi(h,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,oD(i),xt(i),i.component??i._loadedComponent??null,i,sD(i)),y=bu(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:D,slicedSegments:O}=rD(n,h,f,l);if(O.length===0&&D.hasChildren())return this.processChildren(u,l,D,g).pipe(H(ut=>new ct(g,ut)));if(l.length===0&&O.length===0)return C(new ct(g,[]));let Fe=xt(i)===o;return this.processSegment(u,l,D,O,Fe?P:o,!0,g).pipe(H(ut=>new ct(g,ut instanceof ct?[ut]:[])))}))):mo(n)))}getChildConfig(t,n,i){return n.children?C({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?C({routes:n._loadedRoutes,injector:n._loadedInjector}):sF(t,n,i,this.urlSerializer).pipe(ce(r=>r?this.configLoader.loadChildren(t,n).pipe(be(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):lF(n))):C({routes:[],injector:t})}};function yF(e){e.sort((t,n)=>t.value.outlet===P?-1:n.value.outlet===P?1:t.value.outlet.localeCompare(n.value.outlet))}function bF(e){let t=e.value.routeConfig;return t&&t.path===""}function kD(e){let t=[],n=new Set;for(let i of e){if(!bF(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=kD(i.children);t.push(new ct(i.value,r))}return t.filter(i=>!n.has(i))}function oD(e){return e.data||{}}function sD(e){return e.resolve||{}}function wF(e,t,n,i,r,o){return ce(s=>_F(e,t,n,i,s.extractedUrl,r,o).pipe(H(({state:a,tree:c})=>L(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function EF(e,t){return ce(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return C(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of PD(c))s.add(l);let a=0;return ae(s).pipe(zn(c=>o.has(c)?DF(c,i,e,t):(c.data=bu(c,c.parent,e).resolve,C(void 0))),be(()=>a++),$r(1),ce(c=>a===s.size?C(n):Te))})}function PD(e){let t=e.children.map(n=>PD(n)).flat();return[e,...t]}function DF(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!ID(r)&&(o[ea]=r.title),CF(o,e,t,i).pipe(H(s=>(e._resolvedData=s,e.data=bu(e,e.parent,n).resolve,null)))}function CF(e,t,n,i){let r=Sg(e);if(r.length===0)return C({});let o={};return ae(r).pipe(ce(s=>IF(e[s],t,n,i).pipe(bn(),be(a=>{if(a instanceof Co)throw wu(new ci,a);o[s]=a}))),$r(1),H(()=>o),yn(s=>AD(s)?Te:Vr(s)))}function IF(e,t,n,i){let r=ta(t)??i,o=To(e,r),s=o.resolve?o.resolve(t,n):Pe(r,()=>o(t,n));return di(s)}function Ig(e){return ze(t=>{let n=e(t);return n?ae(n).pipe(H(()=>t)):C(t)})}var $g=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===P);return i}getResolvedTitleForRoute(n){return n.data[ea]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(xD),providedIn:"root"})}return e})(),xD=(()=>{class e extends $g{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(T(XE))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ir=new E("",{providedIn:"root",factory:()=>({})}),Gg=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=Nt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&Rn(0,"router-outlet")},dependencies:[Ug],encapsulation:2})}return e})();function Wg(e){let t=e.children&&e.children.map(Wg),n=t?L(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=Gg),n}var rr=new E(""),Iu=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(jl);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return C(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=di(n.loadComponent()).pipe(H(LD),be(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Hr(()=>{this.componentLoaders.delete(n)})),r=new kr(i,()=>new q).pipe(Or());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return C({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=FD(i,this.compiler,n,this.onLoadEndListener).pipe(Hr(()=>{this.childrenLoaders.delete(i)})),s=new kr(o,()=>new q).pipe(Or());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FD(e,t,n,i){return di(e.loadChildren()).pipe(H(LD),ce(r=>r instanceof Kp||Array.isArray(r)?C(r):ae(t.compileModuleAsync(r))),H(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(rr,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wg),injector:o}}))}function TF(e){return e&&typeof e=="object"&&"default"in e}function LD(e){return TF(e)?e.default:e}var Tu=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(SF),providedIn:"root"})}return e})(),SF=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zg=new E(""),qg=new E("");function VD(e,t,n){let i=e.get(qg),r=e.get(le);return e.get(G).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),MF(e))),{onViewTransitionCreated:c}=i;return c&&Pe(e,()=>c({transition:a,from:t,to:n})),s})}function MF(e){return new Promise(t=>{Rp({read:()=>setTimeout(t)},{injector:e})})}var Yg=new E(""),Su=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new q;transitionAbortSubject=new q;configLoader=m(Iu);environmentInjector=m(Ee);destroyRef=m(Sn);urlSerializer=m(tr);rootContexts=m(nr);location=m(si);inputBindingEnabled=m(na,{optional:!0})!==null;titleStrategy=m($g);options=m(ir,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(Tu);createViewTransition=m(zg,{optional:!0});navigationErrorHandler=m(Yg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>C(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new hu(r)),i=r=>this.events.next(new fu(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(L(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(n){return this.transitions=new Ie(null),this.transitions.pipe(ge(i=>i!==null),ze(i=>{let r=!1,o=!1;return C(i).pipe(ze(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Je.SupersededByNewNavigation),Te;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?L(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new an(s.id,this.urlSerializer.serialize(s.rawUrl),l,bo.IgnoredSameUrlNavigation)),s.resolve(!1),Te}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return C(s).pipe(ze(l=>(this.events.next(new ui(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Te:Promise.resolve(l))),wF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),be(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=L(v({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new qs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:d,restoredState:h,extras:f}=s,g=new ui(l,this.urlSerializer.serialize(u),d,h);this.events.next(g);let y=DD(this.rootComponentType).snapshot;return this.currentTransition=i=L(v({},s),{targetSnapshot:y,urlAfterRedirects:u,extras:L(v({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,C(i)}else{let l="";return this.events.next(new an(s.id,this.urlSerializer.serialize(s.extractedUrl),l,bo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Te}}),be(s=>{let a=new cu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),H(s=>(this.currentTransition=i=L(v({},s),{guards:Ux(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),Jx(this.environmentInjector,s=>this.events.next(s)),be(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw wu(this.urlSerializer,s.guardsResult);let a=new lu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ge(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Je.GuardRejected),!1)),Ig(s=>{if(s.guards.canActivateChecks.length!==0)return C(s).pipe(be(a=>{let c=new uu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),ze(a=>{let c=!1;return C(a).pipe(EF(this.paramsInheritanceStrategy,this.environmentInjector),be({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Je.NoDataFromResolver)}}))}),be(a=>{let c=new du(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Ig(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(be(u=>{c.component=u}),H(()=>{})));for(let u of c.children)l.push(...a(u));return l};return jr(a(s.targetSnapshot.root)).pipe(qn(null),Le(1))}),Ig(()=>this.afterPreactivation()),ze(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ae(c).pipe(H(()=>i)):C(i)}),H(s=>{let a=Fx(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=L(v({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),be(()=>{this.events.next(new Ys)}),jx(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Le(1),be({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Se(this.transitionAbortSubject.pipe(be(s=>{throw s}))),Hr(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Je.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),yn(s=>{if(this.destroyed)return i.resolve(!1),Te;if(o=!0,ND(s))this.events.next(new on(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),Bx(s)?this.events.next(new Do(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new wo(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let c=Pe(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Co){let{message:l,cancellationCode:u}=wu(this.urlSerializer,c);this.events.next(new on(i.id,this.urlSerializer.serialize(i.extractedUrl),l,u)),this.events.next(new Do(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return Te}))}))}cancelNavigationTransition(n,i,r){let o=new on(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NF(e){return e!==ou}var BD=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(AF),providedIn:"root"})}return e})(),Du=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},AF=(()=>{class e extends Du{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Xn(e)))(r||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jD=(()=>{class e{urlSerializer=m(tr);options=m(ir,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(si);urlHandlingStrategy=m(Tu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new sn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=r??o;return s instanceof sn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=DD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:()=>m(RF),providedIn:"root"})}return e})(),RF=(()=>{class e extends jD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof ui?this.updateStateMemento():n instanceof an?this.commitTransition(i):n instanceof qs?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof Ys?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof on&&(n.code===Je.GuardRejected||n.code===Je.NoDataFromResolver)?this.restoreHistory(i):n instanceof wo?this.restoreHistory(i,!0):n instanceof vt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(r,a));this.location.replaceState(n,"",c)}else{let a=v(v({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Xn(e)))(r||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Mu(e,t){e.events.pipe(ge(n=>n instanceof vt||n instanceof on||n instanceof wo||n instanceof an),H(n=>n instanceof vt||n instanceof an?0:(n instanceof on?n.code===Je.Redirect||n.code===Je.SupersededByNewNavigation:!1)?2:1),ge(n=>n!==2),Le(1)).subscribe(()=>{t()})}var OF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ln=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(Qp);stateManager=m(jD);options=m(ir,{optional:!0})||{};pendingTasks=m(zi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(Su);urlSerializer=m(tr);location=m(si);urlHandlingStrategy=m(Tu);_events=new q;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(BD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(rr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(na,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof on&&i.code!==Je.Redirect&&i.code!==Je.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof vt)this.navigated=!0;else if(i instanceof Do){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=v({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NF(r.source)},s);this.scheduleNavigation(a,ou,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}xF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ou,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=v({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Wg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=yD(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return bD(d,n,u,l??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=li(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ou,null,i)}navigate(n,i={skipLocationChange:!1}){return PF(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=v({},OF):i===!1?r=v({},kF):r=i,li(n))return eD(this.currentUrlTree,n,r);let o=this.parseUrl(n);return eD(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return Mu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function PF(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new w(4008,!1)}function xF(e){return!(e instanceof Ys)&&!(e instanceof Do)}var UD=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new q;constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof vt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(li(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:ww(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||e)(R(ln),R(cn),ei("tabindex"),R(ti),R(_e),R(Pt))};static \u0275dir=Z({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&At("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&mt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oi],replaceUrl:[2,"replaceUrl","replaceUrl",oi],routerLink:"routerLink"},features:[Qe]})}return e})();var ra=class{};var HD=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ge(n=>n instanceof vt),zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Os(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ae(r).pipe(Ur())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=C(null);let o=r.pipe(ce(s=>s===null?C(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ae([o,s]).pipe(Ur())}else return o})}static \u0275fac=function(i){return new(i||e)(T(ln),T(jl),T(Ee),T(ra),T(Iu))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$D=new E(""),FF=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof vt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof an&&n.code===bo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Eo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Eo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Jw()};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function LF(e,...t){return Xt([{provide:rr,multi:!0,useValue:e},[],{provide:cn,useFactory:GD,deps:[ln]},{provide:Ll,multi:!0,useFactory:WD},t.map(n=>n.\u0275providers)])}function GD(e){return e.routerState.root}function oa(e,t){return{\u0275kind:e,\u0275providers:t}}function WD(){let e=m(se);return t=>{let n=e.get(Qt);if(t!==n.components[0])return;let i=e.get(ln),r=e.get(zD);e.get(Zg)===1&&i.initialNavigation(),e.get(KD,null,j.Optional)?.setUpPreloading(),e.get($D,null,j.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var zD=new E("",{factory:()=>new q}),Zg=new E("",{providedIn:"root",factory:()=>1});function qD(){let e=[{provide:Zg,useValue:0},Jp(()=>{let t=m(se);return t.get(lg,Promise.resolve()).then(()=>new Promise(i=>{let r=t.get(ln),o=t.get(zD);Mu(r,()=>{i(!0)}),t.get(Su).afterPreactivation=()=>(i(!0),o.closed?C(void 0):o),r.initialNavigation()}))})];return oa(2,e)}function YD(){let e=[Jp(()=>{m(ln).setUpLocationChangeListener()}),{provide:Zg,useValue:2}];return oa(3,e)}var KD=new E("");function ZD(e){return oa(0,[{provide:KD,useExisting:HD},{provide:ra,useExisting:e}])}function QD(){return oa(8,[Hg,{provide:na,useExisting:Hg}])}function JD(e){Yi("NgRouterViewTransitions");let t=[{provide:zg,useValue:VD},{provide:qg,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return oa(9,t)}var XD=[si,{provide:tr,useClass:ci},ln,nr,{provide:cn,useFactory:GD,deps:[ln]},Iu,[]],VF=(()=>{class e{constructor(){}static forRoot(n,i){return{ngModule:e,providers:[XD,[],{provide:rr,multi:!0,useValue:n},[],i?.errorHandler?{provide:Yg,useValue:i.errorHandler}:[],{provide:ir,useValue:i||{}},i?.useHash?jF():UF(),BF(),i?.preloadingStrategy?ZD(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?HF(i):[],i?.bindToComponentInputs?QD().\u0275providers:[],i?.enableViewTransitions?JD().\u0275providers:[],$F()]}}static forChild(n){return{ngModule:e,providers:[{provide:rr,multi:!0,useValue:n}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=X({type:e});static \u0275inj=J({})}return e})();function BF(){return{provide:$D,useFactory:()=>{let e=m(GE),t=m(G),n=m(ir),i=m(Su),r=m(tr);return n.scrollOffset&&e.setOffset(n.scrollOffset),new FF(r,i,e,t,n)}}}function jF(){return{provide:Pt,useClass:dg}}function UF(){return{provide:Pt,useClass:Wl}}function HF(e){return[e.initialNavigation==="disabled"?YD().\u0275providers:[],e.initialNavigation==="enabledBlocking"?qD().\u0275providers:[]]}var Kg=new E("");function $F(){return[{provide:Kg,useFactory:WD},{provide:Ll,multi:!0,useExisting:Kg}]}var cC=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||e)(R(ti),R(_e))};static \u0275dir=Z({type:e})}return e})(),GF=(()=>{class e extends cC{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Xn(e)))(r||e)}})();static \u0275dir=Z({type:e,features:[it]})}return e})(),em=new E("");var WF={provide:em,useExisting:Jt(()=>lC),multi:!0};function zF(){let e=_t()?_t().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var qF=new E(""),lC=(()=>{class e extends cC{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!zF())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||e)(R(ti),R(_e),R(qF,8))};static \u0275dir=Z({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&At("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[ri([WF]),it]})}return e})();function tm(e){return e==null||nm(e)===0}function nm(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var da=new E(""),ju=new E(""),YF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,eC=class{static min(t){return KF(t)}static max(t){return ZF(t)}static required(t){return uC(t)}static requiredTrue(t){return QF(t)}static email(t){return JF(t)}static minLength(t){return XF(t)}static maxLength(t){return eL(t)}static pattern(t){return tL(t)}static nullValidator(t){return Au()}static compose(t){return mC(t)}static composeAsync(t){return _C(t)}};function KF(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function ZF(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function uC(e){return tm(e.value)?{required:!0}:null}function QF(e){return e.value===!0?null:{required:!0}}function JF(e){return tm(e.value)||YF.test(e.value)?null:{email:!0}}function XF(e){return t=>{let n=t.value?.length??nm(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function eL(e){return t=>{let n=t.value?.length??nm(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function tL(e){if(!e)return Au;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(tm(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Au(e){return null}function dC(e){return e!=null}function hC(e){return Ki(e)?ae(e):e}function fC(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function pC(e,t){return t.map(n=>n(e))}function nL(e){return!e.validate}function gC(e){return e.map(t=>nL(t)?t:n=>t.validate(n))}function mC(e){if(!e)return null;let t=e.filter(dC);return t.length==0?null:function(n){return fC(pC(n,t))}}function im(e){return e!=null?mC(gC(e)):null}function _C(e){if(!e)return null;let t=e.filter(dC);return t.length==0?null:function(n){let i=pC(n,t).map(hC);return Ah(i).pipe(H(fC))}}function rm(e){return e!=null?_C(gC(e)):null}function tC(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function vC(e){return e._rawValidators}function yC(e){return e._rawAsyncValidators}function Qg(e){return e?Array.isArray(e)?e:[e]:[]}function Ru(e,t){return Array.isArray(e)?e.includes(t):e===t}function nC(e,t){let n=Qg(t);return Qg(e).forEach(r=>{Ru(n,r)||n.push(r)}),n}function iC(e,t){return Qg(t).filter(n=>!Ru(e,n))}var Ou=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=im(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=rm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},On=class extends Ou{name;get formDirective(){return null}get path(){return null}},or=class extends Ou{_parent=null;name=null;valueAccessor=null},ku=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},iL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},V9=L(v({},iL),{"[class.ng-submitted]":"isSubmitted"}),B9=(()=>{class e extends ku{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(R(or,2))};static \u0275dir=Z({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&rt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[it]})}return e})(),j9=(()=>{class e extends ku{constructor(n){super(n)}static \u0275fac=function(i){return new(i||e)(R(On,10))};static \u0275dir=Z({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&rt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[it]})}return e})();var sa="VALID",Nu="INVALID",So="PENDING",aa="DISABLED",hi=class{},Pu=class extends hi{value;source;constructor(t,n){super(),this.value=t,this.source=n}},la=class extends hi{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ua=class extends hi{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Mo=class extends hi{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Jg=class extends hi{source;constructor(t){super(),this.source=t}},Xg=class extends hi{source;constructor(t){super(),this.source=t}};function bC(e){return(Uu(e)?e.validators:e)||null}function rL(e){return Array.isArray(e)?im(e):e||null}function wC(e,t){return(Uu(t)?t.asyncValidators:e)||null}function oL(e){return Array.isArray(e)?rm(e):e||null}function Uu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function sL(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new w(1e3,"");if(!i[n])throw new w(1001,"")}function aL(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new w(1002,"")})}var xu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ot(this.statusReactive)}set status(t){Ot(()=>this.statusReactive.set(t))}_status=Qi(()=>this.statusReactive());statusReactive=qi(void 0);get valid(){return this.status===sa}get invalid(){return this.status===Nu}get pending(){return this.status==So}get disabled(){return this.status===aa}get enabled(){return this.status!==aa}errors;get pristine(){return Ot(this.pristineReactive)}set pristine(t){Ot(()=>this.pristineReactive.set(t))}_pristine=Qi(()=>this.pristineReactive());pristineReactive=qi(!0);get dirty(){return!this.pristine}get touched(){return Ot(this.touchedReactive)}set touched(t){Ot(()=>this.touchedReactive.set(t))}_touched=Qi(()=>this.touchedReactive());touchedReactive=qi(!1);get untouched(){return!this.touched}_events=new q;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(nC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(iC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(iC(t,this._rawAsyncValidators))}hasValidator(t){return Ru(this._rawValidators,t)}hasAsyncValidator(t){return Ru(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(L(v({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new ua(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new ua(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(L(v({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new la(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new la(!0,i))}markAsPending(t={}){this.status=So;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Mo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(L(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=aa,this.errors=null,this._forEachChild(r=>{r.disable(L(v({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Pu(this.value,i)),this._events.next(new Mo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(L(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=sa,this._forEachChild(i=>{i.enable(L(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(L(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sa||this.status===So)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Pu(this.value,n)),this._events.next(new Mo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(L(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aa:sa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=So,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=hC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Mo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new Y,this.statusChanges=new Y}_calculateStatus(){return this._allControlsDisabled()?aa:this.errors?Nu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(So)?So:this._anyControlsHaveStatus(Nu)?Nu:sa}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new la(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ua(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Uu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=rL(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=oL(this._rawAsyncValidators)}},Fu=class extends xu{constructor(t,n,i){super(bC(n),wC(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){aL(this,!0,t),Object.keys(t).forEach(i=>{sL(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var ha=new E("",{providedIn:"root",factory:()=>Hu}),Hu="always";function EC(e,t){return[...t.path,e]}function Lu(e,t,n=Hu){om(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),lL(e,t),dL(e,t),uL(e,t),cL(e,t)}function rC(e,t,n=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Bu(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Vu(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function cL(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function om(e,t){let n=vC(e);t.validator!==null?e.setValidators(tC(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=yC(e);t.asyncValidator!==null?e.setAsyncValidators(tC(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Vu(t._rawValidators,r),Vu(t._rawAsyncValidators,r)}function Bu(e,t){let n=!1;if(e!==null){if(t.validator!==null){let r=vC(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=yC(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(n=!0,e.setAsyncValidators(o))}}}let i=()=>{};return Vu(t._rawValidators,i),Vu(t._rawAsyncValidators,i),n}function lL(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&DC(e,t)})}function uL(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&DC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function DC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dL(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function CC(e,t){e==null,om(e,t)}function hL(e,t){return Bu(e,t)}function IC(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function fL(e){return Object.getPrototypeOf(e.constructor)===GF}function TC(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function SC(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===lC?n=o:fL(o)?i=o:r=o}),r||i||n||null}function pL(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var gL={provide:On,useExisting:Jt(()=>mL)},ca=Promise.resolve(),mL=(()=>{class e extends On{callSetDisabledState;get submitted(){return Ot(this.submittedReactive)}_submitted=Qi(()=>this.submittedReactive());submittedReactive=qi(!1);_directives=new Set;form;ngSubmit=new Y;options;constructor(n,i,r){super(),this.callSetDisabledState=r,this.form=new Fu({},im(n),rm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ca.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),Lu(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ca.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ca.then(()=>{let i=this._findContainer(n.path),r=new Fu({});CC(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ca.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){ca.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),TC(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(i){return new(i||e)(R(da,10),R(ju,10),R(ha,8))};static \u0275dir=Z({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&At("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ri([gL]),it]})}return e})();function oC(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function sC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var MC=class extends xu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,i){super(bC(n),wC(i,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(sC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){sC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var _L=e=>e instanceof MC;var vL={provide:or,useExisting:Jt(()=>yL)},aC=Promise.resolve(),yL=(()=>{class e extends or{_changeDetectorRef;callSetDisabledState;control=new MC;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Y;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=SC(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),IC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Lu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){aC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&oi(i);aC.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?EC(n,this._parent):[n]}static \u0275fac=function(i){return new(i||e)(R(On,9),R(da,10),R(ju,10),R(em,10),R(Rt,8),R(ha,8))};static \u0275dir=Z({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ri([vL]),it,Qe]})}return e})();var H9=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Z({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var NC=new E("");var bL={provide:On,useExisting:Jt(()=>wL)},wL=(()=>{class e extends On{callSetDisabledState;get submitted(){return Ot(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Qi(()=>this._submittedReactive());_submittedReactive=qi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Y;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return Lu(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){rC(n.control||null,n,!1),pL(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),TC(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Jg(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Xg(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(rC(i||null,n),_L(r)&&(Lu(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);CC(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&hL(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){om(this.form,this),this._oldForm&&Bu(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(R(da,10),R(ju,10),R(ha,8))};static \u0275dir=Z({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&At("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ri([bL]),it,Qe]})}return e})();var EL={provide:or,useExisting:Jt(()=>DL)},DL=(()=>{class e extends or{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Y;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=SC(this,o)}ngOnChanges(n){this._added||this._setUpControl(),IC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return EC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||e)(R(On,13),R(da,10),R(ju,10),R(em,10),R(NC,8))};static \u0275dir=Z({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ri([EL]),it,Qe]})}return e})();var CL=(()=>{class e{_validator=Au;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Au,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Z({type:e,features:[Qe]})}return e})();var IL={provide:da,useExisting:Jt(()=>TL),multi:!0};var TL=(()=>{class e extends CL{required;inputName="required";normalizeInput=oi;createValidator=n=>uC;enabled(n){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Xn(e)))(r||e)}})();static \u0275dir=Z({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&mt("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ri([IL]),it]})}return e})();var AC=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=X({type:e});static \u0275inj=J({})}return e})();var $9=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ha,useValue:n.callSetDisabledState??Hu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=X({type:e});static \u0275inj=J({imports:[AC]})}return e})(),G9=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:NC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ha,useValue:n.callSetDisabledState??Hu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=X({type:e});static \u0275inj=J({imports:[AC]})}return e})();function $u(e){e||(Cl($u),e=m(Sn));let t=new M(n=>e.onDestroy(n.next.bind(n)));return n=>n.pipe(Se(t))}function sm(e){e===void 0&&(Cl(sm),e=m(se));let t=e.get(Ml);return n=>new M(i=>{let r=t.add(),o=!1;function s(){o||(r(),o=!0)}let a=n.subscribe({next:c=>{i.next(c),s()},complete:()=>{i.complete(),s()},error:c=>{i.error(c),s()}});return a.add(()=>{i.unsubscribe(),s()}),a})}var OC=["*"];var SL=e=>({$implicit:e});var ML=["dialog"],NL=["ngbNavOutlet",""];function AL(e,t){}function RL(e,t){if(e&1&&(ot(0,"div",0),po(1,AL,0,0,"ng-template",1),st()),e&2){let n=Zi().$implicit,i=Zi();ks("item",n)("nav",i.nav)("role",i.paneRole),Ns(),ks("ngTemplateOutlet",(n.contentTpl==null?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",NE(5,SL,n.active||i.isPanelTransitioning(n)))}}function OL(e,t){if(e&1&&po(0,RL,2,7,"div",0),e&2){let n=t.$implicit,i=Zi();Xp(n.isPanelInDom()||i.isPanelTransitioning(n)?0:-1)}}function kL(e,t){if(e&1&&(ot(0,"strong",3),Bl(1),st()),e&2){let n=Zi();Ns(),ig(n.header)}}function PL(e,t){}function xL(e,t){if(e&1){let n=IE();ot(0,"div",1),po(1,PL,0,0,"ng-template",4),ot(2,"button",5),At("click",function(){gb(n);let r=Zi();return mb(r.hide())}),st()()}if(e&2){let n=Zi(),i=SE(1);Ns(),ks("ngTemplateOutlet",n.contentHeaderTpl||i)}}var kC={animation:!0,transitionTimerDelayMs:5},lm=(()=>{class e{constructor(){this.animation=kC.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function FL(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function PC(e){return typeof e=="string"}function sr(e){return e!=null}function LL(e){return e&&e.then}function zu(e){return(e||document.body).getBoundingClientRect()}function VL(e){return t=>new M(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var BL=()=>{},{transitionTimerDelayMs:jL}=kC,Gu=new Map,Ft=(e,t,n,i)=>{let r=i.context||{},o=Gu.get(t);if(o)switch(i.runningTransition){case"continue":return Te;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Gu.delete(t)}let s=n(t,i.animation,r)||BL;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),C(void 0).pipe(VL(e));let a=new q,c=new q,l=a.pipe(Ph(!0));Gu.set(t,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});let u=FL(t);return e.runOutsideAngular(()=>{let d=ht(t,"transitionend").pipe(Se(l),ge(({target:f})=>f===t)),h=Rh(u+jL).pipe(Se(l));Oh(h,d,c).pipe(Se(l)).subscribe(()=>{Gu.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var xC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var FC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var LC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})(),VC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var kn=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(kn||{});var L7=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var UL=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function BC(e){let t=Array.from(e.querySelectorAll(UL)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var HL=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=ht(t,"focusin").pipe(Se(n),H(o=>o.target));ht(t,"keydown").pipe(Se(n),ge(o=>o.which===kn.Tab),Lc(r)).subscribe(([o,s])=>{let[a,c]=BC(t);(s===a||s===t)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&ht(t,"click").pipe(Se(n),Lc(r),H(o=>o[1])).subscribe(o=>o.focus())})};var V7=new Date(1882,10,12),B7=new Date(2174,10,25);var j7=1e3*60*60*24;var um=1080,$L=24*um,GL=12*um+793,U7=29*$L+GL,H7=11*um+204;var jC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var UC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})(),WL=(()=>{class e{constructor(){this._ngbConfig=m(lm),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),No=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var zL=(()=>{class e{constructor(){this._document=m(le)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qL=(()=>{class e{constructor(){this._nativeElement=m(_e).nativeElement,this._zone=m(G)}ngOnInit(){this._zone.onStable.asObservable().pipe(Le(1)).subscribe(()=>{Ft(this._zone,this._nativeElement,(n,i)=>{i&&zu(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ft(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Nt({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(Vl("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),rt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),Wu=class{update(t){}close(t){}dismiss(t){}},YL=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],KL=["animation","backdropClass"],am=class{_applyWindowOptions(t,n){YL.forEach(i=>{sr(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){KL.forEach(i=>{sr(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Se(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Se(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new q,this._dismissed=new q,this._hidden=new q,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();LL(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():C(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cs(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},cm=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(cm||{}),ZL=(()=>{class e{constructor(){this._document=m(le),this._elRef=m(_e),this._zone=m(G),this._closed$=new q,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Y,this.shown=new q,this.hidden=new q}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":PC(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Le(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Ft(this._zone,n,()=>n.classList.remove("show"),i),o=Ft(this._zone,this._dialogEl.nativeElement,()=>{},i),s=cs(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=Ft(this._zone,this._elRef.nativeElement,(o,s)=>{s&&zu(o),o.classList.add("show")},n),r=Ft(this._zone,this._dialogEl.nativeElement,()=>{},n);cs(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{ht(n,"keydown").pipe(Se(this._closed$),ge(r=>r.which===kn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(cm.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;ht(this._dialogEl.nativeElement,"mousedown").pipe(Se(this._closed$),be(()=>i=!1),ze(()=>ht(n,"mouseup").pipe(Se(this._closed$),Le(1))),ge(({target:r})=>n===r)).subscribe(()=>{i=!0}),ht(n,"click").pipe(Se(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(cm.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=BC(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ft(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Nt({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&ng(ML,7),i&2){let o;ni(o=ii())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(mt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Vl("modal d-block"+(r.windowClass?" "+r.windowClass:"")),rt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:OC,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(eg(),ot(0,"div",1,0)(2,"div",2),tg(3),st()()),i&2&&Vl("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),QL=(()=>{class e{constructor(){this._applicationRef=m(Qt),this._injector=m(se),this._environmentInjector=m(Ee),this._document=m(le),this._scrollBar=m(zL),this._activeWindowCmptHasChanged=new q,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Y;let n=m(G);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];HL(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:sr(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new Wu;n=r.injector||n;let a=n.get(Ee,null)||this._environmentInjector,c=this._getContentRef(n,a,i,s,r),l=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,c.nodes),d=new am(u,c,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(Le(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=Hl(qL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=Hl(ZL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof St?this._createFromTemplateRef(r,o):PC(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new No([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new No([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new No([[i]])}_createFromComponent(n,i,r,o,s){let a=se.create({providers:[{provide:Wu,useValue:o}],parent:n}),c=Hl(r,{environmentInjector:i,elementInjector:a}),l=c.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new No([[l]],c.hostView,c)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JL=(()=>{class e{constructor(){this._injector=m(se),this._modalStack=m(QL),this._config=m(WL)}open(n,i={}){let r=v(L(v({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),HC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({providers:[JL]})}}return e})(),XL=(()=>{class e{constructor(){this._ngbConfig=m(lm),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$C=e=>sr(e)&&e!=="",eV=0,tV=(()=>{class e{constructor(){this.templateRef=m(St)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Z({type:e,selectors:[["ng-template","ngbNavContent",""]]})}}return e})(),$7=(()=>{class e{constructor(n){this.role=n,this.nav=m(dm)}static{this.\u0275fac=function(i){return new(i||e)(ei("role"))}}static{this.\u0275dir=Z({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(i,r){i&2&&mt("role",r.role?r.role:r.nav.roles?"presentation":void 0)}})}}return e})(),GC=(()=>{class e{constructor(){this._nav=m(dm),this._nativeElement=m(_e).nativeElement,this.disabled=!1,this.shown=new Y,this.hidden=new Y}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){sr(this.domId)||(this.domId=`ngb-nav-${eV++}`)}get active(){return this._nav.activeId===this.id}get id(){return $C(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(sr(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Z({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(i,r,o){if(i&1&&go(o,tV,4),i&2){let s;ni(s=ii())&&(r.contentTpls=s)}},hostVars:2,hostBindings:function(i,r){i&2&&rt("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]})}}return e})(),dm=(()=>{class e{constructor(n){this.role=n,this._config=m(XL),this._cd=m(Rt),this._document=m(le),this._nativeElement=m(_e).nativeElement,this.destroyRef=m(Sn),this._navigatingWithKeyboard=!1,this.activeIdChange=new Y,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new Y,this.hidden=new Y,this.navItemChange$=new q,this.navChange=new Y}click(n){n.disabled||this._updateActiveId(n.id)}onFocusout({relatedTarget:n}){this._nativeElement.contains(n)||(this._navigatingWithKeyboard=!1)}onKeyDown(n){if(this.roles!=="tablist"||!this.keyboard)return;let i=n.which,r=this.links.filter(a=>!a.navItem.disabled),{length:o}=r,s=-1;if(r.forEach((a,c)=>{a.nativeElement===this._document.activeElement&&(s=c)}),o){switch(i){case kn.ArrowUp:case kn.ArrowLeft:s=(s-1+o)%o;break;case kn.ArrowRight:case kn.ArrowDown:s=(s+1)%o;break;case kn.Home:s=0;break;case kn.End:s=o-1;break}this.keyboard==="changeWithArrows"&&this.select(r[s].navItem.id),r[s].nativeElement.focus(),this._navigatingWithKeyboard=!0,n.preventDefault()}}select(n){this._updateActiveId(n,!1)}ngAfterContentInit(){if(!sr(this.activeId)){let n=this.items.first?this.items.first.id:null;$C(n)&&(this._updateActiveId(n,!1),this._cd.detectChanges())}this.items.changes.pipe($u(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:n}){n&&!n.firstChange&&this._notifyItemChanged(n.currentValue)}_updateActiveId(n,i=!0){if(this.activeId!==n){let r=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:n,preventDefault:()=>{r=!0}}),r||(this.activeId=n,this.activeIdChange.emit(n),this._notifyItemChanged(n))}}_notifyItemChanged(n){this.navItemChange$.next(this._getItemById(n))}_getItemById(n){return this.items&&this.items.find(i=>i.id===n)||null}static{this.\u0275fac=function(i){return new(i||e)(ei("role"))}}static{this.\u0275dir=Z({type:e,selectors:[["","ngbNav",""]],contentQueries:function(i,r,o){if(i&1&&(go(o,GC,4),go(o,WC,5)),i&2){let s;ni(s=ii())&&(r.items=s),ni(s=ii())&&(r.links=s)}},hostVars:6,hostBindings:function(i,r){i&1&&At("keydown.arrowLeft",function(s){return r.onKeyDown(s)})("keydown.arrowRight",function(s){return r.onKeyDown(s)})("keydown.arrowDown",function(s){return r.onKeyDown(s)})("keydown.arrowUp",function(s){return r.onKeyDown(s)})("keydown.Home",function(s){return r.onKeyDown(s)})("keydown.End",function(s){return r.onKeyDown(s)})("focusout",function(s){return r.onFocusout(s)}),i&2&&(mt("aria-orientation",r.orientation==="vertical"&&r.roles==="tablist"?"vertical":void 0)("role",r.role?r.role:r.roles?"tablist":void 0),rt("nav",!0)("flex-column",r.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[Qe]})}}return e})(),WC=(()=>{class e{constructor(n){this.role=n,this.navItem=m(GC),this.nav=m(dm),this.nativeElement=m(_e).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static{this.\u0275fac=function(i){return new(i||e)(ei("role"))}}static{this.\u0275dir=Z({type:e,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Ps("id",r.navItem.domId),mt("role",r.role?r.role:r.nav.roles?"tab":void 0)("tabindex",r.tabindex)("aria-controls",r.navItem.isPanelInDom()?r.navItem.panelDomId:null)("aria-selected",r.navItem.active)("aria-disabled",r.navItem.disabled),rt("nav-link",!0)("nav-item",r.navItem.isNgContainer())("active",r.navItem.active)("disabled",r.navItem.disabled))}})}}return e})(),G7=(()=>{class e extends WC{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Xn(e)))(r||e)}})()}static{this.\u0275dir=Z({type:e,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(i,r){i&1&&At("click",function(){return r.nav.click(r.navItem)}),i&2&&Ps("disabled",r.navItem.disabled)},features:[it]})}}return e})();var nV=({classList:e})=>(e.remove("show"),()=>e.remove("active")),iV=(e,t)=>{t&&zu(e),e.classList.add("show")},RC=(()=>{class e{constructor(){this.nativeElement=m(_e).nativeElement}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Z({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(i,r){i&2&&(Ps("id",r.item.panelDomId),mt("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),rt("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}})}}return e})(),W7=(()=>{class e{constructor(){this._cd=m(Rt),this._ngZone=m(G),this._activePane=null}isPanelTransitioning(n){return this._activePane?.item===n}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe($u(this.nav.destroyRef),ls(this._activePane?.item||null),kh(),Lh(1)).subscribe(n=>{let i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Ft(this._ngZone,this._activePane.nativeElement,nV,i).subscribe(()=>{let r=this._activePane?.item;this._activePane=this._getPaneForItem(n),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),Ft(this._ngZone,this._activePane.nativeElement,iV,i).subscribe(()=>{n&&(n.shown.emit(),this.nav.shown.emit(n.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show"),this._activePane?.nativeElement.classList.add("active")}_getPaneForItem(n){return this._panes&&this._panes.find(i=>i.item===n)||null}_getActivePane(){return this._panes&&this._panes.find(n=>n.item.active)||null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Nt({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(i,r){if(i&1&&ng(RC,5),i&2){let o;ni(o=ii())&&(r._panes=o)}},hostVars:2,hostBindings:function(i,r){i&2&&rt("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},attrs:NL,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&DE(0,OL,1,1,null,null,EE),i&2&&CE(r.nav.items)},dependencies:[RC,Yl],encapsulation:2,changeDetection:0})}}return e})();var zC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var qC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var YC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var KC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var ZC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var QC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var JC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})(),rV=(()=>{class e{constructor(){this._ngbConfig=m(lm),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oV=(e,t)=>{let{classList:n}=e;if(t)n.add("fade");else{n.add("show");return}return zu(e),n.add("show","showing"),()=>{n.remove("showing")}},sV=({classList:e})=>(e.add("showing"),()=>{e.remove("show","showing")}),aV=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=Z({type:e,selectors:[["","ngbToastHeader",""]]})}}return e})(),z7=(()=>{class e{constructor(n){this.ariaLive=n,this._config=m(rV),this._zone=m(G),this._element=m(_e),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new Y,this.hidden=new Y,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Le(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(n){"autohide"in n&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();let n=Ft(this._zone,this._element.nativeElement,sV,{animation:this.animation,runningTransition:"stop"});return n.subscribe(()=>{this.hidden.emit()}),n}show(){let n=Ft(this._zone,this._element.nativeElement,oV,{animation:this.animation,runningTransition:"continue"});return n.subscribe(()=>{this.shown.emit()}),n}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static{this.\u0275fac=function(i){return new(i||e)(ei("aria-live"))}}static{this.\u0275cmp=Nt({type:e,selectors:[["ngb-toast"]],contentQueries:function(i,r,o){if(i&1&&go(o,aV,7,St),i&2){let s;ni(s=ii())&&(r.contentHeaderTpl=s.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(i,r){i&2&&(mt("aria-live",r.ariaLive),rt("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[Qe],ngContentSelectors:OC,decls:5,vars:1,consts:()=>{let n;return n=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[1,"toast-header"],[1,"toast-body"],[1,"me-auto"],[3,"ngTemplateOutlet"],["type","button","aria-label",n,1,"btn-close",3,"click"]]},template:function(i,r){i&1&&(eg(),po(0,kL,2,1,"ng-template",null,0,AE)(2,xL,3,1,"div",1),ot(3,"div",2),tg(4),st()),i&2&&(Ns(2),Xp(r.contentHeaderTpl||r.header?2:-1))},dependencies:[Yl],styles:[`ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}
`],encapsulation:2})}}return e})(),XC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var eI=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var q7=new E("live announcer delay",{providedIn:"root",factory:()=>100});var tI=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})();var nI=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({})}}return e})(),cV=[xC,FC,LC,VC,jC,UC,HC,zC,nI,qC,YC,KC,ZC,QC,JC,XC,eI,tI],Y7=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=X({type:e})}static{this.\u0275inj=J({imports:[cV,xC,FC,LC,VC,jC,UC,HC,zC,nI,qC,YC,KC,ZC,QC,JC,XC,eI,tI]})}}return e})();var iI=()=>{};var fm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(e,t){if(!e)throw ar(t)},ar=function(e){return new Error("Firebase Database ("+fm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var oI=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},lV=function(e){let t=[],n=0,i=0;for(;n<e.length;){let r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=e[n++],s=e[n++],a=e[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Oo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){let o=e[r],s=r+1<e.length,a=s?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):lV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){let o=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;let l=r<e.length?n[e.charAt(r)]:64;++r;let d=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||a==null||l==null||d==null)throw new pm;let h=o<<2|a>>4;if(i.push(h),l!==64){let f=a<<4&240|l>>2;if(i.push(f),d!==64){let g=l<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},pm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mm=function(e){let t=oI(e);return Oo.encodeByteArray(t,!0)},fa=function(e){return mm(e).replace(/\./g,"")},Ao=function(e){try{return Oo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function sI(e){return aI(void 0,e)}function aI(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!uV(n)||(e[n]=aI(e[n],t[n]));return e}function uV(e){return e!=="__proto__"}function cI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dV=()=>cI().__FIREBASE_DEFAULTS__,hV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},fV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Ao(e[1]);return t&&JSON.parse(t)},_m=()=>{try{return iI()||dV()||hV()||fV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},vm=e=>{var t,n;return(n=(t=_m())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},lI=e=>{let t=vm(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},ym=()=>{var e;return(e=_m())===null||e===void 0?void 0:e.config},bm=e=>{var t;return(t=_m())===null||t===void 0?void 0:t[`_${e}`]};var yt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}};function uI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[fa(JSON.stringify(n)),fa(JSON.stringify(s)),""].join(".")}function xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function dI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hI(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Yu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fI(){let e=xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function un(){return fm.NODE_CLIENT===!0||fm.NODE_ADMIN===!0}function Ku(){try{return typeof indexedDB=="object"}catch{return!1}}function pI(){return new Promise((e,t)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function X7(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var pV="FirebaseError",Lt=class e extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=pV,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vt.prototype.create)}},Vt=class{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){let i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?gV(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Lt(r,a,i)}};function gV(e,t){return e.replace(mV,(n,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var mV=/\{\$([^}]+)}/g;function Ro(e){return JSON.parse(e)}function ve(e){return JSON.stringify(e)}var gI=function(e){let t={},n={},i={},r="";try{let o=e.split(".");t=Ro(Ao(o[0])||""),n=Ro(Ao(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}};var mI=function(e){let t=gI(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_I=function(e){let t=gI(e).claims;return typeof t=="object"&&t.admin===!0};function Bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function ga(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ma(e,t,n){let i={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function dn(e,t){if(e===t)return!0;let n=Object.keys(e),i=Object.keys(t);for(let r of n){if(!i.includes(r))return!1;let o=e[r],s=t[r];if(rI(o)&&rI(s)){if(!dn(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function rI(e){return e!==null&&typeof e=="object"}function lr(e){let t=[];for(let[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ko(e){let t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Po(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var qu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let i=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)i[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let h=(r<<5|r>>>27)+l+c+u+i[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let i=n-this.blockSize,r=0,o=this.buf_,s=this.inbuf_;for(;r<n;){if(s===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(o[s]=t.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<n;)if(o[s]=t[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)t[i]=this.chain_[r]>>o&255,++i;return t}};function vI(e,t){let n=new gm(e,t);return n.subscribe.bind(n)}var gm=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");_V(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=hm),r.error===void 0&&(r.error=hm),r.complete===void 0&&(r.complete=hm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _V(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function hm(){}function _a(e,t){return`${e} failed: ${t} argument `}var yI=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){let o=r-55296;i++,_(i<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(i)-56320;r=65536+(o<<10)+s}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},va=function(e){let t=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};var vV=1e3,yV=2,bV=4*60*60*1e3,wV=.5;function EV(e,t=vV,n=yV){let i=t*Math.pow(n,e),r=Math.round(wV*i*(Math.random()-.5)*2);return Math.min(bV,i+r)}function Me(e){return e&&e._delegate?e._delegate:e}var Ue=class{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var ur="[DEFAULT]";var Zu=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let i=new yt;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let i=this.normalizeInstanceIdentifier(t?.identifier),r=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CV(t))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return p(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=ur){return this.instances.has(t)}getOptions(t=ur){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(t,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DV(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ur){return this.component?this.component.multipleInstances?t:ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DV(e){return e===ur?void 0:e}function CV(e){return e.instantiationMode==="EAGER"}var ya=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Zu(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var IV=[],ne=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ne||{}),TV={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},SV=ne.INFO,MV={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},NV=(e,t,...n)=>{if(t<e.logLevel)return;let i=new Date().toISOString(),r=MV[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},hn=class{constructor(t){this.name=t,this._logLevel=SV,this._logHandler=NV,this._userLogHandler=null,IV.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}};var AV=(e,t)=>t.some(n=>e instanceof n),bI,wI;function RV(){return bI||(bI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OV(){return wI||(wI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var EI=new WeakMap,Em=new WeakMap,DI=new WeakMap,wm=new WeakMap,Cm=new WeakMap;function kV(e){let t=new Promise((n,i)=>{let r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(jt(e.result)),r()},s=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&EI.set(n,e)}).catch(()=>{}),Cm.set(t,e),t}function PV(e){if(Em.has(e))return;let t=new Promise((n,i)=>{let r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Em.set(e,t)}var Dm={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Em.get(e);if(t==="objectStoreNames")return e.objectStoreNames||DI.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function CI(e){Dm=e(Dm)}function xV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let i=e.call(Qu(this),t,...n);return DI.set(i,t.sort?t.sort():[t]),jt(i)}:OV().includes(e)?function(...t){return e.apply(Qu(this),t),jt(EI.get(this))}:function(...t){return jt(e.apply(Qu(this),t))}}function FV(e){return typeof e=="function"?xV(e):(e instanceof IDBTransaction&&PV(e),AV(e,RV())?new Proxy(e,Dm):e)}function jt(e){if(e instanceof IDBRequest)return kV(e);if(wm.has(e))return wm.get(e);let t=FV(e);return t!==e&&(wm.set(e,t),Cm.set(t,e)),t}var Qu=e=>Cm.get(e);function TI(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(e,t),a=jt(s);return i&&s.addEventListener("upgradeneeded",c=>{i(jt(s.result),c.oldVersion,c.newVersion,jt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function aZ(e,{blocked:t}={}){let n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",i=>t(i.oldVersion,i)),jt(n).then(()=>{})}var LV=["get","getKey","getAll","getAllKeys","count"],VV=["put","add","delete","clear"],Im=new Map;function II(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Im.get(t))return Im.get(t);let n=t.replace(/FromIndex$/,""),i=t!==n,r=VV.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||LV.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Im.set(t,o),o}CI(e=>L(v({},e),{get:(t,n,i)=>II(t,n)||e.get(t,n,i),has:(t,n)=>!!II(t,n)||e.has(t,n)}));var Sm=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BV(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function BV(e){let t=e.getComponent();return t?.type==="VERSION"}var Mm="@firebase/app",SI="0.11.4";var Pn=new hn("@firebase/app"),jV="@firebase/app-compat",UV="@firebase/analytics-compat",HV="@firebase/analytics",$V="@firebase/app-check-compat",GV="@firebase/app-check",WV="@firebase/auth",zV="@firebase/auth-compat",qV="@firebase/database",YV="@firebase/data-connect",KV="@firebase/database-compat",ZV="@firebase/functions",QV="@firebase/functions-compat",JV="@firebase/installations",XV="@firebase/installations-compat",e2="@firebase/messaging",t2="@firebase/messaging-compat",n2="@firebase/performance",i2="@firebase/performance-compat",r2="@firebase/remote-config",o2="@firebase/remote-config-compat",s2="@firebase/storage",a2="@firebase/storage-compat",c2="@firebase/firestore",l2="@firebase/vertexai",u2="@firebase/firestore-compat",d2="firebase",h2="11.6.0";var Nm="[DEFAULT]",f2={[Mm]:"fire-core",[jV]:"fire-core-compat",[HV]:"fire-analytics",[UV]:"fire-analytics-compat",[GV]:"fire-app-check",[$V]:"fire-app-check-compat",[WV]:"fire-auth",[zV]:"fire-auth-compat",[qV]:"fire-rtdb",[YV]:"fire-data-connect",[KV]:"fire-rtdb-compat",[ZV]:"fire-fn",[QV]:"fire-fn-compat",[JV]:"fire-iid",[XV]:"fire-iid-compat",[e2]:"fire-fcm",[t2]:"fire-fcm-compat",[n2]:"fire-perf",[i2]:"fire-perf-compat",[r2]:"fire-rc",[o2]:"fire-rc-compat",[s2]:"fire-gcs",[a2]:"fire-gcs-compat",[c2]:"fire-fst",[u2]:"fire-fst-compat",[l2]:"fire-vertex","fire-js":"fire-js",[d2]:"fire-js-all"};var ba=new Map,p2=new Map,Am=new Map;function MI(e,t){try{e.container.addComponent(t)}catch(n){Pn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ut(e){let t=e.name;if(Am.has(t))return Pn.debug(`There were multiple attempts to register component ${t}.`),!1;Am.set(t,e);for(let n of ba.values())MI(n,e);for(let n of p2.values())MI(n,e);return!0}function xo(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xe(e){return e==null?!1:e.settings!==void 0}var g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Vt("app","Firebase",g2);var Rm=class{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ue("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}};var pi=h2;function Pm(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let i=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw fi.create("bad-app-name",{appName:String(r)});if(n||(n=ym()),!n)throw fi.create("no-options");let o=ba.get(r);if(o){if(dn(n,o.options)&&dn(i,o.config))return o;throw fi.create("duplicate-app",{appName:r})}let s=new ya(r);for(let c of Am.values())s.addComponent(c);let a=new Rm(n,i,s);return ba.set(r,a),a}function dr(e=Nm){let t=ba.get(e);if(!t&&e===Nm&&ym())return Pm();if(!t)throw fi.create("no-app",{appName:e});return t}function Ju(){return Array.from(ba.values())}function he(e,t,n){var i;let r=(i=f2[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${t}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pn.warn(a.join(" "));return}Ut(new Ue(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var m2="firebase-heartbeat-database",_2=1,wa="firebase-heartbeat-store",Tm=null;function OI(){return Tm||(Tm=TI(m2,_2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(wa)}catch(n){console.warn(n)}}}}).catch(e=>{throw fi.create("idb-open",{originalErrorMessage:e.message})})),Tm}function v2(e){return p(this,null,function*(){try{let n=(yield OI()).transaction(wa),i=yield n.objectStore(wa).get(kI(e));return yield n.done,i}catch(t){if(t instanceof Lt)Pn.warn(t.message);else{let n=fi.create("idb-get",{originalErrorMessage:t?.message});Pn.warn(n.message)}}})}function NI(e,t){return p(this,null,function*(){try{let i=(yield OI()).transaction(wa,"readwrite");yield i.objectStore(wa).put(t,kI(e)),yield i.done}catch(n){if(n instanceof Lt)Pn.warn(n.message);else{let i=fi.create("idb-set",{originalErrorMessage:n?.message});Pn.warn(i.message)}}})}function kI(e){return`${e.name}!${e.options.appId}`}var y2=1024,b2=30,Om=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new km(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return p(this,null,function*(){var t,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AI();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>b2){let s=E2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pn.warn(i)}})}getHeartbeatsHeader(){return p(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=AI(),{heartbeatsToSend:i,unsentEntries:r}=w2(this._heartbeatsCache.heartbeats),o=fa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Pn.warn(n),""}})}};function AI(){return new Date().toISOString().substring(0,10)}function w2(e,t=y2){let n=[],i=e.slice();for(let r of e){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),RI(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),RI(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var km=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Ku()?pI().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield v2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return NI(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return NI(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function RI(e){return fa(JSON.stringify({version:2,heartbeats:e})).length}function E2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}function D2(e){Ut(new Ue("platform-logger",t=>new Sm(t),"PRIVATE")),Ut(new Ue("heartbeat",t=>new Om(t),"PRIVATE")),he(Mm,SI,e),he(Mm,SI,"esm2017"),he("fire-js","")}D2("");var C2="firebase",I2="11.6.0";he(C2,I2,"app");var gi=new Qn("ANGULARFIRE2_VERSION");function Ea(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var Lo=(e,t)=>{let n=t?[t]:Ju(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Fo=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Fo||{}),PI=sg()&&typeof Zone<"u"?Fo.WARN:Fo.SILENT;var Xu=class{zone;delegate;constructor(t,n=Sh){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r?r.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,i)}},mi=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=m(G);this.outsideAngular=n.runOutsideAngular(()=>new Xu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Xu(typeof Zone>"u"?void 0:Zone.current,yc))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xI=!1;function T2(e,t){!xI&&(PI>Fo.SILENT||sg())&&(xI=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),PI>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function S2(e){let t=m(G,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function hr(e){let t=m(G,{optional:!0});return t?t.run(()=>e()):e()}var M2=(e,t,n)=>(...i)=>(t&&setTimeout(t,0),Pe(n,()=>hr(()=>e.apply(void 0,i)))),et=(e,t,n)=>(n||=t?Fo.WARN:Fo.VERBOSE,function(){let i,r=arguments,o,s,a;try{o=m(mi),s=m(Ml),a=m(Ee)}catch{return T2(e,n),e.apply(this,r)}for(let l=0;l<arguments.length;l++)typeof r[l]=="function"&&(t&&(i||=hr(()=>s.add())),r[l]=M2(r[l],i,a));let c=S2(()=>e.apply(this,r));return t?c instanceof M?c.pipe(Gn(o.outsideAngular),$n(o.insideAngular),sm(a)):c instanceof Promise?hr(()=>new Promise((l,u)=>{s.run(()=>c).then(d=>Pe(a,()=>hr(()=>l(d))),d=>Pe(a,()=>hr(()=>u(d))))})):typeof c=="function"&&i?function(){return setTimeout(i,0),c.apply(this,arguments)}:hr(()=>c):c instanceof M?c.pipe(Gn(o.outsideAngular),$n(o.insideAngular)):hr(()=>c)});var xn=class{constructor(t){return t}},fr=class{constructor(){return Ju()}};function N2(e){return e&&e.length===1?e[0]:new xn(dr())}var xm=new E("angularfire2._apps"),A2={provide:xn,useFactory:N2,deps:[[new Ke,xm]]},R2={provide:fr,deps:[[new Ke,xm]]};function O2(e){return(t,n)=>{let i=n.get(Mn);he("angularfire",gi.full,"core"),he("angularfire",gi.full,"app"),he("angular",RE.full,i.toString());let r=t.runOutsideAngular(()=>e(n));return new xn(r)}}function UZ(e,...t){return Xt([A2,R2,{provide:xm,useFactory:O2(e),multi:!0,deps:[G,se,mi,...t]}])}var HZ=et(Pm,!0);var k2=new Map,P2={activated:!1,tokenObservers:[]},x2={initialized:!1,enabled:!1};function Ht(e){return k2.get(e)||Object.assign({},P2)}function BI(){return x2}var F2="https://content-firebaseappcheck.googleapis.com/v1";var L2="exchangeDebugToken",FI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ZZ=24*60*60*1e3;var Vm=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return p(this,null,function*(){this.stop();try{this.pending=new yt,this.pending.promise.catch(n=>{}),yield V2(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new yt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function V2(e){return new Promise(t=>{setTimeout(t,e)})}var B2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_i=new Vt("appCheck","AppCheck",B2);function jI(e){if(!Ht(e).activated)throw _i.create("use-before-activation",{appName:e.name})}function UI(i,r){return p(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(f){throw _i.create("fetch-network-error",{originalErrorMessage:f?.message})}if(c.status!==200)throw _i.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(f){throw _i.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw _i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:l.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function HI(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${F2}/projects/${n}/apps/${i}:${L2}?key=${r}`,body:{debug_token:t}}}var j2="firebase-app-check-database",U2=1,Bm="firebase-app-check-store";var ed=null;function H2(){return ed||(ed=new Promise((e,t)=>{try{let n=indexedDB.open(j2,U2);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(_i.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Bm,{keyPath:"compositeKey"})}}}catch(n){t(_i.create("storage-open",{originalErrorMessage:n?.message}))}}),ed)}function $2(e,t){return G2(W2(e),t)}function G2(e,t){return p(this,null,function*(){let i=(yield H2()).transaction(Bm,"readwrite"),o=i.objectStore(Bm).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(_i.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function W2(e){return`${e.options.appId}-${e.name}`}var Da=new hn("@firebase/app-check");function Fm(e,t){return Ku()?$2(e,t).catch(n=>{Da.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $I(){return BI().enabled}function GI(){return p(this,null,function*(){let e=BI();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var z2={error:"UNKNOWN_ERROR"};function q2(e){return Oo.encodeString(JSON.stringify(e),!1)}function jm(e,t=!1,n=!1){return p(this,null,function*(){let i=e.app;jI(i);let r=Ht(i),o=r.token,s;if(o&&!Ca(o)&&(r.token=void 0,o=void 0),!o){let l=yield r.cachedTokenPromise;l&&(Ca(l)?o=l:yield Fm(i,void 0))}if(!t&&o&&Ca(o))return{token:o.token};let a=!1;if($I())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=UI(HI(i,yield GI()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let l=yield r.exchangeTokenPromise;return yield Fm(i,l),r.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Da.warn(l.message):n&&Da.error(l),Lm(l)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=yield Ht(i).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Da.warn(l.message):n&&Da.error(l),s=l}let c;return o?s?Ca(o)?c={token:o.token,internalError:s}:c=Lm(s):(c={token:o.token},r.token=o,yield Fm(i,o)):c=Lm(s),a&&Q2(i,c),c})}function Y2(e){return p(this,null,function*(){let t=e.app;jI(t);let{provider:n}=Ht(t);if($I()){let i=yield GI(),{token:r}=yield UI(HI(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function K2(e,t,n,i){let{app:r}=e,o=Ht(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ca(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),LI(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>LI(e))}function WI(e,t){let n=Ht(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function LI(e){let{app:t}=e,n=Ht(t),i=n.tokenRefresher;i||(i=Z2(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Z2(e){let{app:t}=e;return new Vm(()=>p(this,null,function*(){let n=Ht(t),i;if(n.token?i=yield jm(e,!0):i=yield jm(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Ht(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},FI.RETRIAL_MIN_WAIT,FI.RETRIAL_MAX_WAIT)}function Q2(e,t){let n=Ht(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Ca(e){return e.expireTimeMillis-Date.now()>0}function Lm(e){return{token:q2(z2),error:e}}var Um=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Ht(this.app);for(let n of t)WI(this.app,n.next);return Promise.resolve()}};function J2(e,t){return new Um(e,t)}function X2(e){return{getToken:t=>jm(e,t),getLimitedUseToken:()=>Y2(e),addTokenListener:t=>K2(e,"INTERNAL",t),removeTokenListener:t=>WI(e.app,t)}}var eB="@firebase/app-check",tB="0.8.13";var nB="app-check",VI="app-check-internal";function iB(){Ut(new Ue(nB,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return J2(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(VI).initialize()})),Ut(new Ue(VI,e=>{let t=e.getProvider("app-check").getImmediate();return X2(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),he(eB,tB)}iB();var rB="app-check";var Vo=class{constructor(){return Lo(rB)}};var oB=["localhost","0.0.0.0","127.0.0.1"],lQ=typeof window<"u"&&oB.includes(window.location.hostname);function aT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cT=aT,lT=new Vt("auth","Firebase",aT());var sd=new hn("@firebase/auth");function sB(e,...t){sd.logLevel<=ne.WARN&&sd.warn(`Auth (${pi}): ${e}`,...t)}function nd(e,...t){sd.logLevel<=ne.ERROR&&sd.error(`Auth (${pi}): ${e}`,...t)}function pn(e,...t){throw h_(e,...t)}function pr(e,...t){return h_(e,...t)}function uT(e,t,n){let i=Object.assign(Object.assign({},cT()),{[t]:n});return new Vt("auth","Firebase",i).create(t,{appName:e.name})}function Vn(e){return uT(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h_(e,...t){if(typeof e!="string"){let n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return lT.create(e,...t)}function S(e,t,...n){if(!e)throw h_(t,...n)}function Fn(e){let t="INTERNAL ASSERTION FAILED: "+e;throw nd(t),new Error(t)}function bi(e,t){e||Fn(t)}function Wm(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function aB(){return zI()==="http:"||zI()==="https:"}function zI(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function cB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aB()||hI()||"connection"in navigator)?navigator.onLine:!0}function lB(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var gr=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,bi(n>t,"Short delay should be less than long delay!"),this.isMobile=pa()||Yu()}get(){return cB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function f_(e,t){bi(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var ad=class{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hB=new gr(3e4,6e4);function wi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ei(o,s,a,c){return p(this,arguments,function*(e,t,n,i,r={}){return dT(e,r,()=>p(this,null,function*(){let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});let d=lr(Object.assign({key:e.config.apiKey},u)).slice(1),h=yield e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);let f=Object.assign({method:t,headers:h},l);return dI()||(f.referrerPolicy="no-referrer"),ad.fetch()(yield hT(e,e.config.apiHost,n,d),f)}))})}function dT(e,t,n){return p(this,null,function*(){e._canInitEmulator=!1;let i=Object.assign(Object.assign({},uB),t);try{let r=new zm(e),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw td(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw td(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw td(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw td(e,"user-disabled",s);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uT(e,u,l);pn(e,u)}}catch(r){if(r instanceof Lt)throw r;pn(e,"network-request-failed",{message:String(r)})}})}function ka(o,s,a,c){return p(this,arguments,function*(e,t,n,i,r={}){let l=yield Ei(e,t,n,i,r);return"mfaPendingCredential"in l&&pn(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function hT(e,t,n,i){return p(this,null,function*(){let r=`${t}${n}?${i}`,o=e,s=o.config.emulator?f_(e.config,r):`${e.config.apiScheme}://${r}`;return dB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function fB(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var zm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(pr(this.auth,"network-request-failed")),hB.get())})}};function td(e,t,n){let i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=pr(e,t,i);return r.customData._tokenResponse=n,r}function qI(e){return e!==void 0&&e.enterprise!==void 0}var qm=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return fB(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function pB(e,t){return p(this,null,function*(){return Ei(e,"GET","/v2/recaptchaConfig",wi(e,t))})}function gB(e,t){return p(this,null,function*(){return Ei(e,"POST","/v1/accounts:delete",t)})}function cd(e,t){return p(this,null,function*(){return Ei(e,"POST","/v1/accounts:lookup",t)})}function Ta(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function p_(e,t=!1){return p(this,null,function*(){let n=Me(e),i=yield n.getIdToken(t),r=g_(i);S(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Ta(Hm(r.auth_time)),issuedAtTime:Ta(Hm(r.iat)),expirationTime:Ta(Hm(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Hm(e){return Number(e)*1e3}function g_(e){let[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return nd("JWT malformed, contained fewer than 3 sections"),null;try{let r=Ao(n);return r?JSON.parse(r):(nd("Failed to decode base64 JWT payload"),null)}catch(r){return nd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function YI(e){let t=g_(e);return S(t,"internal-error"),S(typeof t.exp<"u","internal-error"),S(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Ma(e,t,n=!1){return p(this,null,function*(){if(n)return t;try{return yield t}catch(i){throw i instanceof Lt&&mB(i)&&e.auth.currentUser===e&&(yield e.auth.signOut()),i}})}function mB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Ym=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Na=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ta(this.lastLoginAt),this.creationTime=Ta(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ld(e){return p(this,null,function*(){var t;let n=e.auth,i=yield e.getIdToken(),r=yield Ma(e,cd(n,{idToken:i}));S(r?.users.length,n,"internal-error");let o=r.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?fT(o.providerUserInfo):[],a=_B(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Na(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function m_(e){return p(this,null,function*(){let t=Me(e);yield ld(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function _B(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function fT(e){return e.map(t=>{var{providerId:n}=t,i=Mh(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function vB(e,t){return p(this,null,function*(){let n=yield dT(e,{},()=>p(this,null,function*(){let i=lr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=yield hT(e,r,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ad.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function yB(e,t){return p(this,null,function*(){return Ei(e,"POST","/v2/accounts:revokeToken",wi(e,t))})}var Sa=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){S(t.idToken,"internal-error"),S(typeof t.idToken<"u","internal-error"),S(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):YI(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){S(t.length!==0,"internal-error");let n=YI(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(S(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return p(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield vB(t,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new e;return i&&(S(typeof i=="string","internal-error",{appName:t}),s.refreshToken=i),r&&(S(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(S(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Fn("not implemented")}};function vi(e,t){S(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var yi=class e{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,o=Mh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ym(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Na(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return p(this,null,function*(){let n=yield Ma(this,this.stsTokenManager.getToken(this.auth,t));return S(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return p_(this,t)}reload(){return m_(this)}_assign(t){this!==t&&(S(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return p(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield ld(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(Xe(this.auth.app))return Promise.reject(Vn(this.auth));let t=yield this.getIdToken();return yield Ma(this,gB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,o,s,a,c,l,u;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Fe=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ut,emailVerified:oc,isAnonymous:sy,providerData:Zd,stsTokenManager:ay}=n;S(ut&&ay,t,"internal-error");let B1=Sa.fromJSON(this.name,ay);S(typeof ut=="string",t,"internal-error"),vi(d,t.name),vi(h,t.name),S(typeof oc=="boolean",t,"internal-error"),S(typeof sy=="boolean",t,"internal-error"),vi(f,t.name),vi(g,t.name),vi(y,t.name),vi(D,t.name),vi(O,t.name),vi(Fe,t.name);let Qd=new e({uid:ut,auth:t,email:h,emailVerified:oc,displayName:d,isAnonymous:sy,photoURL:g,phoneNumber:f,tenantId:y,stsTokenManager:B1,createdAt:O,lastLoginAt:Fe});return Zd&&Array.isArray(Zd)&&(Qd.providerData=Zd.map(j1=>Object.assign({},j1))),D&&(Qd._redirectEventId=D),Qd}static _fromIdTokenResponse(t,n,i=!1){return p(this,null,function*(){let r=new Sa;r.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield ld(o),o})}static _fromGetAccountInfoResponse(t,n,i){return p(this,null,function*(){let r=n.users[0];S(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?fT(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Sa;a.updateFromIdToken(i);let c=new e({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Na(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var KI=new Map;function Ln(e){bi(e instanceof Function,"Expected a class definition");let t=KI.get(e);return t?(bi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,KI.set(e,t),t)}var bB=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,i){return p(this,null,function*(){this.storage[n]=i})}_get(n){return p(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return e.type="NONE",e})(),Km=bB;function id(e,t,n){return`firebase:${e}:${t}:${n}`}var ud=class e{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=id(this.userKey,r.apiKey,o),this.fullPersistenceKey=id("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return p(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield cd(this.auth,{idToken:t}).catch(()=>{});return n?yi._fromGetAccountInfoResponse(this.auth,n,t):null}return yi._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return p(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,i="authUser"){return p(this,null,function*(){if(!n.length)return new e(Ln(Km),t,i);let r=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Ln(Km),s=id(i,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let h=yield cd(t,{idToken:u}).catch(()=>{});if(!h)break;d=yield yi._fromGetAccountInfoResponse(t,h,u)}else d=yi._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,i))})}};function ZI(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_T(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yT(t))return"Blackberry";if(bT(t))return"Webos";if(gT(t))return"Safari";if((t.includes("chrome/")||mT(t))&&!t.includes("edge/"))return"Chrome";if(vT(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function pT(e=xe()){return/firefox\//i.test(e)}function gT(e=xe()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mT(e=xe()){return/crios\//i.test(e)}function _T(e=xe()){return/iemobile/i.test(e)}function vT(e=xe()){return/android/i.test(e)}function yT(e=xe()){return/blackberry/i.test(e)}function bT(e=xe()){return/webos/i.test(e)}function __(e=xe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wB(e=xe()){var t;return __(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function EB(){return fI()&&document.documentMode===10}function wT(e=xe()){return __(e)||vT(e)||bT(e)||yT(e)||/windows phone/i.test(e)||_T(e)}function ET(e,t=[]){let n;switch(e){case"Browser":n=ZI(xe());break;case"Worker":n=`${ZI(xe())}-${e}`;break;default:n=e}let i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${pi}/${i}`}var Zm=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let i=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return p(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let i of this.queue)yield i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function DB(n){return p(this,arguments,function*(e,t={}){return Ei(e,"GET","/v2/passwordPolicy",wi(e,t))})}var CB=6,Qm=class{constructor(t){var n,i,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:CB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Jm=class{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dd(this),this.idTokenSubscription=new dd(this),this.beforeStateQueue=new Zm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield ud.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return p(this,null,function*(){try{let n=yield cd(this,{idToken:t}),i=yield yi._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return p(this,null,function*(){var n;if(Xe(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return p(this,null,function*(){try{yield ld(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=lB()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return p(this,null,function*(){if(Xe(this.app))return Promise.reject(Vn(this));let n=t?Me(t):null;return n&&S(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return p(this,null,function*(){if(!this._deleted)return t&&S(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return Xe(this.app)?Promise.reject(Vn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Xe(this.app)?Promise.reject(Vn(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Ln(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let t=yield DB(this),n=new Qm(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vt("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},n)}})}revokeAccessToken(t){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield yB(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return p(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Ln(t)||this._popupRedirectResolver;S(n,this,"argument-error"),this.redirectPersistenceManager=yield ud.create(this,[Ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return p(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return p(this,null,function*(){if(t===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,i,r);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return p(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return p(this,null,function*(){var t;if(Xe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&sB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _r(e){return Me(e)}var dd=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=vI(n=>this.observer=n)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vd={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IB(e){vd=e}function DT(e){return vd.loadJS(e)}function TB(){return vd.recaptchaEnterpriseScript}function SB(){return vd.gapiScript}function CT(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var Xm=class{constructor(){this.enterprise=new e_}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}},e_=class{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}};var MB="recaptcha-enterprise",IT="NO_RECAPTCHA",t_=class{constructor(t){this.type=MB,this.auth=_r(t)}verify(t="verify",n=!1){return p(this,null,function*(){function i(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(this,null,function*(){pB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new qm(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(o,s,a){let c=window.grecaptcha;qI(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(l=>{s(l)}).catch(()=>{s(IT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xm().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{i(this.auth).then(a=>{if(!n&&qI(window.grecaptcha))r(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=TB();c.length!==0&&(c+=a),DT(c).then(()=>{r(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Ia(e,t,n,i=!1,r=!1){return p(this,null,function*(){let o=new t_(e),s;if(r)s=IT;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function n_(e,t,n,i,r){return p(this,null,function*(){var o,s;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Ia(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(a=>p(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Ia(e,t,n,n==="getOobCode");return i(e,c)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Ia(e,t,n);return i(e,a).catch(c=>p(this,null,function*(){var l;if(((l=e._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield Ia(e,t,n,!1,!0);return i(e,u)}return Promise.reject(c)}))}else{let a=yield Ia(e,t,n,!1,!0);return i(e,a)}else return Promise.reject(r+" provider is not supported.")})}function v_(e,t){let n=xo(e,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(dn(o,t??{}))return r;pn(r,"already-initialized")}return n.initialize({options:t})}function NB(e,t){let n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ln);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function y_(e,t,n){let i=_r(e);S(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=TT(t),{host:s,port:a}=AB(t),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){S(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),S(dn(l,i.config.emulator)&&dn(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=l,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,r||RB()}function TT(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function AB(e){let t=TT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:QI(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:QI(s)}}}function QI(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function RB(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var Aa=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(t){return Fn("not implemented")}_linkToIdToken(t,n){return Fn("not implemented")}_getReauthenticationResolver(t){return Fn("not implemented")}};function OB(e,t){return p(this,null,function*(){return Ei(e,"POST","/v1/accounts:signUp",t)})}function kB(e,t){return p(this,null,function*(){return ka(e,"POST","/v1/accounts:signInWithPassword",wi(e,t))})}function PB(e,t){return p(this,null,function*(){return ka(e,"POST","/v1/accounts:signInWithEmailLink",wi(e,t))})}function xB(e,t){return p(this,null,function*(){return ka(e,"POST","/v1/accounts:signInWithEmailLink",wi(e,t))})}var Ra=class e extends Aa{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new e(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n_(t,n,"signInWithPassword",kB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return PB(t,{email:this._email,oobCode:this._password});default:pn(t,"internal-error")}})}_linkToIdToken(t,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n_(t,i,"signUpPassword",OB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return xB(t,{idToken:n,email:this._email,oobCode:this._password});default:pn(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function $m(e,t){return p(this,null,function*(){return ka(e,"POST","/v1/accounts:signInWithIdp",wi(e,t))})}function FB(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LB(e){let t=ko(Po(e)).link,n=t?ko(Po(t)).deep_link_id:null,i=ko(Po(e)).deep_link_id;return(i?ko(Po(i)).link:null)||i||n||t||e}var hd=class e{constructor(t){var n,i,r,o,s,a;let c=ko(Po(t)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(i=c.oobCode)!==null&&i!==void 0?i:null,d=FB((r=c.mode)!==null&&r!==void 0?r:null);S(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let n=LB(t);try{return new e(n)}catch{return null}}};var ST=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,i){return Ra._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=hd.parseLink(i);return S(r,"argument-error"),Ra._fromEmailAndCode(n,r.code,r.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),fd=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var i_=class extends fd{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};function VB(e,t){return p(this,null,function*(){return ka(e,"POST","/v1/accounts:signUp",wi(e,t))})}var Bo=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,i,r=!1){return p(this,null,function*(){let o=yield yi._fromIdTokenResponse(t,i,r),s=JI(i);return new e({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(t,n,i){return p(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=JI(i);return new e({user:t,providerId:r,_tokenResponse:i,operationType:n})})}};function JI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var r_=class e extends Lt{constructor(t,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new e(t,n,i,r)}};function MT(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?r_._fromErrorAndOperation(e,o,t,i):o})}function BB(e,t,n=!1){return p(this,null,function*(){let i=yield Ma(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Bo._forOperation(e,"link",i)})}function jB(e,t,n=!1){return p(this,null,function*(){let{auth:i}=e;if(Xe(i.app))return Promise.reject(Vn(i));let r="reauthenticate";try{let o=yield Ma(e,MT(i,r,t,e),n);S(o.idToken,i,"internal-error");let s=g_(o.idToken);S(s,i,"internal-error");let{sub:a}=s;return S(e.uid===a,i,"user-mismatch"),Bo._forOperation(e,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&pn(i,"user-mismatch"),o}})}function NT(e,t,n=!1){return p(this,null,function*(){if(Xe(e.app))return Promise.reject(Vn(e));let i="signIn",r=yield MT(e,i,t),o=yield Bo._fromIdTokenResponse(e,i,r);return n||(yield e._updateCurrentUser(o.user)),o})}function b_(e,t){return p(this,null,function*(){return NT(_r(e),t)})}function AT(e){return p(this,null,function*(){let t=_r(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function w_(e,t,n){return p(this,null,function*(){if(Xe(e.app))return Promise.reject(Vn(e));let i=_r(e),s=yield n_(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VB,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&AT(e),c}),a=yield Bo._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})}function E_(e,t,n){return Xe(e.app)?Promise.reject(Vn(e)):b_(Me(e),ST.credential(t,n)).catch(i=>p(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&AT(e),i}))}function D_(e,t,n,i){return Me(e).onIdTokenChanged(t,n,i)}function C_(e,t,n){return Me(e).beforeAuthStateChanged(t,n)}function I_(e){return Me(e).signOut()}var pd="__sak";var gd=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var UB=1e3,HB=10,$B=(()=>{class e extends gd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=n.key;i?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);EB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,HB):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},UB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return p(this,null,function*(){yield Mi(e.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return p(this,null,function*(){let i=yield Mi(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return p(this,null,function*(){yield Mi(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),RT=$B;var GB=(()=>{class e extends gd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return e.type="SESSION",e})(),T_=GB;function WB(e){return Promise.all(e.map(t=>p(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var zB=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new e(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let i=n,{eventId:r,eventType:o,data:s}=i.data,a=this.handlersMap[o];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(i.origin,s)})),l=yield WB(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function OT(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}var o_=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,i=50){return p(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=OT("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function fn(){return window}function qB(e){fn().location.href=e}function kT(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}function YB(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function KB(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function ZB(){return kT()?self:null}var PT="firebaseLocalStorageDb",QB=1,md="firebaseLocalStorage",xT="fbase_key",mr=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function yd(e,t){return e.transaction([md],t?"readwrite":"readonly").objectStore(md)}function JB(){let e=indexedDB.deleteDatabase(PT);return new mr(e).toPromise()}function s_(){let e=indexedDB.open(PT,QB);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let i=e.result;try{i.createObjectStore(md,{keyPath:xT})}catch(r){n(r)}}),e.addEventListener("success",()=>p(this,null,function*(){let i=e.result;i.objectStoreNames.contains(md)?t(i):(i.close(),yield JB(),t(yield s_()))}))})}function XI(e,t,n){return p(this,null,function*(){let i=yd(e,!0).put({[xT]:t,value:n});return new mr(i).toPromise()})}function XB(e,t){return p(this,null,function*(){let n=yd(e,!1).get(t),i=yield new mr(n).toPromise();return i===void 0?null:i.value})}function eT(e,t){let n=yd(e,!0).delete(t);return new mr(n).toPromise()}var ej=800,tj=3,nj=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield s_(),this.db)})}_withRetries(n){return p(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>tj)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return kT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=zB._getInstance(ZB()),this.receiver._subscribe("keyChanged",(n,i)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,i;if(this.activeServiceWorker=yield YB(),!this.activeServiceWorker)return;this.sender=new o_(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||KB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield s_();return yield XI(n,pd,"1"),yield eT(n,pd),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>XI(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let i=yield this._withRetries(r=>XB(r,n));return this.localCache[n]=i,i})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>eT(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=yd(o,!1).getAll();return new mr(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),FT=nj;var _Q=CT("rcb"),vQ=new gr(3e4,6e4);function ij(e,t){return t?Ln(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Oa=class extends Aa{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $m(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $m(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $m(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function rj(e){return NT(e.auth,new Oa(e),e.bypassAuthState)}function oj(e){let{auth:t,user:n}=e;return S(n,t,"internal-error"),jB(n,new Oa(e),e.bypassAuthState)}function sj(e){return p(this,null,function*(){let{auth:t,user:n}=e;return S(n,t,"internal-error"),BB(n,new Oa(e),e.bypassAuthState)})}var a_=class{constructor(t,n,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>p(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return p(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rj;case"linkViaPopup":case"linkViaRedirect":return sj;case"reauthViaPopup":case"reauthViaRedirect":return oj;default:pn(this.auth,"internal-error")}}resolve(t){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var yQ=new gr(2e3,1e4);var aj="pendingRedirect",rd=new Map,c_=class e extends a_{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return p(this,null,function*(){let t=rd.get(this.auth._key());if(!t){try{let i=(yield cj(this.resolver,this.auth))?yield Mi(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}rd.set(this.auth._key(),t)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return p(this,null,function*(){if(t.type==="signInViaRedirect")return Mi(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,Mi(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function cj(e,t){return p(this,null,function*(){let n=dj(t),i=uj(e);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function lj(e,t){rd.set(e._key(),t)}function uj(e){return Ln(e._redirectPersistence)}function dj(e){return id(aj,e.config.apiKey,e.name)}function hj(e,t,n=!1){return p(this,null,function*(){if(Xe(e.app))return Promise.reject(Vn(e));let i=_r(e),r=ij(i,t),s=yield new c_(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,t)),s})}var fj=10*60*1e3,l_=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pj(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!LT(t)){let r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fj&&this.cachedEventUids.clear(),this.cachedEventUids.has(tT(t))}saveEventToCache(t){this.cachedEventUids.add(tT(t)),this.lastProcessedEventTime=Date.now()}};function tT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function LT({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function pj(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(e);default:return!1}}function gj(n){return p(this,arguments,function*(e,t={}){return Ei(e,"GET","/v1/projects",t)})}var mj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_j=/^https?/;function vj(e){return p(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield gj(e);for(let n of t)try{if(yj(n))return}catch{}pn(e,"unauthorized-domain")})}function yj(e){let t=Wm(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!_j.test(n))return!1;if(mj.test(e))return i===e;let r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var bj=new gr(3e4,6e4);function nT(){let e=fn().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function wj(e){return new Promise((t,n)=>{var i,r,o;function s(){nT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nT(),n(pr(e,"network-request-failed"))},timeout:bj.get()})}if(!((r=(i=fn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=fn().gapi)===null||o===void 0)&&o.load)s();else{let a=CT("iframefcb");return fn()[a]=()=>{gapi.load?s():n(pr(e,"network-request-failed"))},DT(`${SB()}?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw od=null,t})}var od=null;function Ej(e){return od=od||wj(e),od}var Dj=new gr(5e3,15e3),Cj="__/auth/iframe",Ij="emulator/auth/iframe",Tj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mj(e){let t=e.config;S(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?f_(t,Ij):`https://${e.config.authDomain}/${Cj}`,i={apiKey:t.apiKey,appName:e.name,v:pi},r=Sj.get(e.config.apiHost);r&&(i.eid=r);let o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${lr(i).slice(1)}`}function Nj(e){return p(this,null,function*(){let t=yield Ej(e),n=fn().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:Mj(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tj,dontclear:!0},i=>new Promise((r,o)=>p(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=pr(e,"network-request-failed"),a=fn().setTimeout(()=>{o(s)},Dj.get());function c(){fn().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{o(s)})})))})}var Aj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rj=500,Oj=600,kj="_blank",Pj="http://localhost",_d=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function xj(e,t,n,i=Rj,r=Oj){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},Aj),{width:i.toString(),height:r.toString(),top:o,left:s}),l=xe().toLowerCase();n&&(a=mT(l)?kj:n),pT(l)&&(t=t||Pj,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(wB(l)&&a!=="_self")return Fj(t||"",a),new _d(null);let d=window.open(t||"",a,u);S(d,e,"popup-blocked");try{d.focus()}catch{}return new _d(d)}function Fj(e,t){let n=document.createElement("a");n.href=e,n.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var Lj="__/auth/handler",Vj="emulator/auth/handler",Bj=encodeURIComponent("fac");function iT(e,t,n,i,r,o){return p(this,null,function*(){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:pi,eventId:r};if(t instanceof fd){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",ga(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof i_){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield e._getAppCheckToken(),l=c?`#${Bj}=${encodeURIComponent(c)}`:"";return`${jj(e)}?${lr(a).slice(1)}${l}`})}function jj({config:e}){return e.emulator?f_(e,Vj):`https://${e.authDomain}/${Lj}`}var Gm="webStorageSupport",u_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T_,this._completeRedirectFn=hj,this._overrideRedirectResult=lj}_openPopup(t,n,i,r){return p(this,null,function*(){var o;bi((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield iT(t,n,i,Wm(),r);return xj(t,s,OT())})}_openRedirect(t,n,i,r){return p(this,null,function*(){yield this._originValidation(t);let o=yield iT(t,n,i,Wm(),r);return qB(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(bi(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(t){return p(this,null,function*(){let n=yield Nj(t),i=new l_(t);return n.register("authEvent",r=>(S(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gm,{type:Gm},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Gm];s!==void 0&&n(!!s),pn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vj(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return wT()||gT()||__()}},VT=u_;var rT="@firebase/auth",oT="1.10.0";var d_=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Uj(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hj(e){Ut(new Ue("auth",(t,{options:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;S(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(e)},l=new Jm(i,r,o,c);return NB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ut(new Ue("auth-internal",t=>{let n=_r(t.getProvider("auth").getImmediate());return(i=>new d_(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),he(rT,oT,Uj(e)),he(rT,oT,"esm2017")}var $j=5*60,Gj=bm("authIdTokenMaxAge")||$j,sT=null,Wj=e=>t=>p(void 0,null,function*(){let n=t&&(yield t.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Gj)return;let r=n?.token;sT!==r&&(sT=r,yield fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function S_(e=dr()){let t=xo(e,"auth");if(t.isInitialized())return t.getImmediate();let n=v_(e,{popupRedirectResolver:VT,persistence:[FT,RT,T_]}),i=bm("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=Wj(o.toString());C_(n,s,()=>s(n.currentUser)),D_(n,a=>s(a))}}let r=vm("auth");return r&&y_(n,`http://${r}`),n}function zj(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}IB({loadJS(e){return new Promise((t,n)=>{let i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{let o=pr("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",zj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hj("Browser");var BT="auth",vr=class{constructor(t){return t}},Pa=class{constructor(){return Lo(BT)}};var M_=new E("angularfire2.auth-instances");function xU(e,t){let n=Ea(BT,e,t);return n&&new vr(n)}function FU(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new vr(i)}}var LU={provide:Pa,deps:[[new Ke,M_]]},VU={provide:vr,useFactory:xU,deps:[[new Ke,M_],xn]};function oJ(e,...t){return he("angularfire",gi.full,"auth"),Xt([VU,LU,{provide:M_,useFactory:FU(e),multi:!0,deps:[G,se,mi,fr,[new Ke,Vo],...t]}])}var jT=et(w_,!0,2);var sJ=et(S_,!0);var UT=et(E_,!0,2);var HT=et(I_,!0,2);var $T="@firebase/database",GT="1.0.14";var kv="";function BU(e){kv=e}var F_=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ve(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ro(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var L_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Bt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var wS=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new F_(t)}}catch{}return new L_},br=wS("localStorage"),V_=wS("sessionStorage");var Ho=new hn("@firebase/database"),jU=function(){let e=1;return function(){return e++}}(),ES=function(e){let t=yI(e),n=new qu;n.update(t);let i=n.digest();return Oo.encodeByteArray(i)},Xa=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Xa.apply(null,i):typeof i=="object"?t+=ve(i):t+=i,t+=" "}return t},wr=null,WT=!0,UU=function(e,t){_(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ho.logLevel=ne.VERBOSE,wr=Ho.log.bind(Ho),t&&V_.set("logging_enabled",!0)):typeof e=="function"?wr=e:(wr=null,V_.remove("logging_enabled"))},Ae=function(...e){if(WT===!0&&(WT=!1,wr===null&&V_.get("logging_enabled")===!0&&UU(!0)),wr){let t=Xa.apply(null,e);wr(t)}},ec=function(e){return function(...t){Ae(e,...t)}},B_=function(...e){let t="FIREBASE INTERNAL ERROR: "+Xa(...e);Ho.error(t)},Bn=function(...e){let t=`FIREBASE FATAL ERROR: ${Xa(...e)}`;throw Ho.error(t),new Error(t)},$e=function(...e){let t="FIREBASE WARNING: "+Xa(...e);Ho.warn(t)},HU=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$e("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},$U=function(e){if(un()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Go="[MIN_NAME]",Er="[MAX_NAME]",Cr=function(e,t){if(e===t)return 0;if(e===Go||t===Er)return-1;if(t===Go||e===Er)return 1;{let n=zT(e),i=zT(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},GU=function(e,t){return e===t?0:e<t?-1:1},xa=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ve(t))},xv=function(e){if(typeof e!="object"||e===null)return ve(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=ve(t[i]),n+=":",n+=xv(e[t[i]]);return n+="}",n},DS=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Re(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var CS=function(e){_(!Pv(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,c;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(r?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},WU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function qU(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var YU=new RegExp("^-?(0*)\\d{1,10}$"),KU=-2147483648,ZU=2147483647,zT=function(e){if(YU.test(e)){let t=Number(e);if(t>=KU&&t<=ZU)return t}return null},Xo=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw $e("Exception was thrown by user callback.",n),t},Math.floor(0))}},QU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ja=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var j_=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Xe(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){$e(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var U_=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ae("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$e(t)}},Ua=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),wd="5",IS="v",TS="s",SS="r",MS="f",NS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AS="ls",RS="p",H_="ac",OS="websocket",kS="long_polling";var Ed=class{constructor(t,n,i,r,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=br.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&br.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function JU(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function PS(e,t,n){_(typeof t=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let i;if(t===OS)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===kS)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);JU(e)&&(n.ns=e.namespace);let r=[];return Re(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var $_=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Bt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return sI(this.counters_)}};var N_={},A_={};function Fv(e){let t=e.toString();return N_[t]||(N_[t]=new $_),N_[t]}function XU(e,t){let n=e.toString();return A_[n]||(A_[n]=t()),A_[n]}var G_=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Xo(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var qT="start",eH="close",tH="pLPCommand",nH="pRTLPCB",xS="id",FS="pw",LS="ser",iH="cb",rH="seg",oH="ts",sH="d",aH="dframe",VS=1870,BS=30,cH=VS-BS,lH=25e3,uH=3e4,W_=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ec(t),this.stats_=Fv(n),this.urlFn=c=>(this.appCheckToken&&(c[H_]=this.appCheckToken),PS(n,kS,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new G_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uH)),$U(()=>{if(this.isClosed_)return;this.scriptTagHolder=new z_((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===qT)this.id=a,this.password=c;else if(s===eH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[qT]="t",i[LS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[iH]=this.scriptTagHolder.uniqueCallbackIdentifier),i[IS]=wd,this.transportSessionId&&(i[TS]=this.transportSessionId),this.lastSessionId&&(i[AS]=this.lastSessionId),this.applicationId&&(i[RS]=this.applicationId),this.appCheckToken&&(i[H_]=this.appCheckToken),typeof location<"u"&&location.hostname&&NS.test(location.hostname)&&(i[SS]=MS);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return un()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WU()&&!zU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ve(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=mm(n),r=DS(i,cH);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(un())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[aH]="t",i[xS]=t,i[FS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ve(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},z_=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,un())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=jU(),window[tH+this.uniqueCallbackIdentifier]=t,window[nH+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ae("frame writing exception"),a.stack&&Ae(a.stack),Ae(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ae("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[xS]=this.myID,t[FS]=this.myPW,t[LS]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+BS+i.length<=VS;){let s=this.pendingSegs.shift();i=i+"&"+rH+r+"="+s.seg+"&"+oH+r+"="+s.ts+"&"+sH+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(lH)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){un()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ae("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var dH=16384,hH=45e3,Dd=null;typeof MozWebSocket<"u"?Dd=MozWebSocket:typeof WebSocket<"u"&&(Dd=WebSocket);var Fa=(()=>{class e{constructor(n,i,r,o,s,a,c){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ec(this.connId),this.stats_=Fv(i),this.connURL=e.connectionURL_(i,a,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[IS]=wd,!un()&&typeof location<"u"&&location.hostname&&NS.test(location.hostname)&&(a[SS]=MS),i&&(a[TS]=i),r&&(a[AS]=r),o&&(a[H_]=o),s&&(a[RS]=s),PS(n,OS,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,br.set("previous_websocket_failure",!0);try{let r;if(un()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${wd}/${kv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Dd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Dd!==null&&!e.forceDisallow_}static previouslyFailed(){return br.isInMemoryStorage||br.get("previous_websocket_failure")===!0}markConnectionHealthy(){br.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Ro(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=ve(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=DS(i,dH);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hH))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),fH=(()=>{class e{static get ALL_TRANSPORTS(){return[W_,Fa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let i=Fa&&Fa.isAvailable(),r=i&&!Fa.previouslyFailed();if(n.webSocketOnly&&(i||$e("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fa];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),pH=6e4,gH=5e3,mH=10*1024,_H=100*1024,R_="t",YT="d",vH="s",KT="r",yH="e",ZT="o",QT="a",JT="n",XT="p",bH="h",q_=class{constructor(t,n,i,r,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ec("c:"+this.id+":"),this.transportManager_=new fH(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=ja(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_H?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(R_ in t){let n=t[R_];n===QT?this.upgradeIfSecondaryHealthy_():n===KT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ZT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=xa("t",t),i=xa("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:XT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:QT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:JT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=xa("t",t),i=xa("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=xa(R_,t);if(YT in t){let i=t[YT];if(n===bH){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===JT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vH?this.onConnectionShutdown_(i):n===KT?this.onReset_(i):n===yH?B_("Server Error: "+i):n===ZT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):B_("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wd!==i&&$e("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),ja(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(pH))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ja(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:XT,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(br.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Cd=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var Id=class{constructor(t){this.allowedEvents_=t,this.listeners_={},_(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){_(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Td=class e extends Id{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!pa()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return _(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var eS=32,tS=768,ee=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function K(){return new ee("")}function z(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ti(e){return e.pieces_.length-e.pieceNum_}function oe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ee(e.pieces_,t)}function Lv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function wH(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Wa(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function jS(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ee(t,0)}function fe(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ee)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ee(n,0)}function W(e){return e.pieceNum_>=e.pieces_.length}function He(e,t){let n=z(e),i=z(t);if(n===null)return t;if(n===i)return He(oe(e),oe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function EH(e,t){let n=Wa(e,0),i=Wa(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Cr(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function US(e,t){if(Ti(e)!==Ti(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function bt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Ti(e)>Ti(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var Y_=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Wa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=va(this.parts_[i]);HS(this)}};function DH(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=va(t),HS(e)}function CH(e){let t=e.parts_.pop();e.byteLength_-=va(t),e.parts_.length>0&&(e.byteLength_-=1)}function HS(e){if(e.byteLength_>tS)throw new Error(e.errorPrefix_+"has a key path longer than "+tS+" bytes ("+e.byteLength_+").");if(e.parts_.length>eS)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eS+") or object contains a cycle "+yr(e))}function yr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var K_=class e extends Id{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(t){return _(t==="visible","Unknown event type: "+t),[this.visible_]}};var La=1e3,IH=60*5*1e3,nS=30*1e3,TH=1.3,SH=3e4,MH="server_kill",iS=3,Vv=(()=>{class e extends Cd{constructor(n,i,r,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=ec("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=La,this.maxReconnectDelay_=IH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!un())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");K_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Td.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(ve(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new yt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Bt(n,"w")){let r=cr(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();$e(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||_I(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nS)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=mI(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ve(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):B_("Unrecognized action received from server: "+ve(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>SH&&(this.reconnectDelay_=La),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TH)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,r())},u=function(h){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ae("getToken() completed but was canceled"):(Ae("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new q_(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,g=>{$e(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(MH)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&$e(h),l())}}})}interrupt(n){Ae("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ae("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ga(this.interruptReasons_)&&(this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>xv(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new ee(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Ae("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=iS&&(this.reconnectDelay_=nS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Ae("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=iS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";un()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+kv.replace(/\./g,"-")]=1,pa()?n["framework.cordova"]=1:Yu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Td.getInstance().currentlyOnline();return ga(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),$=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Wo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new $(Go,t),r=new $(Go,n);return this.compare(i,r)!==0}minPost(){return $.MIN}};var bd,Sd=class extends Wo{static get __EMPTY_NODE(){return bd}static set __EMPTY_NODE(t){bd=t}compare(t,n){return Cr(t.name,n.name)}isDefinedOn(t){throw ar("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return $.MIN}maxPost(){return new $(Er,bd)}makePost(t,n){return _(typeof t=="string","KeyIndex indexValue must always be a string."),new $(t,bd)}toString(){return".key"}},$o=new Sd;var Uo=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},$t=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??wt.EMPTY_NODE,this.right=s??wt.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return wt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Z_=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new $t(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,$t.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$t.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Uo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Uo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Uo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Uo(this.root_,null,this.comparator_,!0,t)}};wt.EMPTY_NODE=new Z_;function NH(e,t){return Cr(e.name,t.name)}function Bv(e,t){return Cr(e,t)}var Q_;function AH(e){Q_=e}var $S=function(e){return typeof e=="number"?"number:"+CS(e):"string:"+e},GS=function(e){if(e.isLeafNode()){let t=e.val();_(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Bt(t,".sv"),"Priority must be a string or number.")}else _(e===Q_||e.isEmpty(),"priority of unexpected type.");_(e===Q_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var rS,zo=(()=>{class e{static set __childrenNodeConstructor(n){rS=n}static get __childrenNodeConstructor(){return rS}constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),GS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:z(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=z(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(_(r!==".priority"||Ti(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(oe(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+$S(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=CS(this.value_):n+=this.value_,this.lazyHash_=ES(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return _(o>=0,"Unknown leaf type: "+i),_(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),WS,zS;function RH(e){WS=e}function OH(e){zS=e}var J_=class extends Wo{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Cr(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return $.MIN}maxPost(){return new $(Er,new zo("[PRIORITY-POST]",zS))}makePost(t,n){let i=WS(t);return new $(n,new zo("[PRIORITY-POST]",i))}toString(){return".priority"}},pe=new J_;var kH=Math.log(2),X_=class{constructor(t){let n=o=>parseInt(Math.log(o)/kH,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Md=function(e,t,n,i){e.sort(t);let r=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=e[c],h=n?n(d):d,new $t(h,d.node,$t.BLACK,null,null);{let f=parseInt(u/2,10)+c,g=r(c,f),y=r(f+1,l);return d=e[f],h=n?n(d):d,new $t(h,d.node,$t.BLACK,g,y)}},o=function(c){let l=null,u=null,d=e.length,h=function(g,y){let D=d-g,O=d;d-=g;let Fe=r(D+1,O),ut=e[D],oc=n?n(ut):ut;f(new $t(oc,ut.node,y,null,Fe))},f=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let y=c.nextBitIsOne(),D=Math.pow(2,c.count-(g+1));y?h(D,$t.BLACK):(h(D,$t.BLACK),h(D,$t.RED))}return u},s=new X_(e.length),a=o(s);return new wt(i||t,a)};var O_,jo={},qo=class e{static get Default(){return _(jo&&pe,"ChildrenNode.ts has not been loaded"),O_=O_||new e({".priority":jo},{".priority":pe}),O_}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=cr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof wt?n:null}hasIndex(t){return Bt(this.indexSet_,t.toString())}addIndex(t,n){_(t!==$o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator($.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Md(i,t.getCompare()):a=jo;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let i=ma(this.indexes_,(r,o)=>{let s=cr(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),r===jo)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator($.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Md(a,s.getCompare())}else return jo;else{let a=n.get(t.name),c=r;return a&&(c=c.remove(new $(t.name,a))),c.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=ma(this.indexes_,r=>{if(r===jo)return r;{let o=n.get(t.name);return o?r.remove(new $(t.name,o)):r}});return new e(i,this.indexSet_)}};var Va,x=(()=>{class e{static get EMPTY_NODE(){return Va||(Va=new e(new wt(Bv),null,qo.Default))}constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&GS(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Va}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Va:i}}getChild(n){let i=z(n);return i===null?this:this.getImmediateChild(i).getChild(oe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(_(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new $(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Va:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=z(n);if(r===null)return i;{_(z(n)!==".priority"||Ti(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(oe(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(pe,(a,c)=>{i[a]=c.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let c in i)a[c]=i[c];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+$S(this.getPriority().val())+":"),this.forEachChild(pe,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":ES(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new $(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new $(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new $(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,$.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,$.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===tc?-1:0}withIndex(n){if(n===$o||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===$o||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(pe),o=i.getIterator(pe),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===$o?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),ev=class extends x{constructor(){super(new wt(Bv),x.EMPTY_NODE,qo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}},tc=new ev;Object.defineProperties($,{MIN:{value:new $(Go,x.EMPTY_NODE)},MAX:{value:new $(Er,tc)}});Sd.__EMPTY_NODE=x.EMPTY_NODE;zo.__childrenNodeConstructor=x;AH(tc);OH(tc);var PH=!0;function Ce(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),_(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new zo(n,Ce(t))}if(!(e instanceof Array)&&PH){let n=[],i=!1;if(Re(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=Ce(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),n.push(new $(s,c)))}}),n.length===0)return x.EMPTY_NODE;let o=Md(n,NH,s=>s.name,Bv);if(i){let s=Md(n,pe.getCompare());return new x(o,Ce(t),new qo({".priority":s},{".priority":pe}))}else return new x(o,Ce(t),qo.Default)}else{let n=x.EMPTY_NODE;return Re(e,(i,r)=>{if(Bt(e,i)&&i.substring(0,1)!=="."){let o=Ce(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Ce(t))}}RH(Ce);var tv=class extends Wo{constructor(t){super(),this.indexPath_=t,_(!W(t)&&z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Cr(t.name,n.name):o}makePost(t,n){let i=Ce(t),r=x.EMPTY_NODE.updateChild(this.indexPath_,i);return new $(n,r)}maxPost(){let t=x.EMPTY_NODE.updateChild(this.indexPath_,tc);return new $(Er,t)}toString(){return Wa(this.indexPath_,0).join("/")}};var nv=class extends Wo{compare(t,n){let i=t.node.compareTo(n.node);return i===0?Cr(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return $.MIN}maxPost(){return $.MAX}makePost(t,n){let i=Ce(t);return new $(n,i)}toString(){return".value"}},xH=new nv;function qS(e){return{type:"value",snapshotNode:e}}function Yo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function za(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function qa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function FH(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Ya=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){_(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(za(n,a)):_(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Yo(n,i)):s.trackChildChange(qa(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(pe,(r,o)=>{n.hasChild(r)||i.trackChildChange(za(r,o))}),n.isLeafNode()||n.forEachChild(pe,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(qa(r,o,s))}else i.trackChildChange(Yo(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Nd=class e{constructor(t){this.indexedFilter_=new Ya(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new $(n,i))||(i=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=x.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(pe,(s,a)=>{o.matches(new $(s,a))||(r=r.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var iv=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Nd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new $(n,i))||(i=x.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=t;_(a.numChildren()===this.limit_,"");let c=new $(n,i),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,l,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,c);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(qa(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(za(n,d));let y=a.updateImmediateChild(n,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Yo(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return i.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(za(l.name,l.node)),o.trackChildChange(Yo(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(l.name,x.EMPTY_NODE)):t}};var rv=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Go}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function LH(e){return e.loadsAllData()?new Ya(e.getIndex()):e.hasLimit()?new iv(e):new Nd(e)}function oS(e){let t={};if(e.isDefault())return t;let n;if(e.index_===pe?n="$priority":e.index_===xH?n="$value":e.index_===$o?n="$key":(_(e.index_ instanceof tv,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ve(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=ve(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+ve(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=ve(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+ve(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function sS(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==pe&&(t.i=e.index_.toString()),t}var ov=class e extends Cd{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(_(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ec("p:rest:"),this.listens_={}}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let c=oS(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,i),cr(this.listens_,s)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",r(h,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=oS(t._queryParams),i=t._path.toString(),r=new yt;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+lr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ro(a.responseText)}catch{$e("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&$e("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var sv=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Ad(){return{value:null,children:new Map}}function YS(e,t,n){if(W(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=z(t);e.children.has(i)||e.children.set(i,Ad());let r=e.children.get(i);t=oe(t),YS(r,t,n)}}function av(e,t,n){e.value!==null?n(t,e.value):VH(e,(i,r)=>{let o=new ee(t.toString()+"/"+i);av(r,o,n)})}function VH(e,t){e.children.forEach((n,i)=>{t(i,n)})}var cv=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Re(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var aS=10*1e3,BH=30*1e3,jH=5*60*1e3,lv=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cv(t);let i=aS+(BH-aS)*Math.random();ja(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;Re(t,(r,o)=>{o>0&&Bt(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),ja(this.reportStats_.bind(this),Math.floor(Math.random()*2*jH))}};var gn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(gn||{});function jv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Uv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var uv=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=gn.ACK_USER_WRITE,this.source=jv()}operationForChild(t){if(W(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ee(t));return new e(K(),n,this.revert)}}else return _(z(this.path)===t,"operationForChild called for unrelated child."),new e(oe(this.path),this.affectedTree,this.revert)}};var Rd=class e{constructor(t,n){this.source=t,this.path=n,this.type=gn.LISTEN_COMPLETE}operationForChild(t){return W(this.path)?new e(this.source,K()):new e(this.source,oe(this.path))}};var Ko=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=gn.OVERWRITE}operationForChild(t){return W(this.path)?new e(this.source,K(),this.snap.getImmediateChild(t)):new e(this.source,oe(this.path),this.snap)}};var Ka=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=gn.MERGE}operationForChild(t){if(W(this.path)){let n=this.children.subtree(new ee(t));return n.isEmpty()?null:n.value?new Ko(this.source,K(),n.value):new e(this.source,K(),n)}else return _(z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var mn=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(W(t))return this.isFullyInitialized()&&!this.filtered_;let n=z(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var dv=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function UH(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(FH(s.childName,s.snapshotNode))}),Ba(e,r,"child_removed",t,i,n),Ba(e,r,"child_added",t,i,n),Ba(e,r,"child_moved",o,i,n),Ba(e,r,"child_changed",t,i,n),Ba(e,r,"value",t,i,n),r}function Ba(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,c)=>$H(e,a,c)),s.forEach(a=>{let c=HH(e,a,o);r.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function HH(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function $H(e,t,n){if(t.childName==null||n.childName==null)throw ar("Should only compare child_ events.");let i=new $(t.childName,t.snapshotNode),r=new $(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function Ud(e,t){return{eventCache:e,serverCache:t}}function Ha(e,t,n,i){return Ud(new mn(t,n,i),e.serverCache)}function KS(e,t,n,i){return Ud(e.eventCache,new mn(t,n,i))}function Od(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Dr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var k_,GH=()=>(k_||(k_=new wt(GU)),k_),Ge=class e{static fromObject(t){let n=new e(null);return Re(t,(i,r)=>{n=n.set(new ee(i),r)}),n}constructor(t,n=GH()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(W(t))return null;{let i=z(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(oe(t),n);return o!=null?{path:fe(new ee(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(W(t))return this;{let n=z(t),i=this.children.get(n);return i!==null?i.subtree(oe(t)):new e(null)}}set(t,n){if(W(t))return new e(n,this.children);{let i=z(t),o=(this.children.get(i)||new e(null)).set(oe(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(W(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=z(t),i=this.children.get(n);if(i){let r=i.remove(oe(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(W(t))return this.value;{let n=z(t),i=this.children.get(n);return i?i.get(oe(t)):null}}setTree(t,n){if(W(t))return n;{let i=z(t),o=(this.children.get(i)||new e(null)).setTree(oe(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(K(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(fe(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,K(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(W(t))return null;{let o=z(t),s=this.children.get(o);return s?s.findOnPath_(oe(t),fe(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,K(),n)}foreachOnPath_(t,n,i){if(W(t))return this;{this.value&&i(n,this.value);let r=z(t),o=this.children.get(r);return o?o.foreachOnPath_(oe(t),fe(n,r),i):new e(null)}}foreach(t){this.foreach_(K(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(fe(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var Gt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ge(null))}};function $a(e,t,n){if(W(t))return new Gt(new Ge(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=He(r,t);return o=o.updateChild(s,n),new Gt(e.writeTree_.set(r,o))}else{let r=new Ge(n),o=e.writeTree_.setTree(t,r);return new Gt(o)}}}function hv(e,t,n){let i=e;return Re(n,(r,o)=>{i=$a(i,fe(t,r),o)}),i}function cS(e,t){if(W(t))return Gt.empty();{let n=e.writeTree_.setTree(t,new Ge(null));return new Gt(n)}}function fv(e,t){return Ir(e,t)!=null}function Ir(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(He(n.path,t)):null}function lS(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(i,r)=>{t.push(new $(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new $(i,r.value))}),t}function Ci(e,t){if(W(t))return e;{let n=Ir(e,t);return n!=null?new Gt(new Ge(n)):new Gt(e.writeTree_.subtree(t))}}function pv(e){return e.writeTree_.isEmpty()}function Zo(e,t){return ZS(K(),e.writeTree_,t)}function ZS(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=ZS(fe(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(fe(e,".priority"),i)),n}}function Hd(e,t){return e1(t,e)}function WH(e,t,n,i,r){_(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=$a(e.visibleWrites,t,n)),e.lastWriteId=i}function zH(e,t,n,i){_(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=hv(e.visibleWrites,t,n),e.lastWriteId=i}function qH(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function YH(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);_(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&KH(a,i.path)?r=!1:bt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return ZH(e),!0;if(i.snap)e.visibleWrites=cS(e.visibleWrites,i.path);else{let a=i.children;Re(a,c=>{e.visibleWrites=cS(e.visibleWrites,fe(i.path,c))})}return!0}else return!1}function KH(e,t){if(e.snap)return bt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&bt(fe(e.path,n),t))return!0;return!1}function ZH(e){e.visibleWrites=QS(e.allWrites,QH,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function QH(e){return e.visible}function QS(e,t,n){let i=Gt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)bt(n,s)?(a=He(n,s),i=$a(i,a,o.snap)):bt(s,n)&&(a=He(s,n),i=$a(i,K(),o.snap.getChild(a)));else if(o.children){if(bt(n,s))a=He(n,s),i=hv(i,a,o.children);else if(bt(s,n))if(a=He(s,n),W(a))i=hv(i,K(),o.children);else{let c=cr(o.children,z(a));if(c){let l=c.getChild(oe(a));i=$a(i,K(),l)}}}else throw ar("WriteRecord should have .snap or .children")}}return i}function JS(e,t,n,i,r){if(!i&&!r){let o=Ir(e.visibleWrites,t);if(o!=null)return o;{let s=Ci(e.visibleWrites,t);if(pv(s))return n;if(n==null&&!fv(s,K()))return null;{let a=n||x.EMPTY_NODE;return Zo(s,a)}}}else{let o=Ci(e.visibleWrites,t);if(!r&&pv(o))return n;if(!r&&n==null&&!fv(o,K()))return null;{let s=function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(bt(l.path,t)||bt(t,l.path))},a=QS(e.allWrites,s,t),c=n||x.EMPTY_NODE;return Zo(a,c)}}}function JH(e,t,n){let i=x.EMPTY_NODE,r=Ir(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(pe,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=Ci(e.visibleWrites,t);return n.forEachChild(pe,(s,a)=>{let c=Zo(Ci(o,new ee(s)),a);i=i.updateImmediateChild(s,c)}),lS(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Ci(e.visibleWrites,t);return lS(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function XH(e,t,n,i,r){_(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=fe(t,n);if(fv(e.visibleWrites,o))return null;{let s=Ci(e.visibleWrites,o);return pv(s)?r.getChild(n):Zo(s,r.getChild(n))}}function e$(e,t,n,i){let r=fe(t,n),o=Ir(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=Ci(e.visibleWrites,r);return Zo(s,i.getNode().getImmediateChild(n))}else return null}function t$(e,t){return Ir(e.visibleWrites,t)}function n$(e,t,n,i,r,o,s){let a,c=Ci(e.visibleWrites,t),l=Ir(c,K());if(l!=null)a=l;else if(n!=null)a=Zo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function i$(){return{visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1}}function kd(e,t,n,i){return JS(e.writeTree,e.treePath,t,n,i)}function $v(e,t){return JH(e.writeTree,e.treePath,t)}function uS(e,t,n,i){return XH(e.writeTree,e.treePath,t,n,i)}function Pd(e,t){return t$(e.writeTree,fe(e.treePath,t))}function r$(e,t,n,i,r,o){return n$(e.writeTree,e.treePath,t,n,i,r,o)}function Gv(e,t,n){return e$(e.writeTree,e.treePath,t,n)}function XS(e,t){return e1(fe(e.treePath,t),e.writeTree)}function e1(e,t){return{treePath:e,writeTree:t}}var gv=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,qa(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,za(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Yo(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,qa(i,t.snapshotNode,r.oldSnap));else throw ar("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var mv=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},t1=new mv,Za=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new mn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gv(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Dr(this.viewCache_),o=r$(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function o$(e){return{filter:e}}function s$(e,t){_(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),_(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function a$(e,t,n,i,r){let o=new gv,s,a;if(n.type===gn.OVERWRITE){let l=n;l.source.fromUser?s=_v(e,t,l.path,l.snap,i,r,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!W(l.path),s=xd(e,t,l.path,l.snap,i,r,a,o))}else if(n.type===gn.MERGE){let l=n;l.source.fromUser?s=l$(e,t,l.path,l.children,i,r,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=vv(e,t,l.path,l.children,i,r,a,o))}else if(n.type===gn.ACK_USER_WRITE){let l=n;l.revert?s=h$(e,t,l.path,i,r,o):s=u$(e,t,l.path,l.affectedTree,i,r,o)}else if(n.type===gn.LISTEN_COMPLETE)s=d$(e,t,n.path,i,o);else throw ar("Unknown operation type: "+n.type);let c=o.getChanges();return c$(t,s,c),{viewCache:s,changes:c}}function c$(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Od(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(qS(Od(t)))}}function n1(e,t,n,i,r,o){let s=t.eventCache;if(Pd(i,n)!=null)return t;{let a,c;if(W(n))if(_(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Dr(t),u=l instanceof x?l:x.EMPTY_NODE,d=$v(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=kd(i,Dr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=z(n);if(l===".priority"){_(Ti(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=uS(i,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=oe(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let h=uS(i,n,s.getNode(),c);h!=null?d=s.getNode().getImmediateChild(l).updateChild(u,h):d=s.getNode().getImmediateChild(l)}else d=Gv(i,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,r,o):a=s.getNode()}}return Ha(t,a,s.isFullyInitialized()||W(n),e.filter.filtersNodes())}}function xd(e,t,n,i,r,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(W(n))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){let f=c.getNode().updateChild(n,i);l=u.updateFullNode(c.getNode(),f,null)}else{let f=z(n);if(!c.isCompleteForPath(n)&&Ti(n)>1)return t;let g=oe(n),D=c.getNode().getImmediateChild(f).updateChild(g,i);f===".priority"?l=u.updatePriority(c.getNode(),D):l=u.updateChild(c.getNode(),f,D,g,t1,null)}let d=KS(t,l,c.isFullyInitialized()||W(n),u.filtersNodes()),h=new Za(r,d,o);return n1(e,d,n,r,h,a)}function _v(e,t,n,i,r,o,s){let a=t.eventCache,c,l,u=new Za(r,t,o);if(W(n))l=e.filter.updateFullNode(t.eventCache.getNode(),i,s),c=Ha(t,l,!0,e.filter.filtersNodes());else{let d=z(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),i),c=Ha(t,l,a.isFullyInitialized(),a.isFiltered());else{let h=oe(n),f=a.getNode().getImmediateChild(d),g;if(W(h))g=i;else{let y=u.getCompleteChild(d);y!=null?Lv(h)===".priority"&&y.getChild(jS(h)).isEmpty()?g=y:g=y.updateChild(h,i):g=x.EMPTY_NODE}if(f.equals(g))c=t;else{let y=e.filter.updateChild(a.getNode(),d,g,h,u,s);c=Ha(t,y,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function dS(e,t){return e.eventCache.isCompleteForChild(t)}function l$(e,t,n,i,r,o,s){let a=t;return i.foreach((c,l)=>{let u=fe(n,c);dS(t,z(u))&&(a=_v(e,a,u,l,r,o,s))}),i.foreach((c,l)=>{let u=fe(n,c);dS(t,z(u))||(a=_v(e,a,u,l,r,o,s))}),a}function hS(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function vv(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;W(n)?l=i:l=new Ge(null).setTree(n,i);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),g=hS(e,f,h);c=xd(e,c,new ee(d),g,r,o,s,a)}}),l.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let g=t.serverCache.getNode().getImmediateChild(d),y=hS(e,g,h);c=xd(e,c,new ee(d),y,r,o,s,a)}}),c}function u$(e,t,n,i,r,o,s){if(Pd(r,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(i.value!=null){if(W(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return xd(e,t,n,c.getNode().getChild(n),r,o,a,s);if(W(n)){let l=new Ge(null);return c.getNode().forEachChild($o,(u,d)=>{l=l.set(new ee(u),d)}),vv(e,t,n,l,r,o,a,s)}else return t}else{let l=new Ge(null);return i.foreach((u,d)=>{let h=fe(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),vv(e,t,n,l,r,o,a,s)}}function d$(e,t,n,i,r){let o=t.serverCache,s=KS(t,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered());return n1(e,s,n,i,t1,r)}function h$(e,t,n,i,r,o){let s;if(Pd(i,n)!=null)return t;{let a=new Za(i,t,r),c=t.eventCache.getNode(),l;if(W(n)||z(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=kd(i,Dr(t));else{let d=t.serverCache.getNode();_(d instanceof x,"serverChildren would be complete if leaf node"),u=$v(i,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=z(n),d=Gv(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,oe(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,x.EMPTY_NODE,oe(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=kd(i,Dr(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Pd(i,K())!=null,Ha(t,l,s,e.filter.filtersNodes())}}var yv=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Ya(i.getIndex()),o=LH(i);this.processor_=o$(o);let s=n.serverCache,a=n.eventCache,c=r.updateFullNode(x.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new mn(c,s.isFullyInitialized(),r.filtersNodes()),d=new mn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ud(d,u),this.eventGenerator_=new dv(this.query_)}get query(){return this.query_}};function f$(e){return e.viewCache_.serverCache.getNode()}function p$(e){return Od(e.viewCache_)}function g$(e,t){let n=Dr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!W(t)&&!n.getImmediateChild(z(t)).isEmpty())?n.getChild(t):null}function fS(e){return e.eventRegistrations_.length===0}function m$(e,t){e.eventRegistrations_.push(t)}function pS(e,t,n){let i=[];if(n){_(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function gS(e,t,n,i){t.type===gn.MERGE&&t.source.queryId!==null&&(_(Dr(e.viewCache_),"We should always have a full cache before handling merges"),_(Od(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=a$(e.processor_,r,t,n,i);return s$(e.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,i1(e,o.changes,o.viewCache.eventCache.getNode(),null)}function _$(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(o,s)=>{i.push(Yo(o,s))}),n.isFullyInitialized()&&i.push(qS(n.getNode())),i1(e,i,n.getNode(),t)}function i1(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return UH(e.eventGenerator_,t,n,r)}var Fd,Ld=class{constructor(){this.views=new Map}};function v$(e){_(!Fd,"__referenceConstructor has already been defined"),Fd=e}function y$(){return _(Fd,"Reference.ts has not been loaded"),Fd}function b$(e){return e.views.size===0}function Wv(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return _(o!=null,"SyncTree gave us an op for an invalid query."),gS(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(gS(s,t,n,i));return o}}function r1(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=kd(n,r?i:null),c=!1;a?c=!0:i instanceof x?(a=$v(n,i),c=!1):(a=x.EMPTY_NODE,c=!1);let l=Ud(new mn(a,c,!1),new mn(i,r,!1));return new yv(t,l)}return s}function w$(e,t,n,i,r,o){let s=r1(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),m$(s,n),_$(s,n)}function E$(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=Si(e);if(r==="default")for(let[c,l]of e.views.entries())s=s.concat(pS(l,n,i)),fS(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(r);c&&(s=s.concat(pS(c,n,i)),fS(c)&&(e.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Si(e)&&o.push(new(y$())(t._repo,t._path)),{removed:o,events:s}}function o1(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ii(e,t){let n=null;for(let i of e.views.values())n=n||g$(i,t);return n}function s1(e,t){if(t._queryParams.loadsAllData())return $d(e);{let i=t._queryIdentifier;return e.views.get(i)}}function a1(e,t){return s1(e,t)!=null}function Si(e){return $d(e)!=null}function $d(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Vd;function D$(e){_(!Vd,"__referenceConstructor has already been defined"),Vd=e}function C$(){return _(Vd,"Reference.ts has not been loaded"),Vd}var I$=1,Bd=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ge(null),this.pendingWriteTree_=i$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function c1(e,t,n,i,r){return WH(e.pendingWriteTree_,t,n,i,r),r?es(e,new Ko(jv(),t,n)):[]}function T$(e,t,n,i){zH(e.pendingWriteTree_,t,n,i);let r=Ge.fromObject(n);return es(e,new Ka(jv(),t,r))}function Di(e,t,n=!1){let i=qH(e.pendingWriteTree_,t);if(YH(e.pendingWriteTree_,t)){let o=new Ge(null);return i.snap!=null?o=o.set(K(),!0):Re(i.children,s=>{o=o.set(new ee(s),!0)}),es(e,new uv(i.path,o,n))}else return[]}function nc(e,t,n){return es(e,new Ko(Uv(),t,n))}function S$(e,t,n){let i=Ge.fromObject(n);return es(e,new Ka(Uv(),t,i))}function M$(e,t){return es(e,new Rd(Uv(),t))}function N$(e,t,n){let i=qv(e,n);if(i){let r=Yv(i),o=r.path,s=r.queryId,a=He(o,t),c=new Rd(Hv(s),a);return Kv(e,o,c)}else return[]}function l1(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||a1(s,t))){let c=E$(s,t,n,i);b$(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!r){let u=l.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>Si(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=k$(h);for(let g=0;g<f.length;++g){let y=f[g],D=y.query,O=f1(e,y);e.listenProvider_.startListening(Ga(D),Qa(e,D),O.hashFn,O.onComplete)}}}!d&&l.length>0&&!i&&(u?e.listenProvider_.stopListening(Ga(t),null):l.forEach(h=>{let f=e.queryToTagMap.get(Gd(h));e.listenProvider_.stopListening(Ga(h),f)}))}P$(e,l)}return a}function u1(e,t,n,i){let r=qv(e,i);if(r!=null){let o=Yv(r),s=o.path,a=o.queryId,c=He(s,t),l=new Ko(Hv(a),c,n);return Kv(e,s,l)}else return[]}function A$(e,t,n,i){let r=qv(e,i);if(r){let o=Yv(r),s=o.path,a=o.queryId,c=He(s,t),l=Ge.fromObject(n),u=new Ka(Hv(a),c,l);return Kv(e,s,u)}else return[]}function R$(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let g=He(h,r);o=o||Ii(f,g),s=s||Si(f)});let a=e.syncPointTree_.get(r);a?(s=s||Si(a),o=o||Ii(a,K())):(a=new Ld,e.syncPointTree_=e.syncPointTree_.set(r,a));let c;o!=null?c=!0:(c=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,g)=>{let y=Ii(g,K());y&&(o=o.updateImmediateChild(f,y))}));let l=a1(a,t);if(!l&&!t._queryParams.loadsAllData()){let h=Gd(t);_(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=x$();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=Hd(e.pendingWriteTree_,r),d=w$(a,t,n,u,o,c);if(!l&&!s&&!i){let h=s1(a,t);d=d.concat(F$(e,t,h))}return d}function zv(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=He(s,t),l=Ii(a,c);if(l)return l});return JS(r,t,o,n,!0)}function O$(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=He(l,n);i=i||Ii(u,d)});let r=e.syncPointTree_.get(n);r?i=i||Ii(r,K()):(r=new Ld,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new mn(i,!0,!1):null,a=Hd(e.pendingWriteTree_,t._path),c=r1(r,t,a,o?s.getNode():x.EMPTY_NODE,o);return p$(c)}function es(e,t){return d1(t,e.syncPointTree_,null,Hd(e.pendingWriteTree_,K()))}function d1(e,t,n,i){if(W(e.path))return h1(e,t,n,i);{let r=t.get(K());n==null&&r!=null&&(n=Ii(r,K()));let o=[],s=z(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=XS(i,s);o=o.concat(d1(a,c,l,u))}return r&&(o=o.concat(Wv(r,e,i,n))),o}}function h1(e,t,n,i){let r=t.get(K());n==null&&r!=null&&(n=Ii(r,K()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=XS(i,s),u=e.operationForChild(s);u&&(o=o.concat(h1(u,a,c,l)))}),r&&(o=o.concat(Wv(r,e,i,n))),o}function f1(e,t){let n=t.query,i=Qa(e,n);return{hashFn:()=>(f$(t)||x.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?N$(e,n._path,i):M$(e,n._path);{let o=qU(r,n);return l1(e,n,null,o)}}}}function Qa(e,t){let n=Gd(t);return e.queryToTagMap.get(n)}function Gd(e){return e._path.toString()+"$"+e._queryIdentifier}function qv(e,t){return e.tagToQueryMap.get(t)}function Yv(e){let t=e.indexOf("$");return _(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ee(e.substr(0,t))}}function Kv(e,t,n){let i=e.syncPointTree_.get(t);_(i,"Missing sync point for query tag that we're tracking");let r=Hd(e.pendingWriteTree_,t);return Wv(i,n,r,null)}function k$(e){return e.fold((t,n,i)=>{if(n&&Si(n))return[$d(n)];{let r=[];return n&&(r=o1(n)),Re(i,(o,s)=>{r=r.concat(s)}),r}})}function Ga(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(C$())(e._repo,e._path):e}function P$(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=Gd(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function x$(){return I$++}function F$(e,t,n){let i=t._path,r=Qa(e,t),o=f1(e,n),s=e.listenProvider_.startListening(Ga(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)_(!Si(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!W(l)&&u&&Si(u))return[$d(u).query];{let h=[];return u&&(h=h.concat(o1(u).map(f=>f.query))),Re(d,(f,g)=>{h=h.concat(g)}),h}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(Ga(u),Qa(e,u))}}return s}var bv=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},wv=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=fe(this.path_,t);return new e(this.syncTree_,n)}node(){return zv(this.syncTree_,this.path_)}},L$=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},mS=function(e,t,n){if(!e||typeof e!="object")return e;if(_(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return V$(e[".sv"],t,n);if(typeof e[".sv"]=="object")return B$(e[".sv"],t);_(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},V$=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+e)}},B$=function(e,t,n){e.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&_(!1,"Unexpected increment value: "+i);let r=t.node();if(_(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},p1=function(e,t,n,i){return Zv(t,new wv(n,e),i)},g1=function(e,t,n){return Zv(e,new bv(t),n)};function Zv(e,t,n){let i=e.getPriority().val(),r=mS(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=mS(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new zo(a,Ce(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new zo(r))),s.forEachChild(pe,(a,c)=>{let l=Zv(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ja=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function Qv(e,t){let n=t instanceof ee?t:new ee(t),i=e,r=z(n);for(;r!==null;){let o=cr(i.node.children,r)||{children:{},childCount:0};i=new Ja(r,i,o),n=oe(n),r=z(n)}return i}function ts(e){return e.node.value}function m1(e,t){e.node.value=t,Ev(e)}function _1(e){return e.node.childCount>0}function j$(e){return ts(e)===void 0&&!_1(e)}function Wd(e,t){Re(e.node.children,(n,i)=>{t(new Ja(n,e,i))})}function v1(e,t,n,i){n&&!i&&t(e),Wd(e,r=>{v1(r,t,!0,i)}),n&&i&&t(e)}function U$(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ic(e){return new ee(e.parent===null?e.name:ic(e.parent)+"/"+e.name)}function Ev(e){e.parent!==null&&H$(e.parent,e.name,e)}function H$(e,t,n){let i=j$(n),r=Bt(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Ev(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,Ev(e))}var $$=/[\[\].#$\/\u0000-\u001F\u007F]/,G$=/[\[\].#$\u0000-\u001F\u007F]/,P_=10*1024*1024,Jv=function(e){return typeof e=="string"&&e.length!==0&&!$$.test(e)},y1=function(e){return typeof e=="string"&&e.length!==0&&!G$.test(e)},W$=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),y1(e)},z$=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Pv(e)||e&&typeof e=="object"&&Bt(e,".sv")},b1=function(e,t,n,i){i&&t===void 0||zd(_a(e,"value"),t,n)},zd=function(e,t,n){let i=n instanceof ee?new Y_(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+yr(i));if(typeof t=="function")throw new Error(e+"contains a function "+yr(i)+" with contents = "+t.toString());if(Pv(t))throw new Error(e+"contains "+t.toString()+" "+yr(i));if(typeof t=="string"&&t.length>P_/3&&va(t)>P_)throw new Error(e+"contains a string greater than "+P_+" utf8 bytes "+yr(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(Re(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Jv(s)))throw new Error(e+" contains an invalid key ("+s+") "+yr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);DH(i,s),zd(e,a,i),CH(i)}),r&&o)throw new Error(e+' contains ".value" child '+yr(i)+" in addition to actual children.")}},q$=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=Wa(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Jv(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(EH);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&bt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},Y$=function(e,t,n,i){if(i&&t===void 0)return;let r=_a(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];Re(t,(s,a)=>{let c=new ee(s);if(zd(r,a,fe(n,c)),Lv(c)===".priority"&&!z$(a))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),q$(r,o)};var w1=function(e,t,n,i){if(!(i&&n===void 0)&&!y1(n))throw new Error(_a(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},K$=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),w1(e,t,n,i)},E1=function(e,t){if(z(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Z$=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Jv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!W$(n))throw new Error(_a(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Dv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Xv(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!US(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function Et(e,t,n){Xv(e,n),Q$(e,i=>bt(i,t)||bt(t,i))}function Q$(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(J$(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function J$(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();wr&&Ae("event: "+n.toString()),Xo(i)}}}var X$="repo_interrupt",eG=25,Cv=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ad(),this.transactionQueueTree_=new Ja,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function tG(e,t,n){if(e.stats_=Fv(e.repoInfo_),e.forceRestClient_||QU())e.server_=new ov(e.repoInfo_,(i,r,o,s)=>{_S(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>vS(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ve(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Vv(e.repoInfo_,t,(i,r,o,s)=>{_S(e,i,r,o,s)},i=>{vS(e,i)},i=>{nG(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=XU(e.repoInfo_,()=>new lv(e.stats_,e.server_)),e.infoData_=new sv,e.infoSyncTree_=new Bd({startListening:(i,r,o,s)=>{let a=[],c=e.infoData_.getNode(i._path);return c.isEmpty()||(a=nc(e.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),ey(e,"connected",!1),e.serverSyncTree_=new Bd({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,c)=>{let l=s(a,c);Et(e.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function D1(e){let n=e.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qd(e){return L$({timestamp:D1(e)})}function _S(e,t,n,i,r){e.dataUpdateCount++;let o=new ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let c=ma(n,l=>Ce(l));s=A$(e.serverSyncTree_,o,c,r)}else{let c=Ce(n);s=u1(e.serverSyncTree_,o,c,r)}else if(i){let c=ma(n,l=>Ce(l));s=S$(e.serverSyncTree_,o,c)}else{let c=Ce(n);s=nc(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Qo(e,o)),Et(e.eventQueue_,a,s)}function vS(e,t){ey(e,"connected",t),t===!1&&sG(e)}function nG(e,t){Re(t,(n,i)=>{ey(e,n,i)})}function ey(e,t,n){let i=new ee("/.info/"+t),r=Ce(n);e.infoData_.updateSnapshot(i,r);let o=nc(e.infoSyncTree_,i,r);Et(e.eventQueue_,i,o)}function ty(e){return e.nextWriteId_++}function iG(e,t,n){let i=O$(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=Ce(r).withIndex(t._queryParams.getIndex());R$(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=nc(e.serverSyncTree_,t._path,o);else{let a=Qa(e.serverSyncTree_,t);s=u1(e.serverSyncTree_,t._path,o,a)}return Et(e.eventQueue_,t._path,s),l1(e.serverSyncTree_,t,n,null,!0),o},r=>(rc(e,"get for query "+ve(t)+" failed: "+r),Promise.reject(new Error(r))))}function rG(e,t,n,i,r){rc(e,"set",{path:t.toString(),value:n,priority:i});let o=qd(e),s=Ce(n,i),a=zv(e.serverSyncTree_,t),c=g1(s,a,o),l=ty(e),u=c1(e.serverSyncTree_,t,c,l,!0);Xv(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{let g=h==="ok";g||$e("set at "+t+" failed: "+h);let y=Di(e.serverSyncTree_,l,!g);Et(e.eventQueue_,t,y),Iv(e,r,h,f)});let d=iy(e,t);Qo(e,d),Et(e.eventQueue_,d,[])}function oG(e,t,n,i){rc(e,"update",{path:t.toString(),value:n});let r=!0,o=qd(e),s={};if(Re(n,(a,c)=>{r=!1,s[a]=p1(fe(t,a),Ce(c),e.serverSyncTree_,o)}),r)Ae("update() called with empty data.  Don't do anything."),Iv(e,i,"ok",void 0);else{let a=ty(e),c=T$(e.serverSyncTree_,t,s,a);Xv(e.eventQueue_,c),e.server_.merge(t.toString(),n,(l,u)=>{let d=l==="ok";d||$e("update at "+t+" failed: "+l);let h=Di(e.serverSyncTree_,a,!d),f=h.length>0?Qo(e,t):t;Et(e.eventQueue_,f,h),Iv(e,i,l,u)}),Re(n,l=>{let u=iy(e,fe(t,l));Qo(e,u)}),Et(e.eventQueue_,t,[])}}function sG(e){rc(e,"onDisconnectEvents");let t=qd(e),n=Ad();av(e.onDisconnect_,K(),(r,o)=>{let s=p1(r,o,e.serverSyncTree_,t);YS(n,r,s)});let i=[];av(n,K(),(r,o)=>{i=i.concat(nc(e.serverSyncTree_,r,o));let s=iy(e,r);Qo(e,s)}),e.onDisconnect_=Ad(),Et(e.eventQueue_,K(),i)}function aG(e){e.persistentConnection_&&e.persistentConnection_.interrupt(X$)}function rc(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ae(n,...t)}function Iv(e,t,n,i){t&&Xo(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function C1(e,t,n){return zv(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function ny(e,t=e.transactionQueueTree_){if(t||Yd(e,t),ts(t)){let n=T1(e,t);_(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&cG(e,ic(t),n)}else _1(t)&&Wd(t,n=>{ny(e,n)})}function cG(e,t,n){let i=n.map(l=>l.currentWriteId),r=C1(e,t,i),o=r,s=r.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=He(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{rc(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Di(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Yd(e,Qv(e.transactionQueueTree_,t)),ny(e,e.transactionQueueTree_),Et(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)Xo(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{$e("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Qo(e,t)}},s)}function Qo(e,t){let n=I1(e,t),i=ic(n),r=T1(e,n);return lG(e,r,i),i}function lG(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=He(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,r=r.concat(Di(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=eG)u=!0,d="maxretry",r=r.concat(Di(e.serverSyncTree_,c.currentWriteId,!0));else{let h=C1(e,c.path,s);c.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){zd("transaction failed: Data returned ",f,c.path);let g=Ce(f);typeof f=="object"&&f!=null&&Bt(f,".priority")||(g=g.updatePriority(h.getPriority()));let D=c.currentWriteId,O=qd(e),Fe=g1(g,h,O);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=Fe,c.currentWriteId=ty(e),s.splice(s.indexOf(D),1),r=r.concat(c1(e.serverSyncTree_,c.path,Fe,c.currentWriteId,c.applyLocally)),r=r.concat(Di(e.serverSyncTree_,D,!0))}else u=!0,d="nodata",r=r.concat(Di(e.serverSyncTree_,c.currentWriteId,!0))}Et(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Yd(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Xo(i[a]);ny(e,e.transactionQueueTree_)}function I1(e,t){let n,i=e.transactionQueueTree_;for(n=z(t);n!==null&&ts(i)===void 0;)i=Qv(i,n),t=oe(t),n=z(t);return i}function T1(e,t){let n=[];return S1(e,t,n),n.sort((i,r)=>i.order-r.order),n}function S1(e,t,n){let i=ts(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Wd(t,r=>{S1(e,r,n)})}function Yd(e,t){let n=ts(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,m1(t,n.length>0?n:void 0)}Wd(t,i=>{Yd(e,i)})}function iy(e,t){let n=ic(I1(e,t)),i=Qv(e.transactionQueueTree_,t);return U$(i,r=>{x_(e,r)}),x_(e,i),v1(i,r=>{x_(e,r)}),n}function x_(e,t){let n=ts(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(Di(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?m1(t,void 0):n.length=o+1,Et(e.eventQueue_,ic(t),r);for(let s=0;s<i.length;s++)Xo(i[s])}}function uG(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function dG(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):$e(`Invalid query segment '${n}' in query '${e}'`)}return t}var yS=function(e,t){let n=hG(e),i=n.namespace;n.domain==="firebase.com"&&Bn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||HU();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ed(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ee(n.pathString)}},hG=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=uG(e.substring(u,d)));let h=dG(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let f=t.slice(0,l);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var bS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fG=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=bS.charAt(n%64),n=Math.floor(n/64);_(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=bS.charAt(t[r]);return _(s.length===20,"nextPushId: Length should be 20."),s}}();var Tv=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ve(this.snapshot.exportVal())}},Sv=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Mv=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var Nv=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return W(this._path)?null:Lv(this._path)}get ref(){return new jn(this._repo,this._path)}get _queryIdentifier(){let t=sS(this._queryParams),n=xv(t);return n==="{}"?"default":n}get _queryObject(){return sS(this._queryParams)}isEqual(t){if(t=Me(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=US(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+wH(this._path)}};var jn=class e extends Nv{constructor(t,n){super(t,n,new rv,!1)}get parent(){let t=jS(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},jd=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new ee(t),i=Jo(this.ref,t);return new e(this._node.getChild(n),i,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,Jo(this.ref,i),pe)))}hasChild(t){let n=new ee(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function M1(e,t){return e=Me(e),e._checkNotDeleted("ref"),t!==void 0?Jo(e._root,t):e._root}function Jo(e,t){return e=Me(e),z(e._path)===null?K$("child","path",t,!1):w1("child","path",t,!1),new jn(e._repo,fe(e._path,t))}function N1(e,t){e=Me(e),E1("push",e._path),b1("push",t,e._path,!0);let n=D1(e._repo),i=fG(n),r=Jo(e,i),o=Jo(e,i),s;return t!=null?s=A1(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function A1(e,t){e=Me(e),E1("set",e._path),b1("set",t,e._path,!1);let n=new yt;return rG(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function R1(e,t){Y$("update",t,e._path,!1);let n=new yt;return oG(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function O1(e){e=Me(e);let t=new Mv(()=>{}),n=new Av(t);return iG(e._repo,e,n).then(i=>new jd(i,new jn(e._repo,e._path),e._queryParams.getIndex()))}var Av=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new Tv("value",this,new jd(t.snapshotNode,new jn(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Sv(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};v$(jn);D$(jn);var pG="FIREBASE_DATABASE_EMULATOR_HOST",Rv={},gG=!1;function mG(e,t,n,i){e.repoInfo_=new Ed(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}function _G(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ae("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=yS(o,r),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[pG]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=yS(o,r),a=s.repoInfo):c=!s.repoInfo.secure;let u=r&&c?new Ua(Ua.OWNER):new U_(e.name,e.options,t);Z$("Invalid Firebase Database URL",s),W(s.path)||Bn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=yG(a,e,u,new j_(e,n));return new Ov(d,e)}function vG(e,t){let n=Rv[t];(!n||n[e.key]!==e)&&Bn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),aG(e),delete n[e.key]}function yG(e,t,n,i){let r=Rv[t.name];r||(r={},Rv[t.name]=r);let o=r[e.toURLString()];return o&&Bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Cv(e,gG,n,i),r[e.toURLString()]=o,o}var Ov=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jn(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(vG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Bn("Cannot call "+t+" on a deleted database.")}};function k1(e=dr(),t){let n=xo(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let i=lI("database");i&&P1(n,...i)}return n}function P1(e,t,n,i={}){e=Me(e),e._checkNotDeleted("useEmulator");let r=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(r===e._repoInternal.repoInfo_.host&&dn(i,o.repoInfo_.emulatorOptions))return;Bn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ua(Ua.OWNER);else if(i.mockUserToken){let a=typeof i.mockUserToken=="string"?i.mockUserToken:uI(i.mockUserToken,e.app.options.projectId);s=new Ua(a)}mG(o,r,i,s)}function bG(e){BU(pi),Ut(new Ue("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return _G(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),he($T,GT,e),he($T,GT,"esm2017")}Vv.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Vv.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};bG();var Tr=class{constructor(t){return t}},x1="database",ry=class{constructor(){return Lo(x1)}};var oy=new E("angularfire2.database-instances");function wG(e,t){let n=Ea(x1,e,t);return n&&new Tr(n)}function EG(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new Tr(i)}}var DG={provide:ry,deps:[[new Ke,oy]]},CG={provide:Tr,useFactory:wG,deps:[[new Ke,oy],xn]};function tX(e,...t){return he("angularfire",gi.full,"rtdb"),Xt([CG,DG,{provide:oy,useFactory:EG(e),multi:!0,deps:[G,se,mi,fr,[new Ke,Pa],[new Ke,Vo],...t]}])}var F1=et(O1,!0),nX=et(k1,!0);var L1=et(N1,!0,2);var Kd=et(M1,!0,2);var V1=et(R1,!0,2);var lX=(()=>{class e{constructor(n){this.db=n,this.Auth=m(vr)}signUp(n,i){return p(this,null,function*(){try{return yield jT(this.Auth,n,i)}catch(r){throw r}})}signIn(n,i){return p(this,null,function*(){try{return yield UT(this.Auth,n,i)}catch(r){throw r}})}signOut(){return p(this,null,function*(){try{yield HT(this.Auth)}catch(n){throw n}})}addItem(n){return p(this,null,function*(){try{let i;return i=Kd(this.db,"items/"),yield L1(i,n),i}catch(i){throw i}})}updateItem(n,i){return p(this,null,function*(){try{let r=Kd(this.db,"items/"+n);yield V1(r,i)}catch(r){throw r}})}getItems(){return p(this,null,function*(){try{if(!this.Auth.currentUser)throw new Error("User is not authenticated");let i=Kd(this.db,"items/"),r=yield F1(i);if(r.exists()){let o=r.val();return Object.keys(o).map(s=>v({id:s},o[s]))}else return[]}catch(n){throw n}})}static{this.\u0275fac=function(i){return new(i||e)(T(Tr))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var hX=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Nt({type:e,selectors:[["app-loader"]],decls:7,vars:0,consts:[[1,"container"],["width","0","height","0",1,"svg"],["id","uib-jelly-ooze"],["in","SourceGraphic","stdDeviation","5","result","blur"],["in","blur","mode","matrix","values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7","result","ooze"],["in","SourceGraphic","in2","ooze"]],template:function(i,r){i&1&&(Rn(0,"div",0),Mb(),ot(1,"svg",1)(2,"defs")(3,"filter",2),Rn(4,"feGaussianBlur",3)(5,"feColorMatrix",4)(6,"feBlend",5),st()()())},styles:['.container[_ngcontent-%COMP%]{--uib-size: 40px;--uib-color: #555555;--uib-speed: .9s;position:relative;margin-top:2rem;margin-bottom:2rem;height:calc(var(--uib-size) / 2);width:var(--uib-size);filter:url(#uib-jelly-ooze);animation:_ngcontent-%COMP%_rotate calc(var(--uib-speed) * 2) linear infinite;will-change:transform}.container[_ngcontent-%COMP%]:before, .container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0%;left:25%;width:50%;height:100%;background-color:var(--uib-color);border-radius:100%;will-change:transform;transition:background-color .3s ease}.container[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_shift-left var(--uib-speed) ease infinite}.container[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_shift-right var(--uib-speed) ease infinite}.svg[_ngcontent-%COMP%]{width:0;height:0;position:absolute}@keyframes _ngcontent-%COMP%_rotate{0%,49.999%,to{transform:none}50%,99.999%{transform:rotate(90deg)}}@keyframes _ngcontent-%COMP%_shift-left{0%,to{transform:translate(0)}50%{transform:scale(.65) translate(-75%)}}@keyframes _ngcontent-%COMP%_shift-right{0%,to{transform:translate(0)}50%{transform:scale(.65) translate(75%)}}']})}}return e})();var pX=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=Nt({type:e,selectors:[["app-loading"]],decls:7,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center","gap-3"],[1,"containerr"],[1,"bar"]],template:function(i,r){i&1&&(ot(0,"div",0)(1,"div",1),Rn(2,"div",2)(3,"div",2)(4,"div",2)(5,"div",2),st(),Bl(6,` Loading...
`),st())},styles:[".containerr[_ngcontent-%COMP%]{--uib-size: 24px;--uib-color: #565454;--uib-speed: 1s;--uib-stroke: 3.5px;display:flex;align-items:center;justify-content:space-between;width:var(--uib-size);height:18px}.bar[_ngcontent-%COMP%]{width:var(--uib-stroke);height:100%;background-color:var(--uib-color);transition:background-color .3s ease}.bar[_ngcontent-%COMP%]:nth-child(1){animation:_ngcontent-%COMP%_grow var(--uib-speed) ease-in-out calc(var(--uib-speed) * -.45) infinite}.bar[_ngcontent-%COMP%]:nth-child(2){animation:_ngcontent-%COMP%_grow var(--uib-speed) ease-in-out calc(var(--uib-speed) * -.3) infinite}.bar[_ngcontent-%COMP%]:nth-child(3){animation:_ngcontent-%COMP%_grow var(--uib-speed) ease-in-out calc(var(--uib-speed) * -.15) infinite}.bar[_ngcontent-%COMP%]:nth-child(4){animation:_ngcontent-%COMP%_grow var(--uib-speed) ease-in-out infinite}@keyframes _ngcontent-%COMP%_grow{0%,to{transform:scaleY(.3)}50%{transform:scaleY(1)}}"]})}}return e})();export{p as a,b,J as c,E as d,m as e,Ke as f,Xt as g,Qe as h,gb as i,mb as j,Mb as k,q5 as l,se as m,G as n,_e as o,Mn as p,Y5 as q,Ns as r,ti as s,R as t,Nt as u,X as v,Z as w,po as x,mt as y,ks as z,Xp as A,ot as B,st as C,Rn as D,IE as E,Ps as F,At as G,Zi as H,eg as I,tg as J,SE as K,Bl as L,ig as M,rg as N,eP as O,r6 as P,tP as Q,sP as R,aP as S,AP as T,UE as U,RP as V,HE as W,Kl as X,XP as Y,sx as Z,Ug as _,ln as $,UD as aa,LF as ba,VF as ca,lC as da,eC as ea,B9 as fa,j9 as ga,Fu as ha,mL as ia,MC as ja,yL as ka,H9 as la,wL as ma,DL as na,TL as oa,$9 as pa,G9 as qa,tV as ra,$7 as sa,GC as ta,dm as ua,WC as va,G7 as wa,W7 as xa,z7 as ya,XC as za,Y7 as Aa,lI as Ba,uI as Ca,Ku as Da,pI as Ea,X7 as Fa,Lt as Ga,Vt as Ha,dn as Ia,EV as Ja,Me as Ka,Ue as La,ne as Ma,hn as Na,TI as Oa,aZ as Pa,Ut as Qa,xo as Ra,Xe as Sa,pi as Ta,dr as Ua,he as Va,gi as Wa,Ea as Xa,Lo as Ya,mi as Za,et as _a,xn as $a,fr as ab,UZ as bb,HZ as cb,Vo as db,Pa as eb,oJ as fb,sJ as gb,tX as hb,nX as ib,lX as jb,hX as kb,pX as lb};
